2023-08-03 17:04:58,903 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-03 17:04:58,906 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-03 17:04:58,915 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-03 17:04:58,917 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-03 17:04:58,926 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-03 17:04:58,957 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-03 17:04:58,965 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-03 17:04:58,996 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-03 17:04:58,998 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-03 17:04:59,007 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-03 17:04:59,009 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-03 17:04:59,040 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-03 17:04:59,049 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-03 17:04:59,061 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-03 17:04:59,065 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-03 17:04:59,074 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-03 17:04:59,077 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-03 17:04:59,084 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-03 17:04:59,093 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-03 17:04:59,102 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-03 17:04:59,110 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-03 17:04:59,118 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-03 17:04:59,119 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-03 17:04:59,128 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-03 17:04:59,131 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-03 17:04:59,145 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-03 17:04:59,979 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-03 17:04:59,979 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-03 17:05:01,618 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:01,618 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-03 17:05:01,647 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:01,648 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-03 17:05:01,704 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-03 17:05:01,710 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:01,710 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-03 17:05:01,766 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-03 17:05:01,770 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:01,771 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-03 17:05:01,776 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:01,777 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-03 17:05:02,063 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-03 17:05:02,076 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-03 17:05:04,128 - bigdata_deploy_logger - INFO - fatal: [sdp2]: UNREACHABLE! => {"changed": false, "msg": "Invalid/incorrect password: Permission denied, please try again.\r\nPermission denied, please try again.\r\nPermission denied (publickey,gssapi-keyex,gssapi-with-mic,password).", "unreachable": true}
2023-08-03 17:05:04,131 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:04,131 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-03 17:05:04,185 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-03 17:05:04,192 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-03 17:05:04,196 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:04,196 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-03 17:05:04,252 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-03 17:05:04,258 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-03 17:05:04,262 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:04,263 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-03 17:05:04,317 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-03 17:05:04,322 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-03 17:05:04,325 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:04,325 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-03 17:05:04,351 - bigdata_deploy_logger - INFO - 
2023-08-03 17:05:04,352 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:42:58,943 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 15:42:58,945 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-04 15:42:58,955 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 15:42:58,956 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-04 15:42:58,965 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 15:42:58,997 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-04 15:42:59,006 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 15:42:59,037 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-04 15:42:59,039 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-04 15:42:59,047 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-04 15:42:59,048 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-04 15:42:59,079 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-04 15:42:59,083 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-04 15:42:59,093 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 15:42:59,096 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-04 15:42:59,104 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-04 15:42:59,107 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-04 15:42:59,114 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 15:42:59,123 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 15:42:59,132 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-04 15:42:59,139 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 15:42:59,142 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-04 15:42:59,149 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 15:42:59,150 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-04 15:42:59,159 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 15:42:59,161 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-04 15:42:59,175 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-04 15:43:00,010 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-04 15:43:00,010 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-04 15:43:01,693 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:01,694 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 15:43:01,724 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:01,725 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 15:43:01,778 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:43:01,784 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:01,785 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 15:43:01,836 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:43:01,843 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:01,843 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 15:43:01,849 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:01,849 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 15:43:02,143 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:02,151 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:02,200 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:02,201 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:02,201 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 15:43:02,259 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:43:02,264 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:43:02,265 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:43:02,273 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:02,273 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 15:43:02,330 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:43:02,331 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:43:02,337 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:43:02,344 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:02,345 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 15:43:02,401 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:43:02,402 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:43:02,409 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:43:02,416 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:02,417 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-04 15:43:02,445 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:02,446 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:43:08,494 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:18,570 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:18,616 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:18,628 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:18,629 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-04 15:43:19,430 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:19,487 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:19,524 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:19,541 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:19,542 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-04 15:43:19,597 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-04 15:43:19,597 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-04 15:43:19,597 - bigdata_deploy_logger - INFO - }
2023-08-04 15:43:19,621 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-04 15:43:19,621 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-04 15:43:19,621 - bigdata_deploy_logger - INFO - }
2023-08-04 15:43:19,642 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-04 15:43:19,642 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-04 15:43:19,642 - bigdata_deploy_logger - INFO - }
2023-08-04 15:43:19,659 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:19,660 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-04 15:43:19,705 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:43:19,730 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:43:19,750 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:43:19,769 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:19,769 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-04 15:43:19,843 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-04 15:43:19,869 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-04 15:43:19,888 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-04 15:43:19,933 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:19,934 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-04 15:43:20,696 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:20,757 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:20,819 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:20,835 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:20,836 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-04 15:43:21,382 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:21,497 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:21,634 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:21,652 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:21,652 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-04 15:43:23,869 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:24,257 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:24,728 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:24,745 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:24,745 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-04 15:43:25,726 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-04 15:43:25,727 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-04 15:43:25,727 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-04 15:43:25,728 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:26,066 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:26,169 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:26,181 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:26,182 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-04 15:43:27,447 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:27,799 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:27,887 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:27,900 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:27,900 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-04 15:43:29,080 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:29,727 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:29,936 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:29,948 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:29,948 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-04 15:43:30,871 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:30,947 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:31,007 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:31,019 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:31,019 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-04 15:43:32,005 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:32,365 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:32,468 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:32,484 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:32,484 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-04 15:43:34,040 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:35,139 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:35,266 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:35,282 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:35,282 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-04 15:43:35,391 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-04 15:43:35,425 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:35,425 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-04 15:43:37,702 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:37,922 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:37,948 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:38,013 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:38,013 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-04 15:43:38,711 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:38,766 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:38,902 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:39,028 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:39,028 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-04 15:43:40,520 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:43:41,274 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:43:41,587 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:43:41,659 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:41,659 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-04 15:43:44,407 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:44,569 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:44,872 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:44,944 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:44,944 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-04 15:43:45,769 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:46,286 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:46,420 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:46,487 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:46,487 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-04 15:43:46,577 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:43:46,649 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:43:46,662 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:43:46,732 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:46,732 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-04 15:43:47,565 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:48,028 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:48,158 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:48,229 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:48,229 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-04 15:43:49,091 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-04 15:43:49,091 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-04 15:43:49,092 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-04 15:43:49,092 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-04 15:43:49,092 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:49,561 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:49,687 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:49,754 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:49,755 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-04 15:43:50,553 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:51,058 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:51,176 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:51,257 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:51,257 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-04 15:43:52,534 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-04 15:43:53,348 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-04 15:43:53,497 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-04 15:43:53,577 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:53,577 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-04 15:43:54,529 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-04 15:43:54,920 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-04 15:43:55,077 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-04 15:43:55,158 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:55,158 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-04 15:43:56,022 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:43:56,477 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:43:56,549 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:43:56,629 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:56,629 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-04 15:43:57,586 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-04 15:43:57,592 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-04 15:43:57,659 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-04 15:43:58,225 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-04 15:43:58,310 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-04 15:43:58,526 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-04 15:43:58,883 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-04 15:43:59,035 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-04 15:43:59,375 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-04 15:43:59,453 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:59,453 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-04 15:43:59,552 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:43:59,625 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:43:59,646 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:43:59,714 - bigdata_deploy_logger - INFO - 
2023-08-04 15:43:59,714 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-04 15:44:00,326 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:44:00,379 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:44:00,537 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:44:00,616 - bigdata_deploy_logger - INFO - 
2023-08-04 15:44:00,617 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-04 15:44:00,717 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-04 15:44:00,794 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-04 15:44:00,815 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-04 15:44:00,889 - bigdata_deploy_logger - INFO - 
2023-08-04 15:44:00,889 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-04 15:44:00,978 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-04 15:44:01,058 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-04 15:44:01,075 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-04 15:44:01,159 - bigdata_deploy_logger - INFO - 
2023-08-04 15:44:01,159 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-04 15:44:01,924 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-04 15:44:01,955 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-04 15:44:02,088 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-04 15:44:02,485 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-04 15:44:02,488 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-04 15:44:02,489 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-04 15:44:02,489 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-04 15:44:02,495 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-04 15:44:02,808 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-04 15:44:02,880 - bigdata_deploy_logger - INFO - 
2023-08-04 15:44:02,880 - bigdata_deploy_logger - INFO - TASK [common : yum clean repo] *************************************************
2023-08-04 15:44:04,001 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-04 15:44:04,002 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-04 15:44:04,002 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-04 15:44:04,002 - bigdata_deploy_logger - INFO - this message.
2023-08-04 15:44:04,002 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:44:04,371 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:44:04,545 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:44:04,625 - bigdata_deploy_logger - INFO - 
2023-08-04 15:44:04,625 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-04 15:44:05,932 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-04 15:44:06,406 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-04 15:44:06,548 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-04 15:44:06,629 - bigdata_deploy_logger - INFO - 
2023-08-04 15:44:06,629 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-04 15:44:06,952 - bigdata_deploy_logger - INFO - 
2023-08-04 15:44:06,952 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-04 15:44:48,433 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:45:05,520 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:45:13,352 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:45:13,429 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:13,429 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-04 15:45:14,285 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:14,376 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:14,482 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:14,554 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:14,554 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-04 15:45:16,023 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:16,790 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:17,145 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:45:17,216 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:17,216 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-04 15:45:17,307 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:45:17,398 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:45:19,876 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:45:19,945 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:19,945 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-04 15:45:21,518 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:45:23,291 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:45:23,384 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:45:23,465 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:23,465 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-04 15:45:24,838 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:45:26,098 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:45:26,207 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:45:26,286 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:26,286 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-04 15:45:35,236 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.285669", "end": "2023-08-04 07:45:35.123706", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 07:45:26.838037", "stderr": " 4 Aug 07:45:35 ntpdate[57835]: no server suitable for synchronization found", "stderr_lines": [" 4 Aug 07:45:35 ntpdate[57835]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-04 15:45:35,237 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 15:45:35,696 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.705305", "end": "2023-08-04 07:45:35.611435", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 07:45:26.906130", "stderr": " 4 Aug 07:45:35 ntpdate[20791]: no server suitable for synchronization found", "stderr_lines": [" 4 Aug 07:45:35 ntpdate[20791]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-04 15:45:35,696 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 15:45:35,816 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.712356", "end": "2023-08-04 07:45:35.700967", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 07:45:26.988611", "stderr": " 4 Aug 07:45:35 ntpdate[90980]: no server suitable for synchronization found", "stderr_lines": [" 4 Aug 07:45:35 ntpdate[90980]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-04 15:45:35,817 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 15:45:35,932 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:35,932 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-04 15:45:36,785 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:45:37,277 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:45:37,359 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:45:37,437 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:37,437 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-04 15:45:38,881 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:39,682 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:39,860 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:39,925 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:39,925 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-04 15:45:40,353 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-04 15:45:40,361 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-04 15:45:40,368 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-04 15:45:40,470 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:40,471 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:40,556 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:40,621 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:40,641 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:40,702 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:40,703 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:40,785 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:40,849 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:40,869 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:40,932 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:40,932 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:41,013 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:41,095 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:41,110 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:41,195 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:41,195 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-04 15:45:42,141 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-04 15:45:42,141 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-04 15:45:42,142 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-04 15:45:42,142 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-04 15:45:42,142 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:42,521 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:42,629 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:42,701 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:42,702 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-04 15:45:43,531 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:44,060 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:44,114 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:44,193 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:44,193 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-04 15:45:44,295 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:44,373 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:44,395 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:44,466 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:44,466 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-04 15:45:44,563 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:45:44,635 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:45:44,647 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:45:44,715 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:44,715 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-04 15:45:44,796 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:45:44,862 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:45:44,871 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:45:44,990 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:44,990 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:45,075 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:45,144 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:45,162 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:45,234 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:45,235 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:45,317 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:45,385 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:45,404 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:45,473 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:45,474 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:45,556 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:45,626 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:45,649 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:45,722 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:45,722 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-04 15:45:46,610 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:47,103 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:47,271 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:47,348 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:47,348 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-04 15:45:48,163 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:48,740 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:48,795 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:48,866 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:48,866 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-04 15:45:48,954 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:49,026 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:49,051 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:49,125 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:49,126 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-04 15:45:49,212 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:45:49,284 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:45:49,296 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:45:49,370 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:49,370 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-04 15:45:49,456 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:45:49,525 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:45:49,537 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:45:49,607 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:49,608 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:49,693 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:49,820 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:49,840 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:49,911 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:49,912 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:49,997 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:50,070 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:50,090 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:50,161 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:50,161 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 15:45:50,254 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:50,329 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:50,349 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:50,421 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:50,421 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-04 15:45:51,322 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:51,840 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:51,877 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:51,949 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:51,949 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-04 15:45:52,797 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:53,237 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:53,345 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:53,420 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:53,421 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-04 15:45:53,521 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:45:53,598 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:45:53,620 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:45:53,695 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:53,696 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-04 15:45:53,777 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:45:53,844 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:45:53,853 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:45:53,925 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:53,926 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-04 15:45:54,003 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:45:54,067 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:45:54,079 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:45:54,084 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:54,085 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-04 15:45:54,162 - bigdata_deploy_logger - INFO - 
2023-08-04 15:45:54,162 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:46:10,789 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:46:10,864 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:10,864 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-04 15:46:10,930 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-04 15:46:11,009 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:11,009 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-04 15:46:11,036 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:11,121 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:11,122 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-04 15:46:23,788 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-04 15:46:23,868 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:23,868 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-04 15:46:26,346 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:26,421 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:26,421 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-04 15:46:27,166 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:27,249 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:27,249 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-04 15:46:27,956 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:28,039 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:28,039 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-04 15:46:28,753 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:28,844 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:28,844 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-04 15:46:28,869 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:28,951 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:28,951 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-04 15:46:28,975 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:28,977 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-04 15:46:28,977 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:28,978 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-04 15:46:31,267 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:31,336 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:31,336 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-04 15:46:32,875 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:46:32,962 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:32,962 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-04 15:46:35,753 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:35,824 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:35,825 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-04 15:46:35,950 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 15:46:36,025 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:36,025 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-04 15:46:36,062 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:46:36,136 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:36,137 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-04 15:46:37,646 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:37,775 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:37,776 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 15:46:37,803 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:37,879 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:37,879 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-04 15:46:39,605 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:39,687 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:39,688 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 15:46:39,717 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:39,802 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:39,802 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-04 15:46:39,915 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 15:46:39,991 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:39,991 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-04 15:46:40,793 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:40,873 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:40,873 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-04 15:46:40,986 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 15:46:41,118 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:41,118 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-04 15:46:41,151 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:46:41,246 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:41,246 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-04 15:46:42,764 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:42,840 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:42,840 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 15:46:42,863 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:42,940 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:42,940 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-04 15:46:44,623 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:44,712 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:44,712 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 15:46:44,737 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:44,824 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:44,825 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-04 15:46:44,938 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 15:46:45,020 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:45,021 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-04 15:46:45,781 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:45,855 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:45,855 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-04 15:46:46,004 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 15:46:46,078 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:46,078 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-04 15:46:46,114 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:46:46,194 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:46,194 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-04 15:46:47,647 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:47,716 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:47,716 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 15:46:47,743 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:47,826 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:47,827 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-04 15:46:49,565 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:49,642 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:49,642 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 15:46:49,667 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:49,807 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:49,808 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-04 15:46:49,960 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 15:46:50,029 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:50,029 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-04 15:46:50,786 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:50,857 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:50,857 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-04 15:46:50,957 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 15:46:51,043 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:51,043 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-04 15:46:51,081 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:46:51,168 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:51,168 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-04 15:46:52,784 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:52,866 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:52,867 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 15:46:52,894 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:52,982 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:52,982 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-04 15:46:54,725 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:54,793 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:54,793 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 15:46:54,818 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:46:54,889 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:54,889 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-04 15:46:54,986 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 15:46:55,051 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:55,051 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-04 15:46:55,833 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:55,835 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:55,835 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-04 15:46:58,240 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:46:58,245 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:58,245 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-04 15:46:58,324 - bigdata_deploy_logger - INFO - 
2023-08-04 15:46:58,324 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:47:03,993 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:47:14,030 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:47:14,267 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:47:14,345 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:14,345 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-04 15:47:14,438 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-04 15:47:14,512 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-04 15:47:14,553 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-04 15:47:14,626 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:14,626 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-04 15:47:14,714 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:47:14,833 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:14,849 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:47:14,918 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:14,918 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-04 15:47:15,010 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:47:15,083 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:15,096 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:47:15,100 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:15,101 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-04 15:47:15,176 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:15,176 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:47:30,854 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:47:30,933 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:30,933 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-04 15:47:30,981 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-04 15:47:31,063 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,063 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-04 15:47:31,090 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,167 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,167 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-04 15:47:31,189 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,269 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,269 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-04 15:47:31,289 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,416 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,416 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-04 15:47:31,440 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,517 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,517 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-04 15:47:31,538 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,613 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,613 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-04 15:47:31,634 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,708 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,708 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-04 15:47:31,727 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,803 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,803 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-04 15:47:31,821 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,896 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,896 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-04 15:47:31,918 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:31,995 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:31,995 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-04 15:47:32,016 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:32,021 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:32,021 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 15:47:32,026 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:32,026 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 15:47:32,049 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:47:32,054 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:32,055 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 15:47:32,074 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:47:32,077 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:32,078 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 15:47:32,153 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:32,154 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 15:47:32,342 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:47:32,383 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:47:32,425 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:47:32,501 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:32,502 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 15:47:32,593 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:47:32,668 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:32,688 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:47:32,761 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:32,762 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 15:47:32,853 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:47:32,986 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:33,007 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:47:33,080 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:33,081 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 15:47:33,170 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:47:33,246 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:47:33,267 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:47:33,275 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:33,276 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-04 15:47:33,348 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:33,349 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:47:38,901 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:47:48,870 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:47:49,077 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:47:49,136 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:49,137 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-04 15:47:49,877 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:47:49,990 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:47:50,034 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:47:50,116 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:50,116 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-04 15:47:51,054 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:47:51,539 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:47:51,620 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:47:51,698 - bigdata_deploy_logger - INFO - 
2023-08-04 15:47:51,699 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-04 15:48:02,307 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:48:03,753 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:06,339 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:48:06,417 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:06,417 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-04 15:48:07,148 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:48:07,180 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:48:07,296 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:07,379 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:07,379 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-04 15:48:08,183 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:48:08,220 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:48:08,240 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:08,368 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:08,369 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-04 15:48:09,191 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:48:09,196 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:09,305 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:48:09,371 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:09,371 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-04 15:48:10,057 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:48:10,076 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:48:10,189 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:10,190 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:10,190 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-04 15:48:11,266 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:48:11,745 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:48:11,802 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:48:11,802 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:11,802 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-04 15:48:15,585 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:48:16,292 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:48:16,808 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:16,874 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:16,874 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-04 15:48:17,869 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:48:18,235 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:48:18,435 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:48:18,501 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:18,501 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-04 15:48:19,638 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:48:20,448 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:48:20,652 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:48:20,657 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:20,658 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-04 15:48:20,783 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:20,784 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:48:36,503 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:48:36,570 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:36,570 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-04 15:48:36,624 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-04 15:48:36,697 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:36,698 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-04 15:48:57,203 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:57,282 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:57,282 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-04 15:48:58,612 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.590993", "end": "2023-08-04 07:48:58.511348", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 07:48:57.920355", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-04 15:48:58,613 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 15:48:58,697 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:58,697 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-04 15:48:59,595 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:48:59,679 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:59,680 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-04 15:48:59,699 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:48:59,780 - bigdata_deploy_logger - INFO - 
2023-08-04 15:48:59,781 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-04 15:49:00,486 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:49:00,567 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:00,568 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-04 15:49:04,775 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-04 15:49:09,388 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-04 15:49:09,394 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:09,394 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-04 15:49:11,018 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:49:11,101 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:11,101 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-04 15:49:11,131 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-04 15:49:11,293 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:11,293 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-04 15:49:11,315 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:11,462 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:11,462 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-04 15:49:11,482 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:11,597 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:11,597 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-04 15:49:11,620 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:11,686 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:11,686 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-04 15:49:20,960 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-04 15:49:21,044 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:21,044 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-04 15:49:23,328 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:49:23,412 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:23,412 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-04 15:49:23,434 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:23,520 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:23,520 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-04 15:49:23,541 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:23,629 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:23,629 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-04 15:49:25,225 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:49:25,305 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:25,305 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-04 15:49:25,338 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:49:25,472 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:25,472 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-04 15:49:25,495 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:49:25,576 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:25,576 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-04 15:49:28,824 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:49:28,909 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:28,910 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-04 15:49:29,634 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:49:29,720 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:29,721 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-04 15:49:30,481 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:49:30,481 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:30,481 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-04 15:49:49,472 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:49:49,472 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:49,473 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-04 15:49:51,416 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:49:51,499 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:51,499 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-04 15:49:53,066 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:49:53,139 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:53,139 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-04 15:49:55,230 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:49:55,237 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:55,238 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 15:49:55,243 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:55,244 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 15:49:55,269 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:49:55,275 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:55,275 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 15:49:55,297 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:49:55,303 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:55,303 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 15:49:55,384 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:55,384 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 15:49:55,622 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:49:55,665 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:49:55,831 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:49:55,906 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:55,906 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 15:49:56,045 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:49:56,114 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:56,136 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:49:56,205 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:56,205 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 15:49:56,287 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:49:56,356 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:56,377 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:49:56,443 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:56,443 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 15:49:56,528 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:49:56,597 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:49:56,613 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:49:56,618 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:56,618 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-04 15:49:56,687 - bigdata_deploy_logger - INFO - 
2023-08-04 15:49:56,688 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:50:03,168 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:50:12,236 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:50:12,506 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:50:12,516 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:12,516 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-04 15:50:12,591 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:12,591 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:50:28,324 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:50:28,405 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:28,405 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-04 15:50:28,453 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-04 15:50:28,540 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:28,540 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-04 15:50:29,233 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:50:29,315 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:29,315 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-04 15:50:29,341 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:50:29,424 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:29,425 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-04 15:50:30,679 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:50:30,756 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:30,756 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-04 15:50:30,783 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:50:30,868 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:30,868 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-04 15:50:31,095 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:50:31,177 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:31,177 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-04 15:50:32,024 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:50:32,098 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:32,098 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-04 15:50:33,488 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-04 15:50:34,396 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-04 15:50:35,209 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-04 15:50:35,229 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:35,229 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-04 15:50:49,715 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:50:49,716 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:49,716 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-04 15:50:51,588 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:50:51,594 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:51,594 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 15:50:51,599 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:51,600 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 15:50:51,628 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:50:51,632 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:51,633 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 15:50:51,660 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 15:50:51,664 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:51,665 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 15:50:51,745 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:51,745 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 15:50:51,939 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 15:50:51,970 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 15:50:52,020 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 15:50:52,104 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:52,105 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 15:50:52,202 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:50:52,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:50:52,296 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:50:52,362 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:52,362 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 15:50:52,492 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:50:52,561 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:50:52,580 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:50:52,654 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:52,654 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 15:50:52,736 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 15:50:52,805 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:50:52,823 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 15:50:52,832 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:52,832 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-04 15:50:52,899 - bigdata_deploy_logger - INFO - 
2023-08-04 15:50:52,899 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:50:58,319 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 15:51:08,507 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 15:51:08,742 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:08,745 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:08,745 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-04 15:51:08,815 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:08,815 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 15:51:24,454 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:24,533 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:24,533 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-04 15:51:24,580 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-04 15:51:24,666 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:24,666 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-04 15:51:26,013 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:26,100 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:26,101 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-04 15:51:26,127 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:51:26,212 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:26,212 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-04 15:51:26,284 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:26,418 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:26,419 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-04 15:51:26,443 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:51:26,528 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:26,528 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-04 15:51:26,571 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:26,658 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:26,659 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-04 15:51:26,685 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 15:51:26,771 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:26,771 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-04 15:51:27,563 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:27,635 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:27,636 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-04 15:51:28,554 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:28,625 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:28,625 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-04 15:51:29,566 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:29,632 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:29,632 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-04 15:51:35,014 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 15:51:35,148 - bigdata_deploy_logger - INFO - 
2023-08-04 15:51:35,148 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-04 15:51:36,265 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-04 15:51:47,141 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-04 15:51:58,097 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-04 15:52:08,882 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-04 15:52:19,643 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-04 15:52:30,477 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-04 15:52:41,312 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-04 15:52:52,164 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-04 15:53:02,964 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-04 15:53:13,821 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-04 15:53:24,670 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-04 15:53:35,553 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-04 15:53:46,325 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-04 15:53:57,124 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-04 15:54:07,904 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-04 15:54:18,653 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-04 15:54:29,431 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-04 15:54:40,223 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-04 15:54:51,130 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-04 15:55:01,897 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-04 15:55:12,720 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-04 15:55:23,503 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-04 15:55:34,327 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-04 15:55:45,136 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-04 15:55:55,921 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-04 15:56:06,791 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-04 15:56:17,609 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-04 15:56:28,453 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-04 15:56:39,202 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-04 15:56:50,019 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-04 15:57:00,852 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-04 15:57:11,665 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-04 15:57:22,479 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-04 15:57:33,260 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-04 15:57:44,087 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-04 15:57:54,932 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-04 15:58:05,752 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-04 15:58:16,579 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-04 15:58:27,376 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-04 15:58:38,214 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-04 15:58:49,055 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-04 15:58:59,905 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-04 15:59:10,740 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-04 15:59:21,579 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-04 15:59:32,380 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-04 15:59:43,129 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-04 15:59:53,938 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-04 16:00:04,720 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-04 16:00:15,499 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-04 16:00:26,297 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-04 16:00:37,197 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-04 16:00:48,031 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-04 16:00:59,067 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-04 16:01:09,876 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-04 16:01:20,648 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-04 16:01:31,475 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-04 16:01:42,279 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-04 16:01:53,085 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-04 16:02:04,070 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-04 16:02:14,881 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-04 16:02:25,728 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-04 16:02:36,530 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-04 16:02:47,310 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-04 16:02:58,150 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-04 16:03:08,936 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-04 16:03:19,760 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-04 16:03:30,568 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-04 16:03:41,593 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-04 16:03:52,424 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-04 16:04:03,263 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-04 16:04:14,081 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-04 16:04:24,906 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-04 16:04:35,715 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-04 16:04:46,515 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-04 16:04:57,289 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-04 16:05:08,103 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-04 16:05:18,961 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-04 16:05:29,844 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-04 16:05:40,681 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-04 16:05:51,442 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-04 16:06:02,217 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-04 16:06:13,012 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-04 16:06:23,881 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-04 16:06:34,679 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-04 16:06:45,463 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-04 16:06:56,275 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-04 16:07:07,115 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-04 16:07:17,905 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-04 16:07:28,743 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-04 16:07:39,649 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-04 16:07:50,493 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-04 16:08:01,317 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-04 16:08:12,116 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-04 16:08:23,037 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-04 16:08:33,901 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-04 16:08:44,760 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-04 16:08:55,573 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-04 16:09:06,425 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-04 16:09:17,361 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-04 16:09:28,216 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-04 16:09:39,073 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-04 16:09:49,895 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-04 16:10:00,778 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-04 16:10:12,057 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-04 16:10:22,943 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-04 16:10:33,799 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-04 16:10:44,629 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-04 16:10:55,488 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-04 16:11:06,321 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-04 16:11:17,120 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-04 16:11:28,000 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-04 16:11:38,824 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-04 16:11:49,630 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-04 16:12:00,460 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (247 retries left).
2023-08-04 16:12:11,369 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (246 retries left).
2023-08-04 16:12:23,714 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (245 retries left).
2023-08-04 16:12:34,501 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (244 retries left).
2023-08-04 16:12:45,280 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (243 retries left).
2023-08-04 16:12:56,077 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (242 retries left).
2023-08-04 16:13:06,873 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (241 retries left).
2023-08-04 16:13:17,693 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (240 retries left).
2023-08-04 16:13:28,486 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (239 retries left).
2023-08-04 16:13:39,296 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (238 retries left).
2023-08-04 16:13:50,112 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (237 retries left).
2023-08-04 16:14:00,938 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (236 retries left).
2023-08-04 16:14:11,777 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (235 retries left).
2023-08-04 16:14:22,589 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (234 retries left).
2023-08-04 16:14:33,444 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (233 retries left).
2023-08-04 16:14:44,300 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (232 retries left).
2023-08-04 16:14:55,185 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (231 retries left).
2023-08-04 16:15:06,073 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (230 retries left).
2023-08-04 16:15:16,951 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (229 retries left).
2023-08-04 16:15:27,771 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (228 retries left).
2023-08-04 16:15:38,637 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (227 retries left).
2023-08-04 16:15:49,499 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (226 retries left).
2023-08-04 16:16:00,325 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (225 retries left).
2023-08-04 16:16:11,163 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (224 retries left).
2023-08-04 16:16:21,930 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (223 retries left).
2023-08-04 16:16:32,742 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (222 retries left).
2023-08-04 16:16:43,538 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (221 retries left).
2023-08-04 16:16:54,323 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (220 retries left).
2023-08-04 16:17:05,140 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (219 retries left).
2023-08-04 16:17:16,002 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (218 retries left).
2023-08-04 16:17:26,881 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (217 retries left).
2023-08-04 16:17:37,691 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (216 retries left).
2023-08-04 16:17:48,514 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (215 retries left).
2023-08-04 16:17:59,353 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (214 retries left).
2023-08-04 16:18:10,180 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (213 retries left).
2023-08-04 16:18:20,961 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (212 retries left).
2023-08-04 16:18:31,797 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (211 retries left).
2023-08-04 16:18:42,601 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (210 retries left).
2023-08-04 16:18:53,443 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (209 retries left).
2023-08-04 16:19:04,241 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (208 retries left).
2023-08-04 16:19:15,062 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (207 retries left).
2023-08-04 16:19:25,930 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (206 retries left).
2023-08-04 16:19:36,804 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 16:19:36,912 - bigdata_deploy_logger - INFO - 
2023-08-04 16:19:36,912 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-04 16:19:36,962 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is ABORTED."}
2023-08-04 16:19:36,962 - bigdata_deploy_logger - INFO - 
2023-08-04 16:19:36,963 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-04 16:19:36,963 - bigdata_deploy_logger - INFO - 
2023-08-04 16:19:36,963 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-04 16:19:36,964 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-04 16:19:36,964 - bigdata_deploy_logger - INFO - sdp1                       : ok=155  changed=63   unreachable=0    failed=1    skipped=60   rescued=0    ignored=2
2023-08-04 16:19:36,964 - bigdata_deploy_logger - INFO - sdp2                       : ok=78   changed=30   unreachable=0    failed=0    skipped=28   rescued=0    ignored=1
2023-08-04 16:19:36,965 - bigdata_deploy_logger - INFO - sdp3                       : ok=78   changed=30   unreachable=0    failed=0    skipped=28   rescued=0    ignored=1
2023-08-04 16:19:36,965 - bigdata_deploy_logger - INFO - 
2023-08-04 16:19:37,063 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-04 17:08:20,441 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 17:08:20,443 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-04 17:08:20,452 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 17:08:20,454 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-04 17:08:20,463 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 17:08:20,494 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-04 17:08:20,502 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 17:08:20,535 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-04 17:08:20,536 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-04 17:08:20,545 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-04 17:08:20,546 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-04 17:08:20,578 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-04 17:08:20,581 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-04 17:08:20,591 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 17:08:20,594 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-04 17:08:20,603 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-04 17:08:20,606 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-04 17:08:20,613 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 17:08:20,622 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 17:08:20,630 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-04 17:08:20,638 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 17:08:20,641 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-04 17:08:20,649 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-04 17:08:20,650 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-04 17:08:20,659 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-04 17:08:20,661 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-04 17:08:20,675 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-04 17:08:21,522 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-04 17:08:21,522 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-04 17:08:23,161 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,161 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 17:08:23,200 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,201 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 17:08:23,247 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:08:23,256 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,256 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 17:08:23,306 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:08:23,313 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,314 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 17:08:23,323 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,323 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 17:08:23,608 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:08:23,616 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:08:23,645 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:08:23,651 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,651 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 17:08:23,697 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:08:23,713 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:08:23,713 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:08:23,717 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,717 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 17:08:23,777 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:08:23,778 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:08:23,780 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:08:23,788 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,788 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 17:08:23,851 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:08:23,851 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:08:23,852 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:08:23,860 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,860 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-04 17:08:23,889 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:23,890 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:08:29,937 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:39,953 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:39,956 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:39,969 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:39,970 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-04 17:08:40,712 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:40,772 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:40,851 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:40,868 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:40,868 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-04 17:08:40,929 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-04 17:08:40,929 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-04 17:08:40,929 - bigdata_deploy_logger - INFO - }
2023-08-04 17:08:40,946 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-04 17:08:40,947 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-04 17:08:40,947 - bigdata_deploy_logger - INFO - }
2023-08-04 17:08:40,959 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-04 17:08:40,959 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-04 17:08:40,960 - bigdata_deploy_logger - INFO - }
2023-08-04 17:08:40,976 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:40,977 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-04 17:08:41,028 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:08:41,047 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:08:41,070 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:08:41,088 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:41,088 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-04 17:08:41,178 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-04 17:08:41,202 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-04 17:08:41,215 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-04 17:08:41,260 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:41,260 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-04 17:08:41,969 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:08:42,119 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:08:42,129 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:08:42,149 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:42,149 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-04 17:08:42,715 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:08:42,810 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:08:42,865 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:08:42,880 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:42,881 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-04 17:08:45,194 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:08:45,623 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:08:46,005 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:08:46,018 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:46,018 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-04 17:08:47,008 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-04 17:08:47,008 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-04 17:08:47,008 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-04 17:08:47,008 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:47,314 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:47,489 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:47,506 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:47,507 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-04 17:08:48,702 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:49,202 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:49,398 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:49,409 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:49,410 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-04 17:08:50,521 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:51,481 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:51,654 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:51,665 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:51,666 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-04 17:08:52,646 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:52,713 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:52,760 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:52,772 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:52,772 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-04 17:08:53,789 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:08:54,128 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:08:54,229 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:08:54,250 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:54,250 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-04 17:08:55,723 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:56,933 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:57,164 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:57,175 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:57,175 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-04 17:08:57,272 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-04 17:08:57,300 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:57,300 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-04 17:08:59,716 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:08:59,741 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:08:59,827 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:08:59,900 - bigdata_deploy_logger - INFO - 
2023-08-04 17:08:59,901 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-04 17:09:00,606 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:09:00,642 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:09:00,760 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:09:00,823 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:00,823 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-04 17:09:02,372 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:09:03,142 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:09:03,418 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:09:03,502 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:03,502 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-04 17:09:05,776 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:06,035 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:06,468 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:06,552 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:06,552 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-04 17:09:07,430 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:07,884 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:08,008 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:08,093 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:08,093 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-04 17:09:08,235 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:09:08,315 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:09:08,328 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:09:08,409 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:08,409 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-04 17:09:09,294 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:09,787 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:09,899 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:09,983 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:09,983 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-04 17:09:10,881 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-04 17:09:10,881 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-04 17:09:10,882 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-04 17:09:10,883 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-04 17:09:10,883 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:11,319 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:11,384 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:11,465 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:11,465 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-04 17:09:12,363 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:12,863 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:12,903 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:12,971 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:12,972 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-04 17:09:14,308 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-04 17:09:15,200 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-04 17:09:15,263 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-04 17:09:15,345 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:15,345 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-04 17:09:16,213 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-04 17:09:16,707 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-04 17:09:16,826 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-04 17:09:16,893 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:16,893 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-04 17:09:17,775 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:18,297 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:18,343 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:18,405 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:18,405 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-04 17:09:19,201 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-04 17:09:19,287 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-04 17:09:19,335 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-04 17:09:19,821 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-04 17:09:20,168 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-04 17:09:20,208 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-04 17:09:20,418 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-04 17:09:20,933 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-04 17:09:21,001 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-04 17:09:21,070 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:21,070 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-04 17:09:21,155 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:09:21,223 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:09:21,236 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:09:21,301 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:21,301 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-04 17:09:21,986 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:22,027 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:22,116 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:22,195 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:22,195 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-04 17:09:22,297 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-04 17:09:22,370 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-04 17:09:22,395 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-04 17:09:22,462 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:22,462 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-04 17:09:22,544 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-04 17:09:22,614 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-04 17:09:22,637 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-04 17:09:22,707 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:22,708 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-04 17:09:23,538 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-04 17:09:23,578 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-04 17:09:23,683 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-04 17:09:24,091 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-04 17:09:24,094 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-04 17:09:24,095 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-04 17:09:24,095 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-04 17:09:24,218 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-04 17:09:24,404 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-04 17:09:24,486 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:24,486 - bigdata_deploy_logger - INFO - TASK [common : yum clean repo] *************************************************
2023-08-04 17:09:25,489 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-04 17:09:25,490 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-04 17:09:25,490 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-04 17:09:25,490 - bigdata_deploy_logger - INFO - this message.
2023-08-04 17:09:25,491 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:09:26,000 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:09:26,181 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:09:26,248 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:26,249 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-04 17:09:27,761 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-04 17:09:28,029 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-04 17:09:28,182 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-04 17:09:28,260 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:28,260 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-04 17:09:28,532 - bigdata_deploy_logger - INFO - 
2023-08-04 17:09:28,532 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-04 17:10:09,322 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:10:25,450 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:10:35,740 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:10:35,818 - bigdata_deploy_logger - INFO - 
2023-08-04 17:10:35,818 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-04 17:10:36,647 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:10:36,849 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:10:36,875 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:10:36,958 - bigdata_deploy_logger - INFO - 
2023-08-04 17:10:36,958 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-04 17:10:38,439 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:10:39,162 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:10:39,679 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:10:39,744 - bigdata_deploy_logger - INFO - 
2023-08-04 17:10:39,745 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-04 17:10:39,823 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:10:39,912 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:10:42,514 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:10:42,645 - bigdata_deploy_logger - INFO - 
2023-08-04 17:10:42,645 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-04 17:10:44,298 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:10:46,055 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:10:46,183 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:10:46,265 - bigdata_deploy_logger - INFO - 
2023-08-04 17:10:46,265 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-04 17:10:47,636 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:10:48,964 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:10:49,098 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:10:49,176 - bigdata_deploy_logger - INFO - 
2023-08-04 17:10:49,176 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-04 17:10:58,144 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.313017", "end": "2023-08-04 09:10:58.055427", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 09:10:49.742410", "stderr": " 4 Aug 09:10:58 ntpdate[12280]: no server suitable for synchronization found", "stderr_lines": [" 4 Aug 09:10:58 ntpdate[12280]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-04 17:10:58,145 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 17:10:58,646 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.706684", "end": "2023-08-04 09:10:58.567234", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 09:10:49.860550", "stderr": " 4 Aug 09:10:58 ntpdate[128703]: no server suitable for synchronization found", "stderr_lines": [" 4 Aug 09:10:58 ntpdate[128703]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-04 17:10:58,647 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 17:10:58,787 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.736643", "end": "2023-08-04 09:10:58.673682", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 09:10:49.937039", "stderr": " 4 Aug 09:10:58 ntpdate[80756]: no server suitable for synchronization found", "stderr_lines": [" 4 Aug 09:10:58 ntpdate[80756]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-04 17:10:58,787 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 17:10:58,871 - bigdata_deploy_logger - INFO - 
2023-08-04 17:10:58,871 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-04 17:10:59,697 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:11:00,222 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:11:00,294 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:11:00,375 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:00,376 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-04 17:11:01,858 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:02,700 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:02,853 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:02,924 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:02,925 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-04 17:11:03,380 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-04 17:11:03,387 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-04 17:11:03,394 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-04 17:11:03,498 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:03,498 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:03,585 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:03,654 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:03,674 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:03,743 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:03,743 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:03,829 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:03,898 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:03,915 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:03,992 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:03,992 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:04,082 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:04,153 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:04,169 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:04,241 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:04,242 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-04 17:11:05,192 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-04 17:11:05,192 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-04 17:11:05,193 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-04 17:11:05,193 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-04 17:11:05,193 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:05,690 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:05,702 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:05,781 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:05,782 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-04 17:11:06,645 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:07,114 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:07,287 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:07,362 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:07,362 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-04 17:11:07,450 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:07,520 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:07,539 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:07,615 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:07,615 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-04 17:11:07,697 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:11:07,818 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:07,824 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:11:07,895 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:07,895 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-04 17:11:07,982 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:11:08,048 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:08,056 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:11:08,124 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:08,124 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:08,212 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:08,283 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:08,299 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:08,372 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:08,372 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:08,460 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:08,530 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:08,547 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:08,619 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:08,619 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:08,707 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:08,777 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:08,796 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:08,868 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:08,869 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-04 17:11:09,835 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:10,247 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:10,414 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:10,489 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:10,489 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-04 17:11:11,322 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:11,881 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:11,924 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:12,003 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:12,003 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-04 17:11:12,105 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:12,186 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:12,210 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:12,293 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:12,293 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-04 17:11:12,384 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:11:12,449 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:12,458 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:11:12,525 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:12,525 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-04 17:11:12,605 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:11:12,669 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:12,677 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:11:12,788 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:12,788 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:12,873 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:12,944 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:12,962 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:13,032 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:13,033 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:13,117 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:13,185 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:13,205 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:13,272 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:13,272 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-04 17:11:13,356 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:13,423 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:13,446 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:13,514 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:13,514 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-04 17:11:14,487 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:14,901 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:15,002 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:15,067 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:15,067 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-04 17:11:15,877 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:16,451 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:16,568 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:16,636 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:16,636 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-04 17:11:16,723 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:11:16,798 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:16,819 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:11:16,891 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:16,891 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-04 17:11:16,976 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:11:17,045 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:17,055 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:11:17,124 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:17,125 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-04 17:11:17,210 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:11:17,282 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:17,294 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:11:17,301 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:17,302 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-04 17:11:17,382 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:17,382 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:11:33,036 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:33,110 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:33,110 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-04 17:11:33,161 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-04 17:11:33,228 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:33,228 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-04 17:11:33,257 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:33,329 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:33,329 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-04 17:11:46,064 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-04 17:11:46,148 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:46,148 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-04 17:11:48,763 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:11:48,834 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:48,834 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-04 17:11:49,594 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:11:49,664 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:49,664 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-04 17:11:50,414 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:11:50,485 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:50,485 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-04 17:11:51,267 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:11:51,342 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:51,343 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-04 17:11:51,369 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:51,454 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:51,454 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-04 17:11:51,481 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:11:51,482 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-04 17:11:51,482 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:51,483 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-04 17:11:53,697 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:11:53,770 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:53,770 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-04 17:11:55,286 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:55,373 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:55,373 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-04 17:11:58,181 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:11:58,317 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:58,317 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-04 17:11:58,442 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 17:11:58,521 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:58,521 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-04 17:11:58,555 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:11:58,643 - bigdata_deploy_logger - INFO - 
2023-08-04 17:11:58,643 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-04 17:12:00,142 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:00,212 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:00,213 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 17:12:00,245 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:00,323 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:00,324 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-04 17:12:02,034 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:02,121 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:02,121 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 17:12:02,150 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:02,236 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:02,236 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-04 17:12:02,335 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 17:12:02,404 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:02,404 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-04 17:12:03,200 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:03,278 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:03,279 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-04 17:12:03,381 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 17:12:03,451 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:03,452 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-04 17:12:03,483 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:12:03,571 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:03,572 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-04 17:12:04,988 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:05,071 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:05,072 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 17:12:05,094 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:05,182 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:05,182 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-04 17:12:06,894 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:06,972 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:06,972 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 17:12:06,995 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:07,072 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:07,072 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-04 17:12:07,185 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 17:12:07,260 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:07,260 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-04 17:12:07,997 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:08,080 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:08,080 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-04 17:12:08,201 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 17:12:08,283 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:08,284 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-04 17:12:08,319 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:12:08,409 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:08,410 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-04 17:12:09,866 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:09,952 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:09,952 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 17:12:09,976 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:10,115 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:10,115 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-04 17:12:11,837 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:11,921 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:11,921 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 17:12:11,948 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:12,026 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:12,026 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-04 17:12:12,125 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 17:12:12,187 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:12,187 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-04 17:12:12,958 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:13,041 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:13,041 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-04 17:12:13,159 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-04 17:12:13,245 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:13,246 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-04 17:12:13,279 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:12:13,416 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:13,417 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-04 17:12:14,920 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:14,995 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:14,995 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-04 17:12:15,019 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:15,095 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:15,095 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-04 17:12:16,844 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:16,925 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:16,925 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-04 17:12:16,953 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:17,042 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:17,042 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-04 17:12:17,153 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-04 17:12:17,234 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:17,234 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-04 17:12:17,994 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:17,994 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:17,995 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-04 17:12:20,283 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:20,286 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:20,287 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-04 17:12:20,357 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:20,357 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:12:26,038 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:12:35,934 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:12:36,065 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:12:36,143 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:36,143 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-04 17:12:36,249 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-04 17:12:36,389 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-04 17:12:36,426 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-04 17:12:36,512 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:36,512 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-04 17:12:36,612 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:12:36,686 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:36,705 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:12:36,775 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:36,776 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-04 17:12:36,856 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:12:36,924 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:36,940 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:12:36,945 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:36,946 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-04 17:12:37,016 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:37,017 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:12:52,686 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:12:52,768 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:52,768 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-04 17:12:52,869 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-04 17:12:52,943 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:52,943 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-04 17:12:52,970 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,055 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,056 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-04 17:12:53,079 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,168 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,169 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-04 17:12:53,193 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,281 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,281 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-04 17:12:53,306 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,387 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,387 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-04 17:12:53,408 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,477 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,477 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-04 17:12:53,496 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,569 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,570 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-04 17:12:53,593 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,664 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,664 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-04 17:12:53,685 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,757 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,758 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-04 17:12:53,778 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,851 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,851 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-04 17:12:53,875 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:53,879 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,880 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 17:12:53,885 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,885 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 17:12:53,912 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:12:53,916 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,917 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 17:12:53,936 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:12:53,939 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:53,940 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 17:12:54,011 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:54,011 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 17:12:54,197 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:12:54,231 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:12:54,301 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:12:54,384 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:54,384 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 17:12:54,490 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:12:54,611 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:54,633 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:12:54,699 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:54,700 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 17:12:54,777 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:12:54,846 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:54,867 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:12:54,939 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:54,939 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 17:12:55,020 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:12:55,087 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:12:55,104 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:12:55,111 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:55,112 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-04 17:12:55,180 - bigdata_deploy_logger - INFO - 
2023-08-04 17:12:55,181 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:13:01,885 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:13:10,723 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:13:10,926 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:13:10,991 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:10,991 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-04 17:13:11,730 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:13:11,743 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:13:11,868 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:13:11,947 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:11,948 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-04 17:13:12,838 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:13:13,352 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:13:13,476 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:13:13,583 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:13,583 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-04 17:13:23,957 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:13:25,798 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:13:27,597 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:13:27,681 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:27,681 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-04 17:13:28,444 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:13:28,556 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:13:28,632 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:13:28,715 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:28,716 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-04 17:13:29,478 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:13:29,499 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:13:29,619 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:13:29,698 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:29,698 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-04 17:13:30,403 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:13:30,435 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:13:30,536 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:13:30,614 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:30,614 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-04 17:13:31,152 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:13:31,263 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:13:31,447 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:13:31,449 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:31,450 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-04 17:13:32,466 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:13:33,017 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:13:33,100 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:13:33,100 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:33,101 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-04 17:13:36,865 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:13:37,586 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:13:38,051 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:13:38,121 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:38,121 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-04 17:13:39,115 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:13:39,592 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:13:39,751 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:13:39,832 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:39,832 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-04 17:13:41,057 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:13:41,954 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:13:42,065 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:13:42,074 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:42,074 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-04 17:13:42,169 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:42,169 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:13:57,809 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:13:57,890 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:57,890 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-04 17:13:57,948 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-04 17:13:58,031 - bigdata_deploy_logger - INFO - 
2023-08-04 17:13:58,031 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-04 17:14:18,747 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:14:18,827 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:18,827 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-04 17:14:20,128 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.605260", "end": "2023-08-04 09:14:20.026993", "msg": "non-zero return code", "rc": 1, "start": "2023-08-04 09:14:19.421733", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-04 17:14:20,129 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-04 17:14:20,210 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:20,210 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-04 17:14:21,133 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:14:21,199 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:21,199 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-04 17:14:21,225 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:14:21,337 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:21,338 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-04 17:14:22,034 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:14:22,103 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:22,103 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-04 17:14:26,199 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-04 17:14:30,274 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-04 17:14:30,278 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:30,278 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-04 17:14:31,968 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:14:32,051 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:32,051 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-04 17:14:32,087 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-04 17:14:32,248 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:32,248 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-04 17:14:32,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:14:32,487 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:32,488 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-04 17:14:32,514 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:14:32,589 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:32,589 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-04 17:14:32,614 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:14:32,688 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:32,688 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-04 17:14:38,572 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-04 17:14:38,655 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:38,655 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-04 17:14:41,037 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:14:41,120 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:41,120 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-04 17:14:41,148 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:14:41,238 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:41,238 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-04 17:14:41,266 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:14:41,350 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:41,350 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-04 17:14:43,023 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:14:43,107 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:43,107 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-04 17:14:43,149 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:14:43,235 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:43,235 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-04 17:14:43,266 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:14:43,397 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:43,397 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-04 17:14:46,661 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:14:46,747 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:46,747 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-04 17:14:47,499 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:14:47,586 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:47,586 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-04 17:14:48,325 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:14:48,327 - bigdata_deploy_logger - INFO - 
2023-08-04 17:14:48,328 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-04 17:15:03,394 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:15:03,395 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:03,395 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-04 17:15:05,261 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:05,347 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:05,347 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-04 17:15:06,884 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:06,967 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:06,967 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-04 17:15:09,065 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:09,070 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:09,071 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 17:15:09,076 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:09,076 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 17:15:09,101 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:15:09,109 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:09,109 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 17:15:09,132 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:15:09,140 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:09,140 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 17:15:09,221 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:09,221 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 17:15:09,463 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:15:09,489 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:15:09,662 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:15:09,742 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:09,743 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 17:15:09,840 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:15:09,920 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:15:09,940 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:15:10,022 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:10,022 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 17:15:10,120 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:15:10,200 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:15:10,217 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:15:10,293 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:10,293 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 17:15:10,423 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:15:10,493 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:15:10,514 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:15:10,520 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:10,521 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-04 17:15:10,588 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:10,589 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:15:16,291 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:15:26,295 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:15:26,356 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:26,361 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:26,362 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-04 17:15:26,431 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:26,432 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:15:42,071 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:42,149 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:42,149 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-04 17:15:42,203 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-04 17:15:42,286 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:42,286 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-04 17:15:43,077 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:15:43,158 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:43,158 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-04 17:15:43,184 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:15:43,316 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:43,316 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-04 17:15:44,530 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:44,595 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:44,595 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-04 17:15:44,625 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:44,691 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:44,691 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-04 17:15:44,918 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:44,986 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:44,986 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-04 17:15:45,903 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:15:45,987 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:45,987 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-04 17:15:47,439 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-04 17:15:48,332 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-04 17:15:49,151 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-04 17:15:49,173 - bigdata_deploy_logger - INFO - 
2023-08-04 17:15:49,173 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-04 17:16:02,676 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:16:02,676 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:02,676 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-04 17:16:04,501 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:04,508 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:04,508 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-04 17:16:04,514 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:04,515 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-04 17:16:04,537 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:16:04,545 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:04,545 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-04 17:16:04,569 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-04 17:16:04,575 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:04,576 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-04 17:16:04,656 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:04,657 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-04 17:16:04,913 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-04 17:16:04,916 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-04 17:16:04,997 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-04 17:16:05,067 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:05,067 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-04 17:16:05,167 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:16:05,239 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:16:05,255 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:16:05,320 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:05,320 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-04 17:16:05,402 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:16:05,470 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:16:05,485 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:16:05,551 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:05,552 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-04 17:16:05,634 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-04 17:16:05,702 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:16:05,716 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-04 17:16:05,720 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:05,721 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-04 17:16:05,786 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:05,787 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:16:11,250 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-04 17:16:21,324 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-04 17:16:21,533 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:21,539 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:21,539 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-04 17:16:21,605 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:21,605 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-04 17:16:37,352 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:37,431 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:37,431 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-04 17:16:37,482 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-04 17:16:37,568 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:37,569 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-04 17:16:38,946 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:39,033 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:39,034 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-04 17:16:39,051 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:16:39,134 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:39,134 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-04 17:16:39,200 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:39,269 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:39,269 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-04 17:16:39,296 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:16:39,417 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:39,417 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-04 17:16:39,455 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:39,523 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:39,523 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-04 17:16:39,547 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-04 17:16:39,617 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:39,617 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-04 17:16:40,403 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:40,482 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:40,482 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-04 17:16:41,414 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:41,479 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:41,479 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-04 17:16:42,489 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:42,575 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:42,575 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-04 17:16:45,715 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:16:45,786 - bigdata_deploy_logger - INFO - 
2023-08-04 17:16:45,786 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-04 17:16:46,842 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-04 17:16:57,824 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-04 17:17:08,859 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-04 17:17:19,626 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-04 17:17:30,400 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-04 17:17:41,288 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-04 17:17:52,168 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-04 17:18:04,421 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-04 17:18:17,030 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-04 17:18:27,779 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-04 17:18:38,670 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-04 17:18:49,592 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-04 17:19:00,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-04 17:19:11,209 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-04 17:19:22,020 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-04 17:19:32,749 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-04 17:19:43,509 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-04 17:19:54,299 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-04 17:20:05,129 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-04 17:20:15,864 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-04 17:20:26,641 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-04 17:20:37,473 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-04 17:20:48,266 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-04 17:20:59,024 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-04 17:21:09,805 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-04 17:21:20,646 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-04 17:21:31,543 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-04 17:21:42,468 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-04 17:21:53,261 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-04 17:22:04,047 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-04 17:22:14,858 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-04 17:22:25,684 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-04 17:22:36,618 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-04 17:22:47,437 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-04 17:22:58,258 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-04 17:23:09,036 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-04 17:23:19,801 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-04 17:23:30,588 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-04 17:23:41,417 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-04 17:23:52,256 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-04 17:24:03,109 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-04 17:24:13,943 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-04 17:24:24,783 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-04 17:24:35,607 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-04 17:24:46,398 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-04 17:24:57,169 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-04 17:25:07,919 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-04 17:25:18,696 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-04 17:25:29,528 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-04 17:25:40,385 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-04 17:25:51,204 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-04 17:26:02,006 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-04 17:26:12,822 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-04 17:26:23,727 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-04 17:26:34,588 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-04 17:26:45,424 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-04 17:26:56,268 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-04 17:27:07,036 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-04 17:27:17,834 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-04 17:27:28,665 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-04 17:27:39,491 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-04 17:27:50,307 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-04 17:28:01,134 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-04 17:28:11,966 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-04 17:28:22,759 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-04 17:28:33,546 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-04 17:28:44,360 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-04 17:28:55,137 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-04 17:29:05,966 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-04 17:29:16,795 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-04 17:29:27,660 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-04 17:29:38,483 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-04 17:29:49,347 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-04 17:30:00,228 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-04 17:30:11,007 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-04 17:30:21,804 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-04 17:30:21,884 - bigdata_deploy_logger - INFO - 
2023-08-04 17:30:21,884 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-04 17:30:21,935 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-04 17:30:21,936 - bigdata_deploy_logger - INFO - 
2023-08-04 17:30:21,937 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-04 17:30:21,937 - bigdata_deploy_logger - INFO - 
2023-08-04 17:30:21,938 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-04 17:30:21,938 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-04 17:30:21,938 - bigdata_deploy_logger - INFO - sdp1                       : ok=155  changed=63   unreachable=0    failed=1    skipped=60   rescued=0    ignored=2
2023-08-04 17:30:21,938 - bigdata_deploy_logger - INFO - sdp2                       : ok=78   changed=30   unreachable=0    failed=0    skipped=28   rescued=0    ignored=1
2023-08-04 17:30:21,939 - bigdata_deploy_logger - INFO - sdp3                       : ok=78   changed=30   unreachable=0    failed=0    skipped=28   rescued=0    ignored=1
2023-08-04 17:30:21,939 - bigdata_deploy_logger - INFO - 
2023-08-04 17:30:22,039 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-07 10:20:15,323 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-07 10:20:15,325 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-07 10:20:15,336 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-07 10:20:15,338 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-07 10:20:15,347 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-07 10:20:15,379 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-07 10:20:15,386 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-07 10:20:15,417 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-07 10:20:15,418 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-07 10:20:15,427 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-07 10:20:15,428 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-07 10:20:15,458 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-07 10:20:15,462 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-07 10:20:15,473 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-07 10:20:15,476 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-07 10:20:15,485 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-07 10:20:15,488 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-07 10:20:15,495 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-07 10:20:15,504 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-07 10:20:15,512 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-07 10:20:15,520 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-07 10:20:15,523 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-07 10:20:15,530 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-07 10:20:15,531 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-07 10:20:15,541 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-07 10:20:15,543 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-07 10:20:15,558 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-07 10:20:16,436 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-07 10:20:16,436 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-07 10:20:18,061 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,061 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-07 10:20:18,091 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,091 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-07 10:20:18,141 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:20:18,149 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,149 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-07 10:20:18,198 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:20:18,201 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,202 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-07 10:20:18,209 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,209 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-07 10:20:18,503 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:20:18,519 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:20:18,521 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:20:18,525 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,525 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-07 10:20:18,585 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:20:18,586 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:20:18,595 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:20:18,601 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,602 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-07 10:20:18,658 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:20:18,665 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:20:18,671 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:20:18,680 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,680 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-07 10:20:18,738 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:20:18,745 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:20:18,755 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:20:18,761 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,762 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-07 10:20:18,789 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:18,790 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:20:24,972 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:34,527 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:34,727 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:34,739 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:34,739 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-07 10:20:34,825 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-07 10:20:34,838 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-07 10:20:34,865 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-07 10:20:34,906 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:34,907 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-07 10:20:35,655 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:20:35,735 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:20:35,785 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:20:35,803 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:35,803 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-07 10:20:36,323 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:20:36,470 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:20:36,509 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:20:36,525 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:36,525 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-07 10:20:38,794 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:20:39,183 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:20:39,592 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:20:39,606 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:39,606 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-07 10:20:40,599 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-07 10:20:40,600 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-07 10:20:40,600 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-07 10:20:40,600 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:40,934 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:41,049 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:41,060 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:41,061 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-07 10:20:42,345 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:42,636 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:42,768 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:42,782 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:42,782 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-07 10:20:43,920 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:44,653 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:44,834 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:44,847 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:44,848 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-07 10:20:45,771 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:45,848 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:45,889 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:45,904 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:45,904 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-07 10:20:46,918 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:20:47,189 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:20:47,330 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:20:47,349 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:47,350 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-07 10:20:48,765 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:50,035 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:50,103 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:50,122 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:50,122 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-07 10:20:50,223 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-07 10:20:50,253 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:50,253 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-07 10:20:52,591 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:52,615 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:52,728 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:52,793 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:52,793 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-07 10:20:53,482 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:53,532 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:53,642 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:53,722 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:53,723 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-07 10:20:55,205 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:20:56,099 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:20:56,202 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:20:56,269 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:56,270 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-07 10:20:58,299 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:20:59,121 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:20:59,729 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:20:59,810 - bigdata_deploy_logger - INFO - 
2023-08-07 10:20:59,811 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-07 10:21:00,610 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:21:01,164 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:21:01,257 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:21:01,381 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:01,381 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-07 10:21:01,466 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:21:01,534 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:21:01,551 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:21:01,616 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:01,616 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-07 10:21:02,449 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:21:02,928 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:21:03,056 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:21:03,136 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:03,136 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-07 10:21:03,962 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-07 10:21:03,963 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-07 10:21:03,964 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-07 10:21:03,964 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-07 10:21:03,964 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:21:04,413 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:21:04,570 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:21:04,635 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:04,635 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-07 10:21:05,537 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:21:06,017 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:21:06,068 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:21:06,135 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:06,135 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-07 10:21:07,490 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-07 10:21:08,178 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-07 10:21:08,333 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-07 10:21:08,404 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:08,404 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-07 10:21:09,285 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-07 10:21:09,717 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-07 10:21:09,790 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-07 10:21:09,858 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:09,858 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-07 10:21:10,778 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:21:11,199 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:21:11,273 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:21:11,343 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:11,343 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-07 10:21:12,237 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-07 10:21:12,347 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-07 10:21:12,350 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-07 10:21:12,953 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-07 10:21:13,179 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-07 10:21:13,218 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-07 10:21:13,582 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-07 10:21:13,967 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-07 10:21:13,990 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-07 10:21:14,073 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:14,073 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-07 10:21:14,174 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:21:14,253 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:21:14,267 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:21:14,346 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:14,346 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-07 10:21:15,022 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:21:15,106 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:21:15,248 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:21:15,313 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:15,313 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-07 10:21:15,397 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-07 10:21:15,465 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-07 10:21:15,480 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-07 10:21:15,548 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:15,548 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-07 10:21:15,635 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-07 10:21:15,703 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-07 10:21:15,718 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-07 10:21:15,786 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:15,786 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-07 10:21:16,528 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-07 10:21:16,637 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-07 10:21:16,669 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-07 10:21:17,028 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-07 10:21:17,031 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-07 10:21:17,032 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-07 10:21:17,032 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-07 10:21:17,250 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-07 10:21:17,324 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-07 10:21:17,445 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:17,446 - bigdata_deploy_logger - INFO - TASK [common : yum clean repo] *************************************************
2023-08-07 10:21:18,586 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-07 10:21:18,587 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-07 10:21:18,587 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-07 10:21:18,587 - bigdata_deploy_logger - INFO - this message.
2023-08-07 10:21:18,587 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:21:19,061 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:21:19,140 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:21:19,221 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:19,221 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-07 10:21:20,688 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-07 10:21:21,021 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-07 10:21:21,120 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-07 10:21:21,201 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:21,201 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-07 10:21:21,469 - bigdata_deploy_logger - INFO - 
2023-08-07 10:21:21,470 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-07 10:21:53,929 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:22:05,785 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:22:13,318 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:22:13,392 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:13,393 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-07 10:22:14,180 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:14,257 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:14,397 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:14,469 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:14,469 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-07 10:22:15,978 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:16,707 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:17,096 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:22:17,173 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:17,173 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-07 10:22:17,269 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:22:17,372 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:22:19,773 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:22:19,848 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:19,848 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-07 10:22:21,403 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:22:23,182 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:22:23,221 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:22:23,297 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:23,297 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-07 10:22:24,586 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:22:25,940 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:22:26,034 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:22:26,099 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:26,099 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-07 10:22:35,035 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.309598", "end": "2023-08-07 02:22:34.935276", "msg": "non-zero return code", "rc": 1, "start": "2023-08-07 02:22:26.625678", "stderr": " 7 Aug 02:22:34 ntpdate[25206]: no server suitable for synchronization found", "stderr_lines": [" 7 Aug 02:22:34 ntpdate[25206]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-07 10:22:35,036 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-07 10:22:35,499 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.713857", "end": "2023-08-07 02:22:35.416044", "msg": "non-zero return code", "rc": 1, "start": "2023-08-07 02:22:26.702187", "stderr": " 7 Aug 02:22:35 ntpdate[96906]: no server suitable for synchronization found", "stderr_lines": [" 7 Aug 02:22:35 ntpdate[96906]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-07 10:22:35,499 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-07 10:22:35,583 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.708360", "end": "2023-08-07 02:22:35.463342", "msg": "non-zero return code", "rc": 1, "start": "2023-08-07 02:22:26.754982", "stderr": " 7 Aug 02:22:35 ntpdate[128019]: no server suitable for synchronization found", "stderr_lines": [" 7 Aug 02:22:35 ntpdate[128019]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-07 10:22:35,583 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-07 10:22:35,657 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:35,658 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-07 10:22:36,504 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:22:37,043 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:22:37,151 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:22:37,225 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:37,225 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-07 10:22:38,611 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:39,449 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:39,642 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:39,714 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:39,714 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-07 10:22:40,152 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-07 10:22:40,204 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-07 10:22:40,211 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-07 10:22:40,309 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:40,309 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:40,395 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:40,462 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:40,480 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:40,551 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:40,551 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:40,635 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:40,702 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:40,719 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:40,786 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:40,787 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:40,871 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:40,939 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:40,959 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:41,031 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:41,031 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-07 10:22:41,953 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-07 10:22:41,953 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-07 10:22:41,954 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-07 10:22:41,954 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-07 10:22:41,954 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:42,347 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:42,506 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:42,620 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:42,620 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-07 10:22:43,424 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:43,905 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:43,967 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:44,045 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:44,045 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-07 10:22:44,143 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:44,214 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:44,237 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:44,321 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:44,321 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-07 10:22:44,401 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:22:44,468 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:22:44,478 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:22:44,552 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:44,552 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-07 10:22:44,637 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:22:44,708 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:22:44,718 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:22:44,791 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:44,791 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:44,877 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:44,999 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:45,020 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:45,091 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:45,092 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:45,177 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:45,250 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:45,269 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:45,342 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:45,342 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:45,427 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:45,497 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:45,517 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:45,597 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:45,598 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-07 10:22:46,520 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:46,931 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:47,034 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:47,114 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:47,115 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-07 10:22:47,979 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:48,652 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:48,721 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:48,784 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:48,784 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-07 10:22:48,873 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:48,941 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:48,962 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:49,030 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:49,031 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-07 10:22:49,114 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:22:49,180 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:22:49,187 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:22:49,259 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:49,260 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-07 10:22:49,341 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:22:49,406 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:22:49,413 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:22:49,480 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:49,480 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:49,563 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:49,630 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:49,647 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:49,714 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:49,714 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:49,804 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:49,929 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:49,944 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:50,014 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:50,014 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-07 10:22:50,103 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:50,176 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:50,196 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:50,267 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:50,267 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-07 10:22:51,156 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:51,628 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:51,754 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:51,833 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:51,833 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-07 10:22:52,619 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:53,167 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:53,209 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:53,342 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:53,342 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-07 10:22:53,435 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:22:53,507 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:22:53,526 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:22:53,603 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:53,603 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-07 10:22:53,696 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:22:53,771 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:22:53,777 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:22:53,846 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:53,846 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-07 10:22:53,928 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:22:53,998 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:22:54,005 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:22:54,009 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:54,010 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-07 10:22:54,087 - bigdata_deploy_logger - INFO - 
2023-08-07 10:22:54,087 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:23:09,805 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:23:09,874 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:09,874 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-07 10:23:09,930 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-07 10:23:10,000 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:10,000 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-07 10:23:10,028 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:10,099 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:10,100 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-07 10:23:22,779 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-07 10:23:22,860 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:22,860 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-07 10:23:25,304 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:25,374 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:25,374 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-07 10:23:26,096 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:26,177 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:26,177 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-07 10:23:26,880 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:26,946 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:26,946 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-07 10:23:27,668 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:27,748 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:27,748 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-07 10:23:27,771 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:27,903 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:27,904 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-07 10:23:27,930 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:27,932 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-07 10:23:27,932 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:27,933 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-07 10:23:30,143 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:30,210 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:30,210 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-07 10:23:31,735 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:23:31,820 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:31,820 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-07 10:23:34,617 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:34,699 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:34,699 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-07 10:23:34,806 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-07 10:23:34,876 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:34,876 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-07 10:23:34,913 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:23:35,046 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:35,047 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-07 10:23:36,477 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:36,551 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:36,551 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-07 10:23:36,577 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:36,649 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:36,650 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-07 10:23:38,332 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:38,404 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:38,404 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-07 10:23:38,428 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:38,503 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:38,503 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-07 10:23:38,603 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-07 10:23:38,719 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:38,720 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-07 10:23:39,461 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:39,532 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:39,533 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-07 10:23:39,626 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-07 10:23:39,697 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:39,697 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-07 10:23:39,729 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:23:39,805 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:39,805 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-07 10:23:41,267 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:41,341 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:41,341 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-07 10:23:41,363 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:41,435 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:41,436 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-07 10:23:43,194 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:43,278 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:43,278 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-07 10:23:43,302 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:43,378 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:43,378 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-07 10:23:43,526 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-07 10:23:43,607 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:43,608 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-07 10:23:44,300 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:44,381 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:44,381 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-07 10:23:44,475 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-07 10:23:44,545 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:44,546 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-07 10:23:44,575 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:23:44,652 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:44,652 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-07 10:23:46,078 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:46,156 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:46,156 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-07 10:23:46,183 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:46,258 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:46,258 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-07 10:23:47,919 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:47,995 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:47,996 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-07 10:23:48,025 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:48,110 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:48,110 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-07 10:23:48,221 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-07 10:23:48,297 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:48,297 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-07 10:23:49,056 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:49,128 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:49,128 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-07 10:23:49,239 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-07 10:23:49,335 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:49,335 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-07 10:23:49,368 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:23:49,455 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:49,455 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-07 10:23:50,927 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:50,995 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:50,996 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-07 10:23:51,024 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:51,101 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:51,101 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-07 10:23:52,894 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:52,971 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:52,971 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-07 10:23:52,999 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:23:53,075 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:53,075 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-07 10:23:53,176 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-07 10:23:53,244 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:53,244 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-07 10:23:53,921 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:53,922 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:53,922 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-07 10:23:56,106 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:23:56,111 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:56,112 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-07 10:23:56,184 - bigdata_deploy_logger - INFO - 
2023-08-07 10:23:56,184 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:24:02,017 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:24:11,806 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:24:12,030 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:24:12,104 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:12,104 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-07 10:24:12,200 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-07 10:24:12,271 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-07 10:24:12,309 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-07 10:24:12,440 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:12,440 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-07 10:24:12,526 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:24:12,594 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:12,614 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:24:12,688 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:12,688 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-07 10:24:12,773 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:24:12,846 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:12,861 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:24:12,867 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:12,867 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-07 10:24:12,940 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:12,941 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:24:28,565 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:24:28,675 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:28,676 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-07 10:24:28,720 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-07 10:24:28,794 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:28,794 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-07 10:24:28,817 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:28,887 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:28,887 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-07 10:24:28,907 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:28,979 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:28,980 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-07 10:24:29,003 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,079 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,079 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-07 10:24:29,098 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,172 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,172 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-07 10:24:29,195 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,268 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,268 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-07 10:24:29,287 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,360 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,360 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-07 10:24:29,384 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,455 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,455 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-07 10:24:29,481 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,552 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,552 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-07 10:24:29,575 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,646 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,647 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-07 10:24:29,667 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:29,671 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,671 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-07 10:24:29,676 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,677 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-07 10:24:29,701 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:24:29,705 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,705 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-07 10:24:29,723 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:24:29,726 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,727 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-07 10:24:29,798 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:29,799 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-07 10:24:29,970 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:24:30,015 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:24:30,058 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:24:30,127 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:30,127 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-07 10:24:30,212 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:24:30,333 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:30,347 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:24:30,415 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:30,416 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-07 10:24:30,500 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:24:30,570 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:30,586 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:24:30,656 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:30,656 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-07 10:24:30,743 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:24:30,815 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:24:30,835 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:24:30,839 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:30,839 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-07 10:24:30,911 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:30,912 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:24:36,703 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:24:46,505 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:24:46,702 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:24:46,765 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:46,765 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-07 10:24:47,604 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:24:47,655 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:24:47,691 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:24:47,771 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:47,772 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-07 10:24:48,726 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:24:49,177 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:24:49,205 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:24:49,318 - bigdata_deploy_logger - INFO - 
2023-08-07 10:24:49,319 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-07 10:24:59,830 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:25:02,310 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:03,235 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:25:03,313 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:03,314 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-07 10:25:04,053 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:25:04,072 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:25:04,189 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:04,256 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:04,257 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-07 10:25:05,008 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:25:05,122 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:25:05,154 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:05,218 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:05,218 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-07 10:25:05,891 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:25:06,002 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:06,004 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:25:06,082 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:06,083 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-07 10:25:06,772 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:25:06,830 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:25:06,899 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:06,899 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:06,900 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-07 10:25:07,989 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:25:08,447 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:25:08,493 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:25:08,497 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:08,497 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-07 10:25:12,419 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:25:12,959 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:25:13,345 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:13,425 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:13,425 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-07 10:25:14,431 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:25:14,925 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:25:15,043 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:25:15,115 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:15,115 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-07 10:25:16,247 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:25:17,181 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:25:17,285 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:25:17,293 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:17,294 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-07 10:25:17,372 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:17,372 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:25:33,003 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:25:33,080 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:33,081 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-07 10:25:33,127 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-07 10:25:33,211 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:33,211 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-07 10:25:53,851 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:53,926 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:53,926 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-07 10:25:55,184 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.592507", "end": "2023-08-07 02:25:55.074576", "msg": "non-zero return code", "rc": 1, "start": "2023-08-07 02:25:54.482069", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-07 10:25:55,185 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-07 10:25:55,265 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:55,266 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-07 10:25:56,121 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:25:56,198 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:56,198 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-07 10:25:56,222 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:25:56,358 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:56,358 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-07 10:25:57,049 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:25:57,131 - bigdata_deploy_logger - INFO - 
2023-08-07 10:25:57,132 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-07 10:26:01,092 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-07 10:26:05,101 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-07 10:26:05,107 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:05,108 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-07 10:26:06,613 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:26:06,699 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:06,700 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-07 10:26:06,735 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-07 10:26:06,892 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:06,893 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-07 10:26:06,914 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:07,074 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:07,074 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-07 10:26:07,099 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:07,172 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:07,173 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-07 10:26:07,194 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:07,312 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:07,313 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-07 10:26:13,056 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-07 10:26:13,129 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:13,129 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-07 10:26:15,354 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:26:15,427 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:15,427 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-07 10:26:15,448 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:15,518 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:15,518 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-07 10:26:15,539 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:15,608 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:15,608 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-07 10:26:17,170 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:26:17,253 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:17,253 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-07 10:26:17,287 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:26:17,355 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:17,355 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-07 10:26:17,381 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:26:17,451 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:17,451 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-07 10:26:20,967 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:26:21,042 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:21,042 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-07 10:26:21,745 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:26:21,826 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:21,827 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-07 10:26:22,554 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:26:22,554 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:22,555 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-07 10:26:36,498 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:26:36,499 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:36,499 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-07 10:26:38,468 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:26:38,550 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:38,550 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-07 10:26:39,998 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:26:40,073 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:40,073 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-07 10:26:42,166 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:26:42,173 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:42,173 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-07 10:26:42,178 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:42,179 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-07 10:26:42,209 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:26:42,219 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:42,219 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-07 10:26:42,240 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:26:42,249 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:42,249 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-07 10:26:42,378 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:42,379 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-07 10:26:42,601 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:26:42,657 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:26:42,804 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:26:42,883 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:42,883 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-07 10:26:42,975 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:26:43,039 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:43,058 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:26:43,124 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:43,125 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-07 10:26:43,207 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:26:43,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:43,297 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:26:43,367 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:43,367 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-07 10:26:43,449 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:26:43,514 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:26:43,536 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:26:43,543 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:43,543 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-07 10:26:43,608 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:43,608 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:26:50,265 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:26:59,125 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:26:59,256 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:26:59,260 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:59,260 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-07 10:26:59,328 - bigdata_deploy_logger - INFO - 
2023-08-07 10:26:59,329 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:27:15,069 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:27:15,139 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:15,140 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-07 10:27:15,187 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-07 10:27:15,259 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:15,259 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-07 10:27:15,974 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:27:16,054 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:16,055 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-07 10:27:16,077 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:27:16,159 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:16,159 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-07 10:27:17,428 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:27:17,495 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:17,496 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-07 10:27:17,528 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:27:17,639 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:17,639 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-07 10:27:17,863 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:27:17,931 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:17,931 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-07 10:27:18,734 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:27:18,805 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:18,805 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-07 10:27:20,113 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-07 10:27:20,931 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-07 10:27:21,704 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-07 10:27:21,724 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:21,724 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-07 10:27:36,112 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:27:36,112 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:36,113 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-07 10:27:37,938 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:27:37,941 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:37,941 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-07 10:27:37,947 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:37,947 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-07 10:27:37,975 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:27:37,979 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:37,979 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-07 10:27:38,002 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-07 10:27:38,005 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:38,006 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-07 10:27:38,075 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:38,075 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-07 10:27:38,252 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-07 10:27:38,361 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-07 10:27:38,361 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-07 10:27:38,422 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:38,422 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-07 10:27:38,507 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:27:38,576 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:27:38,595 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:27:38,662 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:38,662 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-07 10:27:38,748 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:27:38,819 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:27:38,833 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:27:38,901 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:38,901 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-07 10:27:38,987 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-07 10:27:39,055 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:27:39,074 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-07 10:27:39,078 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:39,078 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-07 10:27:39,146 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:39,147 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:27:44,705 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-07 10:27:54,711 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-07 10:27:55,076 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:27:55,083 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:55,084 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-07 10:27:55,161 - bigdata_deploy_logger - INFO - 
2023-08-07 10:27:55,161 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-07 10:28:10,775 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:10,846 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:10,847 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-07 10:28:10,894 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-07 10:28:10,968 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:10,969 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-07 10:28:12,369 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:12,452 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:12,452 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-07 10:28:12,471 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:28:12,555 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:12,555 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-07 10:28:12,691 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:12,759 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:12,759 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-07 10:28:12,779 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:28:12,898 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:12,899 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-07 10:28:12,936 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:13,008 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:13,009 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-07 10:28:13,029 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-07 10:28:13,106 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:13,106 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-07 10:28:13,888 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:13,960 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:13,961 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-07 10:28:14,795 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:14,867 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:14,867 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-07 10:28:15,805 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:15,884 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:15,884 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-07 10:28:19,183 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:28:19,256 - bigdata_deploy_logger - INFO - 
2023-08-07 10:28:19,256 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-07 10:28:20,255 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-07 10:28:31,162 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-07 10:28:42,216 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-07 10:28:52,982 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-07 10:29:03,787 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-07 10:29:14,650 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-07 10:29:25,545 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-07 10:29:36,369 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-07 10:29:48,982 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-07 10:29:59,867 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-07 10:30:10,648 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-07 10:30:21,423 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-07 10:30:32,202 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-07 10:30:43,101 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-07 10:30:53,780 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-07 10:31:04,553 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-07 10:31:15,339 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-07 10:31:26,122 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-07 10:31:36,973 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-07 10:31:47,762 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-07 10:31:58,575 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-07 10:32:09,303 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-07 10:32:20,098 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-07 10:32:30,862 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-07 10:32:41,624 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-07 10:32:52,426 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-07 10:33:03,250 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-07 10:33:14,120 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-07 10:33:24,896 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-07 10:33:35,715 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-07 10:33:46,581 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-07 10:33:57,380 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-07 10:34:08,325 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-07 10:34:19,105 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-07 10:34:29,936 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-07 10:34:40,757 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-07 10:34:51,575 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-07 10:35:02,405 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-07 10:35:13,261 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-07 10:35:24,111 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-07 10:35:34,909 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-07 10:35:45,716 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-07 10:35:56,484 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-07 10:36:07,265 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-07 10:36:18,073 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-07 10:36:28,922 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-07 10:36:39,665 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-07 10:36:50,474 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-07 10:37:01,292 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-07 10:37:12,138 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-07 10:37:22,881 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-07 10:37:33,703 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-07 10:37:44,554 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-07 10:37:55,419 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-07 10:38:06,183 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-07 10:38:16,974 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-07 10:38:27,761 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-07 10:38:38,517 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-07 10:38:49,293 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-07 10:39:00,040 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-07 10:39:10,803 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-07 10:39:21,579 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-07 10:39:32,339 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-07 10:39:43,106 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-07 10:39:53,879 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-07 10:40:04,713 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-07 10:40:15,512 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-07 10:40:26,320 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-07 10:40:37,092 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-07 10:40:47,890 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-07 10:40:58,717 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-07 10:41:09,518 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-07 10:41:20,296 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-07 10:41:31,122 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-07 10:41:41,889 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-07 10:41:52,712 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-07 10:42:03,584 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-07 10:42:03,651 - bigdata_deploy_logger - INFO - 
2023-08-07 10:42:03,651 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-07 10:42:03,705 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-07 10:42:03,706 - bigdata_deploy_logger - INFO - 
2023-08-07 10:42:03,707 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-07 10:42:03,707 - bigdata_deploy_logger - INFO - 
2023-08-07 10:42:03,708 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-07 10:42:03,708 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-07 10:42:03,709 - bigdata_deploy_logger - INFO - sdp1                       : ok=153  changed=63   unreachable=0    failed=1    skipped=59   rescued=0    ignored=2
2023-08-07 10:42:03,710 - bigdata_deploy_logger - INFO - sdp2                       : ok=76   changed=30   unreachable=0    failed=0    skipped=27   rescued=0    ignored=1
2023-08-07 10:42:03,710 - bigdata_deploy_logger - INFO - sdp3                       : ok=76   changed=30   unreachable=0    failed=0    skipped=27   rescued=0    ignored=1
2023-08-07 10:42:03,711 - bigdata_deploy_logger - INFO - 
2023-08-07 10:42:03,798 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-08 09:25:36,309 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 09:25:36,311 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-08 09:25:36,321 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 09:25:36,322 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-08 09:25:36,332 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 09:25:36,364 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 09:25:36,372 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 09:25:36,404 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 09:25:36,405 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-08 09:25:36,414 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 09:25:36,415 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 09:25:36,447 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 09:25:36,450 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 09:25:36,460 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 09:25:36,464 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 09:25:36,473 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 09:25:36,476 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 09:25:36,483 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 09:25:36,493 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 09:25:36,502 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 09:25:36,510 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 09:25:36,514 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 09:25:36,522 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 09:25:36,522 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 09:25:36,532 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 09:25:36,534 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-08 09:25:36,548 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-08 09:25:37,432 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-08 09:25:37,432 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-08 09:25:39,114 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,114 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 09:25:39,145 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,145 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 09:25:39,197 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 09:25:39,204 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,204 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 09:25:39,254 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 09:25:39,261 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,262 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 09:25:39,268 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,269 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 09:25:39,583 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:25:39,585 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:25:39,586 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:25:39,593 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,593 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 09:25:39,642 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:25:39,649 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:25:39,657 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:25:39,664 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,664 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 09:25:39,712 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:25:39,720 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:25:39,729 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:25:39,736 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,736 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 09:25:39,785 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:25:39,795 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:25:39,803 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:25:39,809 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,809 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-08 09:25:39,838 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:39,839 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 09:25:45,937 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:25:55,562 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:25:55,812 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:25:55,825 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:55,825 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-08 09:25:56,570 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:25:56,673 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:25:56,696 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:25:56,708 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:56,708 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-08 09:25:56,765 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-08 09:25:56,765 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-08 09:25:56,766 - bigdata_deploy_logger - INFO - }
2023-08-08 09:25:56,783 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-08 09:25:56,784 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-08 09:25:56,784 - bigdata_deploy_logger - INFO - }
2023-08-08 09:25:56,804 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-08 09:25:56,805 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-08 09:25:56,805 - bigdata_deploy_logger - INFO - }
2023-08-08 09:25:56,822 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:56,822 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-08 09:25:56,879 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:25:56,891 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:25:56,913 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:25:56,931 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:56,932 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-08 09:25:57,020 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 09:25:57,040 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 09:25:57,056 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 09:25:57,104 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:57,105 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-08 09:25:57,823 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:25:57,896 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:25:57,924 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:25:57,943 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:57,943 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-08 09:25:58,520 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:25:58,603 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:25:58,676 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:25:58,691 - bigdata_deploy_logger - INFO - 
2023-08-08 09:25:58,691 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-08 09:26:00,951 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:01,353 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:01,710 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:01,727 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:01,727 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-08 09:26:02,722 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-08 09:26:02,723 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 09:26:02,723 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 09:26:02,723 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:03,004 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:03,117 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:03,130 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:03,130 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-08 09:26:04,337 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:04,621 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:04,751 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:04,763 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:04,764 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-08 09:26:05,915 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:06,666 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:06,749 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:06,760 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:06,760 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-08 09:26:07,702 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:07,802 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:07,829 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:07,844 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:07,844 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-08 09:26:08,834 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:09,138 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:09,295 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:09,314 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:09,315 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-08 09:26:10,740 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:11,862 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:11,994 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:12,004 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:12,005 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-08 09:26:12,097 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-08 09:26:12,128 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:12,128 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-08 09:26:14,341 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:14,522 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:14,573 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:14,632 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:14,632 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-08 09:26:15,314 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:15,325 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:15,459 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:15,537 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:15,537 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-08 09:26:17,067 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:26:17,888 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:26:18,090 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:26:18,155 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:18,156 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-08 09:26:20,681 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:20,964 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:20,971 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:21,035 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:21,035 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-08 09:26:21,911 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:22,307 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:22,406 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:22,470 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:22,470 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-08 09:26:22,551 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:26:22,617 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:26:22,629 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:26:22,698 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:22,698 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-08 09:26:23,566 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:23,954 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:24,083 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:24,152 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:24,152 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-08 09:26:25,095 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-08 09:26:25,095 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-08 09:26:25,095 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-08 09:26:25,096 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-08 09:26:25,096 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:25,434 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:25,560 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:25,632 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:25,632 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-08 09:26:26,574 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:26,926 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:27,045 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:27,124 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:27,124 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-08 09:26:28,501 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 09:26:29,202 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 09:26:29,310 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 09:26:29,386 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:29,386 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-08 09:26:30,242 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 09:26:30,729 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 09:26:30,770 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 09:26:30,849 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:30,849 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-08 09:26:31,724 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:32,100 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:32,208 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:32,272 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:32,272 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-08 09:26:33,181 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-08 09:26:33,239 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-08 09:26:33,278 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-08 09:26:33,827 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-08 09:26:34,038 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-08 09:26:34,079 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-08 09:26:34,516 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-08 09:26:34,806 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-08 09:26:34,922 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-08 09:26:35,002 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:35,002 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-08 09:26:35,099 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:26:35,224 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:26:35,238 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:26:35,306 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:35,306 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-08 09:26:35,976 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:26:35,985 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:26:36,092 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:26:36,163 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:36,163 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-08 09:26:36,820 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-08 09:26:36,850 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-08 09:26:36,980 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-08 09:26:37,049 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:37,049 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-08 09:26:37,917 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 09:26:38,353 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 09:26:38,459 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 09:26:38,528 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:38,528 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-08 09:26:38,673 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 09:26:38,746 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 09:26:38,764 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 09:26:39,320 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 09:26:39,323 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-08 09:26:39,324 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 09:26:39,324 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 09:26:39,404 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 09:26:39,456 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 09:26:39,538 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:39,538 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 09:26:40,988 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 09:26:41,398 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 09:26:41,468 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 09:26:41,536 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:41,537 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 09:26:41,770 - bigdata_deploy_logger - INFO - 
2023-08-08 09:26:41,771 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-08 09:27:04,494 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:27:10,707 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:27:10,987 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:27:11,057 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:11,057 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-08 09:27:11,878 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:11,908 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:12,017 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:12,084 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:12,085 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-08 09:27:13,598 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:14,287 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:14,814 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:27:14,885 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:14,885 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-08 09:27:15,021 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:27:15,110 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:27:17,564 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:27:17,629 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:17,629 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-08 09:27:19,290 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:27:20,896 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:27:20,952 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:27:21,033 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:21,033 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-08 09:27:22,379 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:27:23,663 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:27:23,712 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:27:23,784 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:23,785 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 09:27:32,695 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.298489", "end": "2023-08-08 01:27:32.601735", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 01:27:24.303246", "stderr": " 8 Aug 01:27:32 ntpdate[48950]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 01:27:32 ntpdate[48950]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 09:27:32,696 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 09:27:33,214 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.701143", "end": "2023-08-08 01:27:33.138575", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 01:27:24.437432", "stderr": " 8 Aug 01:27:33 ntpdate[103669]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 01:27:33 ntpdate[103669]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 09:27:33,214 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 09:27:33,294 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.699988", "end": "2023-08-08 01:27:33.190685", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 01:27:24.490697", "stderr": " 8 Aug 01:27:33 ntpdate[87875]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 01:27:33 ntpdate[87875]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 09:27:33,294 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 09:27:33,361 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:33,361 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 09:27:34,242 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:27:34,707 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:27:34,774 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:27:34,850 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:34,850 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-08 09:27:36,288 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:37,125 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:37,403 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:37,519 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:37,519 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-08 09:27:37,892 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 09:27:37,899 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 09:27:37,906 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 09:27:38,005 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:38,005 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:38,088 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:38,152 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:38,169 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:38,238 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:38,238 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:38,317 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:38,383 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:38,398 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:38,467 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:38,468 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:38,558 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:38,623 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:38,640 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:38,722 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:38,722 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-08 09:27:39,647 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-08 09:27:39,648 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-08 09:27:39,648 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-08 09:27:39,648 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-08 09:27:39,648 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:40,101 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:40,261 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:40,331 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:40,331 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 09:27:41,214 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:41,601 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:41,736 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:41,802 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:41,802 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 09:27:41,890 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:41,960 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:41,979 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:42,051 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:42,052 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-08 09:27:42,133 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:27:42,200 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:27:42,206 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:27:42,331 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:42,331 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-08 09:27:42,414 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:27:42,481 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:27:42,488 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:27:42,556 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:42,556 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:42,642 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:42,713 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:42,729 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:42,797 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:42,797 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:42,882 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:42,950 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:42,968 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:43,036 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:43,037 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:43,121 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:43,188 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:43,203 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:43,274 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:43,274 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-08 09:27:44,203 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:44,730 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:44,734 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:44,795 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:44,795 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 09:27:45,676 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:46,072 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:46,174 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:46,251 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:46,251 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 09:27:46,347 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:46,422 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:46,442 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:46,526 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:46,526 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-08 09:27:46,615 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:27:46,676 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:27:46,682 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:27:46,748 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:46,749 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-08 09:27:46,828 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:27:46,889 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:27:46,896 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:27:46,962 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:46,962 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:47,042 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:47,158 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:47,172 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:47,240 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:47,240 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:47,319 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:47,385 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:47,401 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:47,467 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:47,467 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 09:27:47,550 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:47,618 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:47,639 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:47,708 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:47,708 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-08 09:27:48,665 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:49,047 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:49,165 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:49,233 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:49,233 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 09:27:50,038 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:50,591 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:50,660 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:50,729 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:50,729 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 09:27:50,824 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 09:27:50,900 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:27:50,918 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 09:27:50,987 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:50,988 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-08 09:27:51,065 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:27:51,127 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:27:51,139 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:27:51,207 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:51,207 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-08 09:27:51,287 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 09:27:51,367 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:27:51,374 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 09:27:51,376 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:51,376 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-08 09:27:52,655 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-08 09:27:52,656 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-08 09:27:52,656 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-08 09:27:52,657 - bigdata_deploy_logger - INFO - this message.
2023-08-08 09:27:52,657 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:27:52,834 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:27:53,178 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:27:53,183 - bigdata_deploy_logger - INFO - 
2023-08-08 09:27:53,183 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-08 09:27:58,933 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 09:27:59,946 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 09:28:00,378 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 09:28:00,385 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:00,385 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-08 09:28:00,457 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:00,457 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 09:28:16,038 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 09:28:16,116 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:16,116 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-08 09:28:16,168 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-08 09:28:16,245 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:16,245 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-08 09:28:16,271 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 09:28:16,349 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:16,350 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-08 09:28:18,422 - bigdata_deploy_logger - INFO - failed: [sdp1] (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10) => {"ansible_loop_var": "item", "changed": false, "item": "postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10", "msg": "No package matching 'postgresql10-server' found available, installed or updated", "rc": 126, "results": ["No package matching 'postgresql10-server' found available, installed or updated"]}
2023-08-08 09:28:18,423 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:18,423 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-08 09:28:18,423 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:18,423 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-08 09:28:18,424 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-08 09:28:18,424 - bigdata_deploy_logger - INFO - sdp1                       : ok=66   changed=26   unreachable=0    failed=1    skipped=14   rescued=0    ignored=1
2023-08-08 09:28:18,424 - bigdata_deploy_logger - INFO - sdp2                       : ok=63   changed=24   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-08 09:28:18,425 - bigdata_deploy_logger - INFO - sdp3                       : ok=63   changed=24   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-08 09:28:18,425 - bigdata_deploy_logger - INFO - 
2023-08-08 09:28:18,513 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-08 10:01:37,754 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:01:37,756 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-08 10:01:37,766 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:01:37,767 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-08 10:01:37,777 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:01:37,810 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:01:37,818 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:01:37,850 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:01:37,851 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-08 10:01:37,860 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:01:37,862 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:01:37,896 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:01:37,900 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:01:37,910 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:01:37,914 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:01:37,924 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:01:37,927 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:01:37,935 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:01:37,946 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:01:37,957 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:01:37,967 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:01:37,971 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:01:37,981 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:01:37,982 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:01:37,993 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:01:37,995 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-08 10:01:38,010 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-08 10:01:38,848 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-08 10:01:38,849 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-08 10:01:40,499 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:40,500 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:01:40,530 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:40,530 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:01:40,577 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:01:40,581 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:40,581 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:01:40,627 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:01:40,630 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:40,631 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:01:40,637 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:40,637 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:01:40,926 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:01:40,932 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:01:40,957 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:01:40,961 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:40,962 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:01:41,007 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:01:41,026 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:01:41,028 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:01:41,033 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:41,034 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:01:41,088 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:01:41,091 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:01:41,099 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:01:41,108 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:41,108 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:01:41,167 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:01:41,169 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:01:41,174 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:01:41,181 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:41,182 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-08 10:01:41,210 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:41,210 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:01:47,219 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:01:57,094 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:01:57,341 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:01:57,354 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:57,354 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-08 10:01:58,142 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:01:58,234 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:01:58,283 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:01:58,301 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:58,301 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-08 10:01:58,362 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-08 10:01:58,362 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-08 10:01:58,362 - bigdata_deploy_logger - INFO - }
2023-08-08 10:01:58,386 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-08 10:01:58,387 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-08 10:01:58,387 - bigdata_deploy_logger - INFO - }
2023-08-08 10:01:58,403 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-08 10:01:58,404 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-08 10:01:58,404 - bigdata_deploy_logger - INFO - }
2023-08-08 10:01:58,420 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:58,421 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-08 10:01:58,477 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:01:58,495 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:01:58,516 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:01:58,536 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:58,537 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-08 10:01:58,623 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:01:58,642 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:01:58,662 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:01:58,708 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:58,708 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-08 10:01:59,502 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:01:59,535 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:01:59,612 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:01:59,625 - bigdata_deploy_logger - INFO - 
2023-08-08 10:01:59,625 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-08 10:02:00,190 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:00,283 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:00,384 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:00,400 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:00,400 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-08 10:02:02,648 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:03,172 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:03,623 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:03,638 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:03,638 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-08 10:02:04,637 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-08 10:02:04,638 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:02:04,638 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:02:04,639 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:04,979 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:05,125 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:05,140 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:05,140 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-08 10:02:06,393 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:06,717 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:06,780 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:06,792 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:06,792 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-08 10:02:07,934 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:08,679 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:08,892 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:08,904 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:08,904 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-08 10:02:09,797 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:09,943 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:09,951 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:09,960 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:09,960 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-08 10:02:11,021 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:11,354 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:11,546 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:11,556 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:11,557 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-08 10:02:13,037 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:14,387 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:14,533 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:14,548 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:14,549 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-08 10:02:14,647 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-08 10:02:14,676 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:14,677 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-08 10:02:16,968 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:17,095 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:17,157 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:17,220 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:17,220 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-08 10:02:17,888 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:17,918 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:18,060 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:18,134 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:18,135 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-08 10:02:19,658 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:02:20,449 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:02:20,677 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:02:20,744 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:20,744 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-08 10:02:23,433 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:23,440 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:24,144 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:24,212 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:24,212 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-08 10:02:25,014 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:25,519 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:25,670 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:25,747 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:25,747 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-08 10:02:25,889 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:02:25,962 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:02:25,974 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:02:26,053 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:26,054 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-08 10:02:26,963 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:27,434 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:27,635 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:27,711 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:27,711 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-08 10:02:28,652 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-08 10:02:28,653 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-08 10:02:28,654 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-08 10:02:28,654 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-08 10:02:28,655 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:29,001 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:29,238 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:29,316 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:29,316 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-08 10:02:30,215 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:30,744 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:30,796 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:30,872 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:30,872 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-08 10:02:32,250 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:02:33,088 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:02:34,190 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:02:34,270 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:34,270 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-08 10:02:35,150 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:02:35,593 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:02:35,733 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:02:35,813 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:35,813 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-08 10:02:36,682 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:37,139 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:37,372 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:37,449 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:37,449 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-08 10:02:38,358 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-08 10:02:38,436 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-08 10:02:38,528 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-08 10:02:38,977 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-08 10:02:39,193 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-08 10:02:39,406 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-08 10:02:39,628 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-08 10:02:39,939 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-08 10:02:40,256 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-08 10:02:40,325 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:40,325 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-08 10:02:40,417 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:02:40,494 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:02:40,513 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:02:40,592 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:40,592 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-08 10:02:41,252 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:02:41,260 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:02:41,433 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:02:41,506 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:41,506 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-08 10:02:42,151 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:02:42,205 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:02:42,365 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:02:42,441 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:42,441 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-08 10:02:43,318 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:02:43,814 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:02:43,958 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:02:44,030 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:44,030 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-08 10:02:44,135 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:02:44,218 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:02:44,236 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:02:44,818 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:02:44,819 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-08 10:02:44,820 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:02:44,820 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:02:44,863 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:02:44,969 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:02:45,051 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:45,051 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:02:46,453 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:02:46,788 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:02:46,977 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:02:47,053 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:47,054 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:02:47,318 - bigdata_deploy_logger - INFO - 
2023-08-08 10:02:47,319 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-08 10:03:09,806 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:03:16,417 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:03:17,458 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:03:17,523 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:17,523 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-08 10:03:18,307 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:18,435 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:18,558 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:18,625 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:18,625 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-08 10:03:20,038 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:20,850 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:21,291 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:03:21,361 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:21,361 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-08 10:03:21,441 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:03:21,527 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:03:23,978 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:03:24,043 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:24,043 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-08 10:03:25,670 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:03:27,413 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:03:27,565 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:03:27,643 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:27,644 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-08 10:03:28,931 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:03:30,307 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:03:30,503 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:03:30,581 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:30,581 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:03:39,433 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.282771", "end": "2023-08-08 02:03:39.334481", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:03:31.051710", "stderr": " 8 Aug 02:03:39 ntpdate[55706]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:03:39 ntpdate[55706]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:03:39,433 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:03:40,010 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.739084", "end": "2023-08-08 02:03:39.938849", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:03:31.199765", "stderr": " 8 Aug 02:03:39 ntpdate[108336]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:03:39 ntpdate[108336]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:03:40,010 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:03:40,151 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.728776", "end": "2023-08-08 02:03:40.021342", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:03:31.292566", "stderr": " 8 Aug 02:03:40 ntpdate[95208]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:03:40 ntpdate[95208]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:03:40,152 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:03:40,282 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:40,282 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:03:41,065 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:03:41,619 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:03:41,741 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:03:41,817 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:41,817 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-08 10:03:43,155 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:44,029 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:44,348 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:44,422 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:44,423 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-08 10:03:44,848 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:03:44,855 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:03:44,862 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:03:44,960 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:44,961 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:45,046 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:45,112 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:45,134 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:45,202 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:45,202 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:45,284 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:45,350 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:45,368 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:45,441 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:45,441 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:45,529 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:45,594 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:45,616 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:45,686 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:45,686 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-08 10:03:46,538 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-08 10:03:46,539 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-08 10:03:46,539 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-08 10:03:46,539 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-08 10:03:46,539 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:47,013 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:47,246 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:47,311 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:47,311 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:03:48,042 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:48,648 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:48,752 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:48,829 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:48,830 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:03:48,915 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:48,982 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:49,002 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:49,074 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:49,075 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-08 10:03:49,158 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:03:49,225 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:03:49,230 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:03:49,300 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:49,301 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-08 10:03:49,382 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:03:49,449 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:03:49,455 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:03:49,574 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:49,575 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:49,661 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:49,729 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:49,746 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:49,815 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:49,816 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:49,902 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:49,970 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:49,991 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:50,061 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:50,061 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:50,148 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:50,219 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:50,238 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:50,311 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:50,311 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-08 10:03:51,141 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:51,683 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:51,785 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:51,852 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:51,853 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:03:52,637 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:53,290 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:53,348 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:53,421 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:53,421 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:03:53,508 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:53,577 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:53,598 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:53,668 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:53,669 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-08 10:03:53,752 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:03:53,817 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:03:53,823 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:03:53,895 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:53,895 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-08 10:03:53,985 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:03:54,059 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:03:54,067 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:03:54,143 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:54,144 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:54,235 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:54,303 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:54,319 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:54,450 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:54,451 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:54,535 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:54,604 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:54,624 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:54,693 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:54,694 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:03:54,779 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:54,849 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:54,865 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:54,937 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:54,937 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-08 10:03:55,793 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:56,322 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:56,450 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:56,517 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:56,517 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:03:57,365 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:57,902 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:57,979 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:58,041 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:58,041 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:03:58,129 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:03:58,195 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:03:58,213 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:03:58,282 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:58,282 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-08 10:03:58,363 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:03:58,427 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:03:58,434 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:03:58,515 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:58,516 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-08 10:03:58,607 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:03:58,673 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:03:58,685 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:03:58,687 - bigdata_deploy_logger - INFO - 
2023-08-08 10:03:58,688 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-08 10:03:59,876 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-08 10:03:59,877 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-08 10:03:59,877 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-08 10:03:59,877 - bigdata_deploy_logger - INFO - this message.
2023-08-08 10:03:59,877 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:04:00,182 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:04:00,545 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:00,545 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:00,545 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-08 10:04:06,160 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:04:07,283 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:04:07,931 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:07,940 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:07,940 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-08 10:04:08,024 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:08,025 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:04:23,595 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:04:23,661 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:23,661 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-08 10:04:23,712 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-08 10:04:23,830 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:23,830 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-08 10:04:23,853 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:23,924 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:23,924 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-08 10:04:33,772 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-08 10:04:33,839 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:33,839 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-08 10:04:36,475 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:36,554 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:36,554 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-08 10:04:37,331 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:37,408 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:37,409 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-08 10:04:38,183 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:38,264 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:38,264 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-08 10:04:39,038 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:39,114 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:39,115 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-08 10:04:39,142 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:39,224 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:39,224 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-08 10:04:39,251 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:39,253 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-08 10:04:39,254 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:39,254 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:04:41,647 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:41,713 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:41,713 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-08 10:04:43,202 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:04:43,285 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:43,285 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-08 10:04:46,210 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:46,278 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:46,278 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-08 10:04:46,385 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:04:46,452 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:46,452 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-08 10:04:46,488 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:04:46,566 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:46,566 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-08 10:04:48,193 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:48,325 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:48,326 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:04:48,351 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:48,435 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:48,436 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-08 10:04:50,263 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:50,346 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:50,347 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:04:50,371 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:50,456 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:50,456 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-08 10:04:50,563 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:04:50,638 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:50,638 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-08 10:04:51,378 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:51,457 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:51,457 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-08 10:04:51,570 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:04:51,639 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:51,639 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-08 10:04:51,676 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:04:51,796 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:51,796 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-08 10:04:53,277 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:53,347 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:53,347 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:04:53,369 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:53,447 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:53,447 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-08 10:04:55,247 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:55,327 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:55,328 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:04:55,351 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:55,437 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:55,438 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-08 10:04:55,542 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:04:55,617 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:55,617 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-08 10:04:56,409 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:56,493 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:56,493 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-08 10:04:56,599 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:04:56,680 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:56,680 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-08 10:04:56,718 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:04:56,790 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:56,790 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-08 10:04:58,281 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:04:58,358 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:58,359 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:04:58,381 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:04:58,467 - bigdata_deploy_logger - INFO - 
2023-08-08 10:04:58,467 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-08 10:05:00,291 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:05:00,362 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:00,363 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:05:00,389 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:00,458 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:00,458 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-08 10:05:00,563 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:05:00,639 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:00,639 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-08 10:05:01,375 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:05:01,446 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:01,446 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-08 10:05:01,590 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:05:01,668 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:01,668 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-08 10:05:01,700 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:05:01,775 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:01,775 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-08 10:05:03,409 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:05:03,479 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:03,480 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:05:03,509 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:03,584 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:03,585 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-08 10:05:05,352 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:05:05,433 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:05,433 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:05:05,461 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:05,533 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:05,534 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-08 10:05:05,630 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:05:05,695 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:05,695 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-08 10:05:06,468 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:05:06,472 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:06,472 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:05:08,848 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:05:08,854 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:08,854 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-08 10:05:08,931 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:08,931 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:05:14,806 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:05:24,773 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:05:24,821 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:05:24,888 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:24,888 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-08 10:05:24,976 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:05:25,050 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:05:25,087 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:05:25,155 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:25,155 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-08 10:05:25,237 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:05:25,354 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:25,374 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:05:25,439 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:25,440 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-08 10:05:25,524 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:05:25,592 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:25,605 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:05:25,609 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:25,610 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-08 10:05:25,681 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:25,681 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:05:41,301 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:05:41,365 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:41,365 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-08 10:05:41,409 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-08 10:05:41,481 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:41,482 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-08 10:05:41,507 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:41,576 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:41,577 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-08 10:05:41,595 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:41,666 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:41,667 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-08 10:05:41,688 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:41,764 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:41,764 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-08 10:05:41,782 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:41,902 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:41,902 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-08 10:05:41,923 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:41,991 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:41,992 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-08 10:05:42,010 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:42,078 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,079 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-08 10:05:42,100 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:42,168 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,169 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-08 10:05:42,188 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:42,255 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,255 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-08 10:05:42,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:42,343 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,343 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-08 10:05:42,364 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:42,368 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,368 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:05:42,373 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,374 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:05:42,399 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:05:42,403 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,404 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:05:42,429 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:05:42,435 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,435 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:05:42,514 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,515 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:05:42,693 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:05:42,742 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:05:42,782 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:05:42,857 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:42,857 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:05:42,951 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:05:43,015 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:43,030 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:05:43,097 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:43,097 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:05:43,179 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:05:43,245 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:43,262 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:05:43,329 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:43,329 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:05:43,410 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:05:43,532 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:05:43,548 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:05:43,553 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:43,554 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-08 10:05:43,628 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:43,629 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:05:48,938 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:05:59,147 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:05:59,415 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:05:59,491 - bigdata_deploy_logger - INFO - 
2023-08-08 10:05:59,491 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-08 10:06:00,247 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:06:00,308 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:06:00,455 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:06:00,512 - bigdata_deploy_logger - INFO - 
2023-08-08 10:06:00,512 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-08 10:06:01,303 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:06:01,843 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:06:01,999 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:06:02,065 - bigdata_deploy_logger - INFO - 
2023-08-08 10:06:02,065 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-08 10:06:04,022 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": false, "msg": "No package matching 'ambari-agent' found available, installed or updated", "rc": 126, "results": ["No package matching 'ambari-agent' found available, installed or updated"]}
2023-08-08 10:06:05,069 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": false, "msg": "No package matching 'ambari-agent' found available, installed or updated", "rc": 126, "results": ["No package matching 'ambari-agent' found available, installed or updated"]}
2023-08-08 10:06:05,279 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "No package matching 'ambari-agent' found available, installed or updated", "rc": 126, "results": ["No package matching 'ambari-agent' found available, installed or updated"]}
2023-08-08 10:06:05,279 - bigdata_deploy_logger - INFO - 
2023-08-08 10:06:05,280 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-08 10:06:05,281 - bigdata_deploy_logger - INFO - 
2023-08-08 10:06:05,281 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-08 10:06:05,281 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0
2023-08-08 10:06:05,282 - bigdata_deploy_logger - INFO - sdp1                       : ok=105  changed=47   unreachable=0    failed=1    skipped=41   rescued=0    ignored=1
2023-08-08 10:06:05,282 - bigdata_deploy_logger - INFO - sdp2                       : ok=68   changed=25   unreachable=0    failed=1    skipped=20   rescued=0    ignored=1
2023-08-08 10:06:05,282 - bigdata_deploy_logger - INFO - sdp3                       : ok=68   changed=25   unreachable=0    failed=1    skipped=20   rescued=0    ignored=1
2023-08-08 10:06:05,282 - bigdata_deploy_logger - INFO - 
2023-08-08 10:06:05,388 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-08 10:07:15,635 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:07:15,637 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-08 10:07:15,646 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:07:15,647 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-08 10:07:15,657 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:07:15,686 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:07:15,693 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:07:15,724 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:07:15,725 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-08 10:07:15,734 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:07:15,735 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:07:15,766 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:07:15,769 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:07:15,778 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:07:15,781 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:07:15,790 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:07:15,793 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:07:15,800 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:07:15,809 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:07:15,818 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:07:15,825 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:07:15,828 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:07:15,835 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:07:15,836 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:07:15,845 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:07:15,847 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-08 10:07:15,861 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-08 10:07:16,690 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-08 10:07:16,691 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-08 10:07:18,401 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:18,401 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:07:18,431 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:18,431 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:07:18,476 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:07:18,482 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:18,483 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:07:18,527 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:07:18,533 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:18,534 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:07:18,543 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:18,543 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:07:18,827 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:07:18,848 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:07:18,850 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:07:18,853 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:18,854 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:07:18,909 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:07:18,910 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:07:18,925 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:07:18,931 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:18,932 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:07:18,989 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:07:18,995 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:07:19,001 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:07:19,008 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:19,009 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:07:19,067 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:07:19,074 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:07:19,079 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:07:19,087 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:19,088 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-08 10:07:19,117 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:19,118 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:07:25,018 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:34,954 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:35,505 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:35,516 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:35,516 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-08 10:07:36,238 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:36,348 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:36,397 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:36,411 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:36,412 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-08 10:07:36,471 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-08 10:07:36,471 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-08 10:07:36,472 - bigdata_deploy_logger - INFO - }
2023-08-08 10:07:36,489 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-08 10:07:36,490 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-08 10:07:36,490 - bigdata_deploy_logger - INFO - }
2023-08-08 10:07:36,510 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-08 10:07:36,511 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-08 10:07:36,511 - bigdata_deploy_logger - INFO - }
2023-08-08 10:07:36,528 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:36,528 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-08 10:07:36,579 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:07:36,603 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:07:36,623 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:07:36,640 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:36,640 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-08 10:07:36,726 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:07:36,744 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:07:36,764 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:07:36,810 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:36,811 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-08 10:07:37,523 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:07:37,605 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:07:37,675 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:07:37,692 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:37,693 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-08 10:07:38,256 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:07:38,363 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:07:38,448 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:07:38,459 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:38,459 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-08 10:07:40,750 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:07:41,159 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:07:41,565 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:07:41,581 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:41,582 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-08 10:07:42,573 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-08 10:07:42,574 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:07:42,574 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:07:42,575 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:42,845 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:43,075 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:43,091 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:43,091 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-08 10:07:44,317 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:44,646 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:44,781 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:44,798 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:44,798 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-08 10:07:45,846 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:46,724 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:46,846 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:46,859 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:46,859 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-08 10:07:47,765 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:47,814 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:47,897 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:47,912 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:47,912 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-08 10:07:48,884 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:07:49,223 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:07:49,400 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:07:49,420 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:49,421 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-08 10:07:50,897 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:52,044 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:52,269 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:52,283 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:52,283 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-08 10:07:52,392 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-08 10:07:52,425 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:52,425 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-08 10:07:54,681 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:54,758 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:54,879 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:54,948 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:54,949 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-08 10:07:55,605 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:55,680 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:55,808 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:55,884 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:55,884 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-08 10:07:57,322 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:07:58,205 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:07:58,453 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:07:58,527 - bigdata_deploy_logger - INFO - 
2023-08-08 10:07:58,527 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-08 10:08:00,834 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:01,603 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:01,865 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:01,944 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:01,944 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-08 10:08:02,731 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:03,255 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:03,381 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:03,457 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:03,458 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-08 10:08:03,607 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:08:03,688 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:08:03,704 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:08:03,786 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:03,786 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-08 10:08:04,667 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:05,145 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:05,187 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:05,261 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:05,261 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-08 10:08:06,134 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-08 10:08:06,135 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-08 10:08:06,135 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-08 10:08:06,135 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-08 10:08:06,135 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:06,555 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:06,674 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:06,735 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:06,735 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-08 10:08:07,602 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:08,038 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:08,128 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:08,193 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:08,193 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-08 10:08:09,551 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:08:10,237 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:08:10,415 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:08:10,483 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:10,483 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-08 10:08:11,349 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:08:11,791 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:08:11,961 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:08:12,023 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:12,023 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-08 10:08:12,912 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:13,297 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:13,547 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:13,601 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:13,602 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-08 10:08:14,458 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-08 10:08:14,506 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-08 10:08:14,661 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-08 10:08:15,098 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-08 10:08:15,302 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-08 10:08:15,528 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-08 10:08:15,681 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-08 10:08:16,014 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-08 10:08:16,361 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-08 10:08:16,435 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:16,435 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-08 10:08:16,521 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:08:16,588 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:08:16,600 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:08:16,717 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:16,717 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-08 10:08:17,344 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:17,392 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:17,551 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:17,632 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:17,632 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-08 10:08:18,298 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:08:18,357 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:08:18,484 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:08:18,563 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:18,563 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-08 10:08:19,454 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:08:19,802 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:08:19,928 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:08:19,993 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:19,994 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-08 10:08:20,771 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:08:20,842 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:08:20,926 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:08:21,279 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:08:21,284 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-08 10:08:21,284 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:08:21,285 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:08:21,422 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:08:21,594 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:08:21,658 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:21,659 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:08:23,094 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:08:23,489 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:08:23,629 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:08:23,696 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:23,697 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:08:23,936 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:23,937 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-08 10:08:46,379 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:08:52,878 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:08:58,322 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:08:58,401 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:58,401 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-08 10:08:59,238 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:08:59,293 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:08:59,436 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:08:59,512 - bigdata_deploy_logger - INFO - 
2023-08-08 10:08:59,512 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-08 10:09:01,028 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:01,910 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:02,304 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:09:02,382 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:02,383 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-08 10:09:02,475 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:09:02,573 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:09:05,059 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:09:05,139 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:05,139 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-08 10:09:06,777 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:09:08,450 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:09:08,637 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:09:08,709 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:08,709 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-08 10:09:10,113 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:09:11,381 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:09:11,459 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:09:11,539 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:11,539 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:09:20,508 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.307825", "end": "2023-08-08 02:09:20.409016", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:09:12.101191", "stderr": " 8 Aug 02:09:20 ntpdate[62889]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:09:20 ntpdate[62889]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:09:20,509 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:09:20,987 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.708252", "end": "2023-08-08 02:09:20.923353", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:09:12.215101", "stderr": " 8 Aug 02:09:20 ntpdate[113142]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:09:20 ntpdate[113142]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:09:20,988 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:09:21,068 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.706386", "end": "2023-08-08 02:09:20.960237", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:09:12.253851", "stderr": " 8 Aug 02:09:20 ntpdate[106165]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:09:20 ntpdate[106165]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:09:21,069 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:09:21,129 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:21,129 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:09:22,014 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:09:22,443 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:09:22,533 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:09:22,600 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:22,601 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-08 10:09:24,044 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:24,854 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:24,992 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:25,074 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:25,074 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-08 10:09:25,465 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:09:25,474 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:09:25,481 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:09:25,582 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:25,583 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:25,663 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:25,727 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:25,742 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:25,859 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:25,859 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:25,944 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:26,007 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:26,023 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:26,088 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:26,089 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:26,171 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:26,238 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:26,254 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:26,324 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:26,324 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-08 10:09:27,257 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-08 10:09:27,257 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-08 10:09:27,258 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-08 10:09:27,258 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-08 10:09:27,259 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:27,651 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:27,824 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:27,888 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:27,888 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:09:28,743 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:29,190 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:29,282 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:29,352 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:29,352 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:09:29,450 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:29,526 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:29,550 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:29,634 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:29,635 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-08 10:09:29,721 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:09:29,799 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:09:29,807 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:09:29,887 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:29,887 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-08 10:09:29,971 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:09:30,030 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:09:30,044 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:09:30,108 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:30,108 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:30,190 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:30,260 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:30,275 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:30,343 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:30,344 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:30,428 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:30,494 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:30,513 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:30,582 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:30,583 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:30,718 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:30,785 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:30,806 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:30,877 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:30,878 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-08 10:09:31,784 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:32,171 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:32,382 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:32,462 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:32,462 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:09:33,354 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:33,738 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:33,833 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:33,899 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:33,899 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:09:33,985 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:34,052 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:34,071 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:34,143 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:34,144 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-08 10:09:34,277 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:09:34,342 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:09:34,348 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:09:34,418 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:34,419 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-08 10:09:34,502 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:09:34,564 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:09:34,570 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:09:34,636 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:34,637 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:34,717 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:34,783 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:34,799 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:34,872 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:34,872 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:34,956 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:35,023 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:35,037 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:35,103 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:35,103 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:09:35,186 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:35,253 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:35,274 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:35,345 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:35,345 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-08 10:09:36,262 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:36,750 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:36,872 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:36,946 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:36,946 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:09:37,808 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:38,235 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:38,435 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:38,511 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:38,511 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:09:38,609 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:09:38,684 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:09:38,705 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:09:38,785 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:38,785 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-08 10:09:38,877 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:09:38,950 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:09:38,956 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:09:39,035 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:39,035 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-08 10:09:39,125 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:09:39,237 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:09:39,244 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:09:39,246 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:39,246 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-08 10:09:40,486 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-08 10:09:40,487 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-08 10:09:40,488 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-08 10:09:40,488 - bigdata_deploy_logger - INFO - this message.
2023-08-08 10:09:40,488 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:09:40,679 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:09:41,059 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:09:41,059 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:41,060 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-08 10:09:46,876 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:09:47,855 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:09:48,321 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:09:48,327 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:48,327 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-08 10:09:48,400 - bigdata_deploy_logger - INFO - 
2023-08-08 10:09:48,400 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:10:04,078 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:10:04,144 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:04,144 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-08 10:10:04,202 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-08 10:10:04,318 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:04,318 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-08 10:10:04,349 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:04,424 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:04,424 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-08 10:10:14,250 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-08 10:10:14,316 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:14,316 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-08 10:10:16,772 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:16,856 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:16,856 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-08 10:10:17,597 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:17,664 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:17,664 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-08 10:10:18,398 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:18,464 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:18,465 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-08 10:10:19,235 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:19,305 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:19,305 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-08 10:10:19,327 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:19,396 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:19,397 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-08 10:10:19,418 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:19,419 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-08 10:10:19,419 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:19,420 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:10:21,644 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:21,720 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:21,720 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-08 10:10:23,265 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:10:23,336 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:23,336 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-08 10:10:26,157 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:26,242 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:26,242 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-08 10:10:26,356 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:10:26,421 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:26,421 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-08 10:10:26,459 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:10:26,543 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:26,543 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-08 10:10:28,016 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:28,095 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:28,095 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:10:28,122 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:28,203 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:28,203 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-08 10:10:30,021 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:30,101 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:30,102 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:10:30,129 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:30,267 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:30,267 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-08 10:10:30,383 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:10:30,457 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:30,458 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-08 10:10:31,215 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:31,296 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:31,296 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-08 10:10:31,409 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:10:31,483 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:31,483 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-08 10:10:31,512 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:10:31,590 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:31,590 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-08 10:10:33,023 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:33,104 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:33,104 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:10:33,131 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:33,220 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:33,220 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-08 10:10:34,943 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:35,011 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:35,011 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:10:35,033 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:35,106 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:35,106 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-08 10:10:35,198 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:10:35,280 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:35,280 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-08 10:10:36,070 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:36,153 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:36,153 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-08 10:10:36,265 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:10:36,344 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:36,344 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-08 10:10:36,375 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:10:36,447 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:36,447 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-08 10:10:37,892 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:37,956 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:37,956 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:10:37,979 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:38,051 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:38,051 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-08 10:10:39,913 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:39,983 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:39,984 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:10:40,006 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:40,080 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:40,080 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-08 10:10:40,175 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:10:40,240 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:40,241 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-08 10:10:40,984 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:41,106 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:41,106 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-08 10:10:41,212 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:10:41,284 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:41,284 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-08 10:10:41,330 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:10:41,419 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:41,419 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-08 10:10:42,966 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:43,050 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:43,050 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:10:43,079 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:43,166 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:43,166 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-08 10:10:44,965 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:45,046 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:45,046 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:10:45,072 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:10:45,209 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:45,209 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-08 10:10:45,322 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:10:45,398 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:45,398 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-08 10:10:46,178 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:46,180 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:46,180 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:10:48,506 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:10:48,512 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:48,512 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-08 10:10:48,592 - bigdata_deploy_logger - INFO - 
2023-08-08 10:10:48,592 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:10:54,222 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:11:04,299 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:11:05,241 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:11:05,311 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:05,311 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-08 10:11:05,399 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:11:05,467 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:11:05,501 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:11:05,573 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:05,573 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-08 10:11:05,656 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:11:05,720 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:05,734 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:11:05,849 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:05,849 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-08 10:11:05,933 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:11:05,999 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:06,013 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:11:06,017 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:06,018 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-08 10:11:06,091 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:06,092 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:11:21,819 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:11:21,897 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:21,898 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-08 10:11:21,940 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-08 10:11:22,017 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,017 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-08 10:11:22,039 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,119 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,120 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-08 10:11:22,138 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,268 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,268 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-08 10:11:22,291 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,376 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,377 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-08 10:11:22,394 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,466 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,467 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-08 10:11:22,494 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,570 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,570 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-08 10:11:22,597 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,665 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,665 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-08 10:11:22,691 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,767 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,767 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-08 10:11:22,786 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,871 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,871 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-08 10:11:22,891 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,970 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,970 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-08 10:11:22,989 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:22,994 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:22,995 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:11:23,003 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:23,004 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:11:23,026 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:11:23,032 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:23,032 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:11:23,053 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:11:23,059 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:23,060 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:11:23,135 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:23,136 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:11:23,321 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:11:23,351 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:11:23,402 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:11:23,475 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:23,476 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:11:23,570 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:11:23,639 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:23,657 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:11:23,738 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:23,738 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:11:23,831 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:11:23,898 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:23,913 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:11:24,031 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:24,031 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:11:24,113 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:11:24,177 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:11:24,192 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:11:24,201 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:24,202 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-08 10:11:24,270 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:24,270 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:11:29,915 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:11:40,022 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:11:40,056 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:11:40,166 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:40,166 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-08 10:11:40,875 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:11:40,952 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:11:41,000 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:11:41,065 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:41,065 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-08 10:11:42,002 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:11:42,386 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:11:42,522 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:11:42,594 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:42,594 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-08 10:11:50,163 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:11:53,539 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:11:53,839 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:11:53,920 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:53,921 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-08 10:11:54,747 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:11:54,785 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:11:54,919 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:11:54,988 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:54,988 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-08 10:11:55,691 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:11:55,701 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:11:55,831 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:11:55,905 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:55,905 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-08 10:11:56,653 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:11:56,692 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:11:56,801 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:11:56,880 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:56,880 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-08 10:11:57,532 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:11:57,583 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:11:57,698 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:11:57,698 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:57,698 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-08 10:11:58,658 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:11:59,167 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:11:59,454 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:11:59,454 - bigdata_deploy_logger - INFO - 
2023-08-08 10:11:59,455 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-08 10:12:03,087 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:12:03,987 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:12:04,486 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:12:04,553 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:04,553 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-08 10:12:05,528 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:12:06,001 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:12:06,117 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:12:06,194 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:06,195 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-08 10:12:07,378 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:12:08,219 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:12:08,414 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:12:08,423 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:08,423 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-08 10:12:08,502 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:08,502 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:12:24,191 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:12:24,267 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:24,267 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-08 10:12:24,315 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-08 10:12:24,382 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:24,382 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-08 10:12:44,792 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:12:44,867 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:44,867 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-08 10:12:46,178 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.615904", "end": "2023-08-08 02:12:46.077046", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:12:45.461142", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-08 10:12:46,179 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:12:46,248 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:46,249 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-08 10:12:47,128 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:12:47,197 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:47,197 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-08 10:12:47,217 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:12:47,284 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:47,285 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-08 10:12:47,992 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:12:48,112 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:48,112 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-08 10:12:52,142 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-08 10:12:56,067 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-08 10:12:56,073 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:56,073 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-08 10:12:57,736 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:12:57,803 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:57,803 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-08 10:12:57,831 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-08 10:12:57,983 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:57,983 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-08 10:12:58,005 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:12:58,134 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:58,134 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-08 10:12:58,156 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:12:58,229 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:58,229 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-08 10:12:58,248 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:12:58,321 - bigdata_deploy_logger - INFO - 
2023-08-08 10:12:58,321 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-08 10:13:00,953 - bigdata_deploy_logger - INFO - failed: [sdp1] (item=postgresql,python-psycopg2,postgresql-jdbc) => {"ansible_loop_var": "item", "changed": false, "item": "postgresql,python-psycopg2,postgresql-jdbc", "msg": "No package matching 'postgresql-jdbc' found available, installed or updated", "rc": 126, "results": ["postgresql10-10.23-1PGDG.rhel7.x86_64 providing postgresql is already installed", "No package matching 'postgresql-jdbc' found available, installed or updated"]}
2023-08-08 10:13:00,954 - bigdata_deploy_logger - INFO - 
2023-08-08 10:13:00,954 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-08 10:13:00,955 - bigdata_deploy_logger - INFO - 
2023-08-08 10:13:00,955 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-08 10:13:00,955 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0
2023-08-08 10:13:00,956 - bigdata_deploy_logger - INFO - sdp1                       : ok=122  changed=55   unreachable=0    failed=1    skipped=46   rescued=0    ignored=2
2023-08-08 10:13:00,956 - bigdata_deploy_logger - INFO - sdp2                       : ok=77   changed=31   unreachable=0    failed=0    skipped=20   rescued=0    ignored=1
2023-08-08 10:13:00,956 - bigdata_deploy_logger - INFO - sdp3                       : ok=77   changed=31   unreachable=0    failed=0    skipped=20   rescued=0    ignored=1
2023-08-08 10:13:00,956 - bigdata_deploy_logger - INFO - 
2023-08-08 10:13:01,036 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-08 10:17:05,875 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:17:05,877 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-08 10:17:05,888 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:17:05,889 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-08 10:17:05,899 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:17:05,933 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:17:05,942 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:17:05,977 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:17:05,978 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-08 10:17:05,988 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:17:05,989 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:17:06,023 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:17:06,026 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:17:06,037 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:17:06,040 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:17:06,050 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:17:06,053 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:17:06,062 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:17:06,072 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:17:06,082 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:17:06,091 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:17:06,095 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:17:06,104 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:17:06,105 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:17:06,115 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:17:06,117 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-08 10:17:06,133 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-08 10:17:06,966 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-08 10:17:06,967 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-08 10:17:08,648 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:08,648 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:17:08,683 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:08,683 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:17:08,734 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:17:08,736 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:08,736 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:17:08,783 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:17:08,787 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:08,788 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:17:08,795 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:08,795 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:17:09,084 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:09,095 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:09,125 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:09,128 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:09,128 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:17:09,177 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:17:09,184 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:17:09,189 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:17:09,192 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:09,193 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:17:09,238 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:17:09,248 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:17:09,252 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:17:09,256 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:09,256 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:17:09,305 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:17:09,312 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:17:09,317 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:17:09,321 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:09,322 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-08 10:17:09,347 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:09,347 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:17:15,066 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:25,169 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:25,485 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:25,498 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:25,498 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-08 10:17:26,242 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:26,305 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:26,379 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:26,397 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:26,397 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-08 10:17:26,453 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-08 10:17:26,453 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-08 10:17:26,453 - bigdata_deploy_logger - INFO - }
2023-08-08 10:17:26,471 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-08 10:17:26,471 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-08 10:17:26,472 - bigdata_deploy_logger - INFO - }
2023-08-08 10:17:26,490 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-08 10:17:26,491 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-08 10:17:26,491 - bigdata_deploy_logger - INFO - }
2023-08-08 10:17:26,501 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:26,502 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-08 10:17:26,555 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:17:26,572 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:17:26,587 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:17:26,599 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:26,600 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-08 10:17:26,687 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:17:26,698 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:17:26,717 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:17:26,755 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:26,755 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-08 10:17:27,466 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:27,546 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:27,587 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:27,603 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:27,604 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-08 10:17:28,178 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:28,285 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:28,373 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:28,390 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:28,390 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-08 10:17:30,764 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:31,052 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:31,531 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:31,544 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:31,544 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-08 10:17:32,478 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-08 10:17:32,478 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:17:32,479 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:17:32,479 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:32,797 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:32,932 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:32,949 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:32,950 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-08 10:17:34,087 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:34,479 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:34,587 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:34,601 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:34,601 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-08 10:17:35,716 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:36,506 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:36,699 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:36,710 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:36,710 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-08 10:17:37,616 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:37,636 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:37,744 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:37,760 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:37,760 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-08 10:17:38,725 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:39,052 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:39,195 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:39,213 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:39,213 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-08 10:17:40,656 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:41,732 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:41,922 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:41,935 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:41,936 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-08 10:17:42,042 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-08 10:17:42,076 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:42,077 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-08 10:17:44,334 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:44,358 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:44,554 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:44,614 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:44,614 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-08 10:17:45,295 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:45,334 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:45,468 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:45,550 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:45,550 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-08 10:17:47,024 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:17:47,906 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:17:48,117 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:17:48,176 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:48,176 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-08 10:17:50,499 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:51,259 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:51,539 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:51,609 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:51,609 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-08 10:17:52,460 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:52,975 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:53,083 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:53,161 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:53,161 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-08 10:17:53,253 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:17:53,325 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:17:53,337 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:17:53,464 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:53,464 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-08 10:17:54,353 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:54,787 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:54,948 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:55,026 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:55,027 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-08 10:17:55,895 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-08 10:17:55,895 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-08 10:17:55,896 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-08 10:17:55,896 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-08 10:17:55,896 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:56,396 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:56,492 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:56,557 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:56,557 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-08 10:17:57,430 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:17:57,818 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:17:58,001 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:17:58,131 - bigdata_deploy_logger - INFO - 
2023-08-08 10:17:58,132 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-08 10:17:59,354 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:18:00,217 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:18:00,240 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:18:00,309 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:00,309 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-08 10:18:01,128 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:18:01,664 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:18:01,716 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:18:01,781 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:01,782 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-08 10:18:02,640 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:18:03,082 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:18:03,182 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:18:03,260 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:03,260 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-08 10:18:04,184 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-08 10:18:04,213 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-08 10:18:04,309 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-08 10:18:04,882 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-08 10:18:04,975 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-08 10:18:05,181 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-08 10:18:05,556 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-08 10:18:05,681 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-08 10:18:05,985 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-08 10:18:06,066 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:06,067 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-08 10:18:06,163 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:18:06,238 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:18:06,252 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:18:06,318 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:06,318 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-08 10:18:06,918 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:18:06,977 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:18:07,125 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:18:07,188 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:07,188 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-08 10:18:07,809 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:18:07,879 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:18:07,982 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:18:08,060 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:08,061 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-08 10:18:08,897 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:18:09,435 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:18:09,558 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:18:09,623 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:09,623 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-08 10:18:10,299 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:18:10,361 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:18:10,416 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:18:10,818 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:18:10,823 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-08 10:18:10,824 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:18:10,824 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:18:10,966 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:18:11,132 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:18:11,202 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:11,202 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:18:12,583 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:18:13,048 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:18:13,230 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:18:13,312 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:13,312 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:18:13,606 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:13,606 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-08 10:18:37,386 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:18:45,622 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:18:54,151 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:18:54,229 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:54,229 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-08 10:18:55,013 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:18:55,117 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:18:55,286 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:18:55,362 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:55,363 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-08 10:18:56,680 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:18:57,631 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:18:58,203 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:18:58,282 - bigdata_deploy_logger - INFO - 
2023-08-08 10:18:58,282 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-08 10:18:58,374 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:18:58,471 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:19:01,050 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:19:01,175 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:01,175 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-08 10:19:02,692 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:19:04,536 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:19:04,660 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:19:04,725 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:04,726 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-08 10:19:05,994 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:19:07,396 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:19:07,464 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:19:07,543 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:07,543 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:19:16,447 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.283873", "end": "2023-08-08 02:19:16.373126", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:19:08.089253", "stderr": " 8 Aug 02:19:16 ntpdate[71512]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:19:16 ntpdate[71512]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:19:16,447 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:19:16,961 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.692314", "end": "2023-08-08 02:19:16.913363", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:19:08.221049", "stderr": " 8 Aug 02:19:16 ntpdate[119049]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:19:16 ntpdate[119049]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:19:16,962 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:19:17,060 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.697362", "end": "2023-08-08 02:19:16.973846", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:19:08.276484", "stderr": " 8 Aug 02:19:16 ntpdate[120155]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:19:16 ntpdate[120155]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:19:17,060 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:19:17,139 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:17,139 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:19:17,970 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:19:18,474 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:19:18,605 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:19:18,684 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:18,684 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-08 10:19:20,064 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:21,010 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:21,106 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:21,168 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:21,168 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-08 10:19:21,585 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:19:21,595 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:19:21,598 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:19:21,689 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:21,690 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:21,772 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:21,839 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:21,854 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:21,925 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:21,925 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:22,006 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:22,072 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:22,093 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:22,162 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:22,163 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:22,244 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:22,310 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:22,328 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:22,400 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:22,400 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-08 10:19:23,208 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-08 10:19:23,208 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-08 10:19:23,208 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-08 10:19:23,209 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-08 10:19:23,209 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:23,755 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:23,911 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:23,970 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:23,971 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:19:24,762 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:25,222 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:25,414 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:25,486 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:25,486 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:19:25,571 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:25,636 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:25,658 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:25,728 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:25,728 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-08 10:19:25,807 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:19:25,872 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:19:25,885 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:19:25,955 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:25,955 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-08 10:19:26,034 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:19:26,096 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:19:26,103 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:19:26,167 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:26,167 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:26,298 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:26,365 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:26,380 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:26,447 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:26,447 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:26,530 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:26,595 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:26,610 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:26,676 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:26,676 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:26,759 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:26,824 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:26,841 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:26,911 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:26,911 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-08 10:19:27,751 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:28,220 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:28,389 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:28,462 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:28,462 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:19:29,301 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:29,783 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:29,948 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:30,020 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:30,020 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:19:30,118 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:30,192 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:30,211 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:30,294 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:30,294 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-08 10:19:30,391 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:19:30,457 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:19:30,463 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:19:30,535 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:30,535 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-08 10:19:30,618 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:19:30,684 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:19:30,690 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:19:30,761 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:30,761 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:30,846 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:30,917 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:30,933 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:31,003 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:31,003 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:31,084 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:31,203 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:31,220 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:31,292 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:31,292 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:19:31,375 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:31,442 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:31,463 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:31,528 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:31,528 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-08 10:19:32,409 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:32,846 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:32,993 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:33,059 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:33,060 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:19:33,915 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:34,345 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:34,468 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:34,602 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:34,603 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:19:34,699 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:19:34,778 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:19:34,801 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:19:34,883 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:34,884 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-08 10:19:34,971 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:19:35,033 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:19:35,045 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:19:35,112 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:35,112 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-08 10:19:35,193 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:19:35,258 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:19:35,268 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:19:35,269 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:35,270 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-08 10:19:36,480 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-08 10:19:36,481 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-08 10:19:36,481 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-08 10:19:36,482 - bigdata_deploy_logger - INFO - this message.
2023-08-08 10:19:36,482 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:19:36,703 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:19:37,100 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:19:37,100 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:37,101 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-08 10:19:42,892 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:19:44,123 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:19:44,662 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:19:44,669 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:44,670 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-08 10:19:44,746 - bigdata_deploy_logger - INFO - 
2023-08-08 10:19:44,746 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:20:00,293 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:20:00,370 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:00,370 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-08 10:20:00,426 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-08 10:20:00,507 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:00,507 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-08 10:20:00,531 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:00,615 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:00,615 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-08 10:20:10,511 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-08 10:20:10,586 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:10,586 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-08 10:20:13,227 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:13,293 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:13,293 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-08 10:20:14,026 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:14,144 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:14,145 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-08 10:20:14,894 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:14,968 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:14,968 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-08 10:20:15,701 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:15,773 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:15,774 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-08 10:20:15,795 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:15,865 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:15,865 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-08 10:20:15,891 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:15,892 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-08 10:20:15,892 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:15,892 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:20:18,074 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:18,145 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:18,145 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-08 10:20:19,646 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:20:19,714 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:19,715 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-08 10:20:22,499 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:22,572 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:22,572 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-08 10:20:22,692 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:20:22,767 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:22,767 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-08 10:20:22,796 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:20:22,873 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:22,873 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-08 10:20:24,315 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:24,385 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:24,385 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:20:24,409 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:24,490 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:24,491 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-08 10:20:26,223 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:26,305 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:26,305 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:20:26,327 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:26,443 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:26,443 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-08 10:20:26,552 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:20:26,616 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:26,617 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-08 10:20:27,315 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:27,394 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:27,394 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-08 10:20:27,497 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:20:27,574 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:27,574 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-08 10:20:27,605 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:20:27,686 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:27,686 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-08 10:20:29,162 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:29,248 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:29,248 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:20:29,269 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:29,346 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:29,346 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-08 10:20:32,070 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:32,149 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:32,149 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:20:32,171 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:32,243 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:32,243 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-08 10:20:32,339 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:20:32,405 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:32,405 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-08 10:20:33,109 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:33,179 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:33,179 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-08 10:20:33,285 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:20:33,356 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:33,356 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-08 10:20:33,386 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:20:33,465 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:33,465 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-08 10:20:34,911 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:34,985 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:34,985 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:20:35,009 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:35,082 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:35,082 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-08 10:20:36,764 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:36,834 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:36,834 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:20:36,862 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:36,933 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:36,933 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-08 10:20:37,032 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:20:37,098 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:37,098 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-08 10:20:37,855 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:37,985 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:37,985 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-08 10:20:38,104 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:20:38,188 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:38,188 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-08 10:20:38,226 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:20:38,312 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:38,313 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-08 10:20:39,785 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:39,870 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:39,870 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:20:39,898 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:39,981 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:39,982 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-08 10:20:41,754 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:41,829 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:41,829 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:20:41,856 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:20:41,985 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:41,985 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-08 10:20:42,082 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:20:42,150 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:42,150 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-08 10:20:42,880 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:42,880 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:42,881 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:20:45,165 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:20:45,172 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:45,172 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-08 10:20:45,245 - bigdata_deploy_logger - INFO - 
2023-08-08 10:20:45,245 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:20:50,856 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:21:00,992 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:21:01,153 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:21:01,231 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:01,231 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-08 10:21:01,328 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:21:01,399 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:21:01,432 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:21:01,554 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:01,555 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-08 10:21:01,637 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:21:01,702 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:01,720 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:21:01,785 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:01,785 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-08 10:21:01,864 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:21:01,928 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:01,941 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:21:01,949 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:01,949 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-08 10:21:02,017 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:02,018 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:21:17,720 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:21:17,796 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:17,797 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-08 10:21:17,851 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-08 10:21:17,928 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:17,928 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-08 10:21:17,959 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,087 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,087 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-08 10:21:18,107 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,184 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,184 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-08 10:21:18,204 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,276 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,276 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-08 10:21:18,295 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,366 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,366 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-08 10:21:18,386 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,455 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,455 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-08 10:21:18,476 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,544 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,545 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-08 10:21:18,565 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,635 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,635 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-08 10:21:18,661 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,734 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,734 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-08 10:21:18,753 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,824 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,824 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-08 10:21:18,843 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:18,850 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,850 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:21:18,855 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,856 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:21:18,875 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:21:18,881 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,881 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:21:18,903 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:21:18,910 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,910 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:21:18,977 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:18,977 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:21:19,136 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:21:19,182 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:21:19,221 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:21:19,290 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:19,291 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:21:19,373 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:21:19,438 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:19,456 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:21:19,517 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:19,517 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:21:19,598 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:21:19,711 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:19,727 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:21:19,793 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:19,793 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:21:19,878 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:21:19,949 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:21:19,964 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:21:19,970 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:19,970 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-08 10:21:20,040 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:20,040 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:21:25,525 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:21:35,834 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:21:35,867 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:21:35,976 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:35,976 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-08 10:21:36,663 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:21:36,722 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:21:36,826 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:21:36,901 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:36,901 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-08 10:21:37,835 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:21:38,274 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:21:38,371 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:21:38,436 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:38,436 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-08 10:21:46,028 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:21:49,400 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:21:49,730 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:21:49,799 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:49,799 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-08 10:21:50,475 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:21:50,639 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:21:50,714 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:21:50,793 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:50,793 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-08 10:21:51,503 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:21:51,575 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:21:51,673 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:21:51,751 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:51,751 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-08 10:21:52,503 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:21:52,573 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:21:52,640 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:21:52,719 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:52,719 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-08 10:21:53,345 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:21:53,438 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:21:53,554 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:21:53,555 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:53,556 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-08 10:21:54,560 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:21:54,974 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:21:55,355 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:21:55,356 - bigdata_deploy_logger - INFO - 
2023-08-08 10:21:55,356 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-08 10:21:58,905 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:21:59,928 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:22:00,280 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:22:00,350 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:00,350 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-08 10:22:01,283 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:22:01,771 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:22:01,885 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:22:01,954 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:01,955 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-08 10:22:03,088 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:22:03,969 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:22:04,093 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:22:04,100 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:04,100 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-08 10:22:04,230 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:04,230 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:22:19,823 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:22:19,891 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:19,891 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-08 10:22:19,937 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-08 10:22:20,006 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:20,007 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-08 10:22:39,833 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:22:39,913 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:39,913 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-08 10:22:41,233 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.593505", "end": "2023-08-08 02:22:41.115515", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:22:40.522010", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-08 10:22:41,233 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:22:41,299 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:41,299 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-08 10:22:42,161 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:22:42,234 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:42,234 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-08 10:22:42,253 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:22:42,321 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:42,321 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-08 10:22:43,018 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:22:43,084 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:43,084 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-08 10:22:47,166 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-08 10:22:51,193 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-08 10:22:51,199 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:51,199 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-08 10:22:52,758 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:22:52,836 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:52,836 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-08 10:22:52,871 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-08 10:22:53,026 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:53,026 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-08 10:22:53,047 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:22:53,202 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:53,203 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-08 10:22:53,225 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:22:53,295 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:53,295 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-08 10:22:53,322 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:22:53,394 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:53,395 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-08 10:22:55,901 - bigdata_deploy_logger - INFO - failed: [sdp1] (item=postgresql,python-psycopg2,postgresql-jdbc) => {"ansible_loop_var": "item", "changed": false, "item": "postgresql,python-psycopg2,postgresql-jdbc", "msg": "No package matching 'postgresql-jdbc' found available, installed or updated", "rc": 126, "results": ["postgresql10-10.23-1PGDG.rhel7.x86_64 providing postgresql is already installed", "No package matching 'postgresql-jdbc' found available, installed or updated"]}
2023-08-08 10:22:55,902 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:55,902 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-08 10:22:55,903 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:55,904 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-08 10:22:55,904 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0
2023-08-08 10:22:55,905 - bigdata_deploy_logger - INFO - sdp1                       : ok=122  changed=55   unreachable=0    failed=1    skipped=46   rescued=0    ignored=2
2023-08-08 10:22:55,905 - bigdata_deploy_logger - INFO - sdp2                       : ok=77   changed=31   unreachable=0    failed=0    skipped=20   rescued=0    ignored=1
2023-08-08 10:22:55,906 - bigdata_deploy_logger - INFO - sdp3                       : ok=77   changed=31   unreachable=0    failed=0    skipped=20   rescued=0    ignored=1
2023-08-08 10:22:55,906 - bigdata_deploy_logger - INFO - 
2023-08-08 10:22:56,013 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-08 10:31:40,368 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:31:40,371 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-08 10:31:40,380 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:31:40,382 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-08 10:31:40,391 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:31:40,423 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:31:40,431 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:31:40,464 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:31:40,465 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-08 10:31:40,474 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:31:40,475 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:31:40,507 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 10:31:40,510 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:31:40,520 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:31:40,523 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:31:40,532 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:31:40,535 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 10:31:40,543 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:31:40,553 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:31:40,562 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 10:31:40,570 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:31:40,573 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 10:31:40,581 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 10:31:40,582 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 10:31:40,592 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 10:31:40,594 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-08 10:31:40,608 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-08 10:31:41,423 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-08 10:31:41,424 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-08 10:31:43,131 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,131 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:31:43,161 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,161 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:31:43,216 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:31:43,221 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,222 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:31:43,273 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:31:43,280 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,280 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:31:43,286 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,287 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:31:43,582 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:31:43,597 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:31:43,627 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:31:43,630 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,630 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:31:43,681 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:31:43,688 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:31:43,692 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:31:43,696 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,696 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:31:43,753 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:31:43,758 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:31:43,761 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:31:43,765 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,765 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:31:43,818 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:31:43,819 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:31:43,827 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:31:43,831 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,832 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-08 10:31:43,858 - bigdata_deploy_logger - INFO - 
2023-08-08 10:31:43,858 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:31:50,841 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:31:59,878 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:00,012 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:00,029 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:00,029 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-08 10:32:00,724 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:00,817 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:00,871 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:00,887 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:00,888 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-08 10:32:00,938 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-08 10:32:00,938 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-08 10:32:00,939 - bigdata_deploy_logger - INFO - }
2023-08-08 10:32:00,957 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-08 10:32:00,957 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-08 10:32:00,957 - bigdata_deploy_logger - INFO - }
2023-08-08 10:32:00,973 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-08 10:32:00,973 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-08 10:32:00,974 - bigdata_deploy_logger - INFO - }
2023-08-08 10:32:00,984 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:00,985 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-08 10:32:01,038 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:32:01,047 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:32:01,067 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:32:01,079 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:01,080 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-08 10:32:01,155 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:32:01,169 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:32:01,186 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 10:32:01,224 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:01,224 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-08 10:32:01,941 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:01,998 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:02,058 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:02,077 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:02,077 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-08 10:32:02,631 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:02,675 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:02,823 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:02,834 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:02,835 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-08 10:32:04,999 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:05,568 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:05,921 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:05,939 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:05,939 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-08 10:32:06,834 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-08 10:32:06,834 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:32:06,834 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:32:06,834 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:07,239 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:07,384 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:07,396 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:07,397 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-08 10:32:08,618 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:08,955 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:09,114 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:09,129 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:09,129 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-08 10:32:10,184 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:11,020 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:11,199 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:11,217 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:11,217 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-08 10:32:12,197 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:12,209 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:12,257 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:12,271 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:12,272 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-08 10:32:13,183 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:13,631 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:13,707 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:13,728 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:13,728 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-08 10:32:15,108 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:16,324 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:16,490 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:16,501 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:16,502 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-08 10:32:16,600 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-08 10:32:16,628 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:16,629 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-08 10:32:18,883 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:18,906 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:19,007 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:19,061 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:19,061 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-08 10:32:19,789 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:19,812 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:19,938 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:20,006 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:20,006 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-08 10:32:21,414 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:32:22,420 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:32:22,554 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:32:22,632 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:22,632 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-08 10:32:25,283 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:25,507 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:25,569 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:25,638 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:25,638 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-08 10:32:26,516 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:27,047 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:27,194 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:27,273 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:27,273 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-08 10:32:27,367 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:32:27,436 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:32:27,453 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:32:27,516 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:27,516 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-08 10:32:28,407 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:28,910 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:29,057 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:29,129 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:29,129 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-08 10:32:29,900 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-08 10:32:29,901 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-08 10:32:29,902 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-08 10:32:29,902 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-08 10:32:29,903 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:30,438 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:30,593 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:30,670 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:30,670 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-08 10:32:31,523 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:31,970 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:32,121 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:32,193 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:32,193 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-08 10:32:33,517 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:32:34,314 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:32:34,509 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 10:32:34,589 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:34,589 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-08 10:32:35,395 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:32:35,948 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:32:36,114 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 10:32:36,191 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:36,192 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-08 10:32:37,000 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:37,539 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:37,675 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:37,752 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:37,752 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-08 10:32:38,673 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-08 10:32:38,675 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-08 10:32:38,785 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-08 10:32:39,307 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-08 10:32:39,425 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-08 10:32:39,670 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-08 10:32:39,985 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-08 10:32:40,155 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-08 10:32:40,534 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-08 10:32:40,617 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:40,617 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-08 10:32:40,711 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:32:40,788 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:32:40,801 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:32:40,879 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:40,880 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-08 10:32:41,483 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:32:41,568 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:32:41,738 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:32:41,803 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:41,804 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-08 10:32:42,439 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:32:42,597 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:32:42,686 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-08 10:32:42,754 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:42,754 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-08 10:32:43,516 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:32:44,043 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:32:44,197 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 10:32:44,277 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:44,277 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-08 10:32:45,046 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:32:45,100 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:32:45,205 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 10:32:45,541 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:32:45,543 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-08 10:32:45,543 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 10:32:45,544 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 10:32:45,728 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:32:45,968 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 10:32:46,040 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:46,041 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:32:47,389 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:32:47,808 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:32:47,970 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 10:32:48,046 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:48,046 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 10:32:48,291 - bigdata_deploy_logger - INFO - 
2023-08-08 10:32:48,292 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-08 10:33:12,170 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:33:20,103 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:33:28,601 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:33:28,730 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:28,731 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-08 10:33:29,537 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:29,558 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:29,694 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:33:29,760 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:29,760 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-08 10:33:31,117 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:32,036 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:32,635 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:33:32,711 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:32,711 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-08 10:33:32,855 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:33:32,952 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:33:35,452 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:33:35,529 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:35,529 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-08 10:33:37,077 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:33:38,973 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:33:38,991 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:33:39,055 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:39,055 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-08 10:33:40,350 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:33:41,694 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:33:41,794 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:33:41,921 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:41,921 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:33:50,744 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.278123", "end": "2023-08-08 02:33:50.675379", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:33:42.397256", "stderr": " 8 Aug 02:33:50 ntpdate[80213]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:33:50 ntpdate[80213]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:33:50,744 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:33:51,373 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.705458", "end": "2023-08-08 02:33:51.291193", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:33:42.585735", "stderr": " 8 Aug 02:33:51 ntpdate[125003]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:33:51 ntpdate[125003]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:33:51,373 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:33:51,445 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.691340", "end": "2023-08-08 02:33:51.352106", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:33:42.660766", "stderr": " 8 Aug 02:33:51 ntpdate[3598]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 02:33:51 ntpdate[3598]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 10:33:51,445 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:33:51,521 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:51,521 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 10:33:52,306 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:33:52,890 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:33:52,997 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:33:53,063 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:53,063 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-08 10:33:54,555 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:55,372 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:55,492 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:33:55,619 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:55,619 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-08 10:33:55,992 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:33:56,000 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:33:56,007 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 10:33:56,104 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:56,105 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:33:56,189 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:56,256 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:33:56,269 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:56,339 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:56,339 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:33:56,424 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:56,491 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:33:56,505 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:56,574 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:56,575 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:33:56,658 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:56,723 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:33:56,738 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:56,807 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:56,807 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-08 10:33:57,714 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-08 10:33:57,714 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-08 10:33:57,714 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-08 10:33:57,714 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-08 10:33:57,714 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:58,426 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:58,505 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:33:58,566 - bigdata_deploy_logger - INFO - 
2023-08-08 10:33:58,567 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:33:59,402 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:33:59,872 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:33:59,964 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:00,043 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:00,043 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:34:00,135 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:00,211 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:00,230 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:00,311 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:00,311 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-08 10:34:00,403 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:34:00,531 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:00,538 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:34:00,617 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:00,617 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-08 10:34:00,698 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:34:00,762 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:00,769 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:34:00,835 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:00,836 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:34:00,921 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:00,987 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:01,006 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:01,080 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:01,081 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:34:01,178 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:01,244 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:01,261 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:01,332 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:01,332 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:34:01,413 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:01,479 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:01,496 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:01,571 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:01,571 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-08 10:34:02,469 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:02,883 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:03,134 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:03,196 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:03,196 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:34:03,991 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:04,515 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:04,594 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:04,671 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:04,671 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:34:04,767 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:04,838 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:04,860 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:04,929 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:04,929 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-08 10:34:05,017 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:34:05,079 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:05,086 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:34:05,155 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:05,155 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-08 10:34:05,234 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:34:05,297 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:05,304 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:34:05,422 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:05,422 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:34:05,507 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:05,574 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:05,589 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:05,654 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:05,655 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:34:05,737 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:05,803 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:05,819 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:05,890 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:05,890 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 10:34:05,973 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:06,039 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:06,055 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:06,129 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:06,130 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-08 10:34:06,966 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:07,462 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:07,572 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:07,638 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:07,639 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 10:34:08,541 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:08,920 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:09,086 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:09,157 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:09,157 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 10:34:09,240 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:34:09,307 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:09,328 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:34:09,398 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:09,399 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-08 10:34:09,483 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:34:09,551 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:09,559 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:34:09,642 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:09,642 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-08 10:34:09,725 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:34:09,790 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:09,798 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:34:09,800 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:09,800 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-08 10:34:10,989 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-08 10:34:10,989 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-08 10:34:10,989 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-08 10:34:10,989 - bigdata_deploy_logger - INFO - this message.
2023-08-08 10:34:10,990 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:34:11,265 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:34:11,670 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:11,670 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:11,671 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-08 10:34:17,521 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:34:18,779 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:34:19,224 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:19,232 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:19,232 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-08 10:34:19,315 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:19,316 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:34:35,154 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:35,219 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:35,219 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-08 10:34:35,271 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-08 10:34:35,339 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:35,339 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-08 10:34:35,362 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:35,431 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:35,431 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-08 10:34:45,334 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-08 10:34:45,469 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:45,469 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-08 10:34:48,018 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:48,087 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:48,087 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-08 10:34:48,832 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:48,902 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:48,902 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-08 10:34:49,683 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:49,754 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:49,754 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-08 10:34:50,564 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:50,630 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:50,631 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-08 10:34:50,652 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:50,720 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:50,720 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-08 10:34:50,741 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:50,742 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-08 10:34:50,742 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:50,743 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:34:53,078 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:53,142 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:53,142 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-08 10:34:54,700 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:54,769 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:54,769 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-08 10:34:57,713 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:57,792 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:57,792 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-08 10:34:57,911 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:34:57,995 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:57,995 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-08 10:34:58,029 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:34:58,096 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:58,096 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-08 10:34:59,700 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:34:59,819 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:59,819 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:34:59,843 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:34:59,928 - bigdata_deploy_logger - INFO - 
2023-08-08 10:34:59,928 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-08 10:35:01,704 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:01,779 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:01,779 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:35:01,805 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:01,874 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:01,874 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-08 10:35:01,975 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:35:02,043 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:02,043 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-08 10:35:02,800 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:02,872 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:02,872 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-08 10:35:02,970 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:35:03,035 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:03,036 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-08 10:35:03,068 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:35:03,182 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:03,183 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-08 10:35:04,700 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:04,770 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:04,771 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:35:04,795 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:04,866 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:04,867 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-08 10:35:06,655 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:06,727 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:06,727 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:35:06,748 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:06,824 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:06,824 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-08 10:35:06,918 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:35:06,985 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:06,985 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-08 10:35:07,774 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:07,888 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:07,889 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-08 10:35:07,993 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:35:08,064 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:08,064 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-08 10:35:08,100 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:35:08,187 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:08,187 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-08 10:35:09,654 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:09,726 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:09,726 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:35:09,750 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:09,825 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:09,825 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-08 10:35:11,526 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:11,592 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:11,593 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:35:11,621 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:11,737 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:11,737 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-08 10:35:11,853 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:35:11,931 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:11,932 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-08 10:35:12,629 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:12,706 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:12,706 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-08 10:35:12,802 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 10:35:12,872 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:12,872 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-08 10:35:12,903 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:35:12,977 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:12,978 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-08 10:35:14,422 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:14,505 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:14,505 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 10:35:14,528 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:14,605 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:14,605 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-08 10:35:16,343 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:16,410 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:16,410 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 10:35:16,432 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:16,505 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:16,505 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-08 10:35:16,602 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 10:35:16,668 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:16,668 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-08 10:35:17,405 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:17,405 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:17,406 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 10:35:19,585 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:19,591 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:19,592 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-08 10:35:19,669 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:19,670 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:35:25,367 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:35:35,360 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:35:35,390 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:35:35,451 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:35,451 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-08 10:35:35,554 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:35:35,633 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:35:35,669 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 10:35:35,750 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:35,751 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-08 10:35:35,850 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:35:35,924 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:35,938 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:35:36,048 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:36,048 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-08 10:35:36,128 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:35:36,190 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:36,202 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:35:36,206 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:36,207 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-08 10:35:36,281 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:36,281 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:35:52,064 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:35:52,135 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,135 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-08 10:35:52,180 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-08 10:35:52,251 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,251 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-08 10:35:52,277 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:52,348 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,348 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-08 10:35:52,373 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:52,447 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,447 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-08 10:35:52,468 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:52,541 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,541 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-08 10:35:52,564 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:52,678 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,679 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-08 10:35:52,703 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:52,775 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,775 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-08 10:35:52,795 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:52,865 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,866 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-08 10:35:52,885 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:52,958 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:52,959 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-08 10:35:52,983 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:53,055 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,055 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-08 10:35:53,076 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:53,145 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,146 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-08 10:35:53,167 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:53,170 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,171 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:35:53,176 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,176 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:35:53,202 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:35:53,206 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,207 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:35:53,236 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:35:53,239 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,240 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:35:53,308 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,308 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:35:53,475 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:35:53,537 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:35:53,560 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:35:53,626 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,627 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:35:53,710 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:35:53,775 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:53,788 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:35:53,855 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:53,855 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:35:53,937 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:35:54,002 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:54,016 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:35:54,081 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:54,082 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:35:54,162 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:35:54,276 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:35:54,290 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:35:54,295 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:54,296 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-08 10:35:54,365 - bigdata_deploy_logger - INFO - 
2023-08-08 10:35:54,365 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:35:59,824 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:36:10,081 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:36:10,151 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:36:10,211 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:10,211 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-08 10:36:11,023 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:36:11,094 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:36:11,146 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:36:11,222 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:11,222 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-08 10:36:12,114 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:36:12,619 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:36:12,840 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:36:12,907 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:12,907 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-08 10:36:20,509 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:36:24,093 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:36:24,154 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:36:24,231 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:24,231 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-08 10:36:24,901 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:36:25,091 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:36:25,156 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:36:25,238 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:25,238 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-08 10:36:25,946 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:36:26,001 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:36:26,078 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:36:26,157 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:26,157 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-08 10:36:26,922 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:36:26,943 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:36:27,060 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:36:27,139 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:27,139 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-08 10:36:27,755 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:36:27,869 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:36:28,015 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:36:28,018 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:28,018 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-08 10:36:29,078 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:36:29,522 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:36:29,863 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:36:29,863 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:29,864 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-08 10:36:33,457 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:36:34,387 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:36:34,797 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:36:34,880 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:34,880 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-08 10:36:35,841 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:36:36,375 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:36:36,572 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:36:36,647 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:36,647 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-08 10:36:37,787 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:36:38,645 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:36:38,880 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:36:38,884 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:38,884 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-08 10:36:38,974 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:38,974 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:36:54,600 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:36:54,676 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:54,676 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-08 10:36:54,723 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-08 10:36:54,794 - bigdata_deploy_logger - INFO - 
2023-08-08 10:36:54,794 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-08 10:37:14,670 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:14,742 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:14,742 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-08 10:37:16,101 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.599762", "end": "2023-08-08 02:37:16.001515", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 02:37:15.401753", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-08 10:37:16,102 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 10:37:16,164 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:16,164 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-08 10:37:17,007 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:17,077 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:17,077 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-08 10:37:17,096 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:37:17,165 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:17,165 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-08 10:37:17,850 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:37:17,918 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:17,918 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-08 10:37:21,858 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-08 10:37:25,890 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-08 10:37:25,896 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:25,896 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-08 10:37:27,518 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:37:27,588 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:27,588 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-08 10:37:27,615 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-08 10:37:27,789 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:27,789 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-08 10:37:27,809 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:37:27,942 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:27,942 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-08 10:37:27,963 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:37:28,031 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:28,031 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-08 10:37:28,054 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:37:28,123 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:28,123 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-08 10:37:33,298 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-08 10:37:33,372 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:33,372 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-08 10:37:35,628 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:35,697 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:35,697 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-08 10:37:35,720 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:37:35,788 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:35,788 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-08 10:37:35,810 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:37:35,934 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:35,934 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-08 10:37:37,656 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:37,724 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:37,724 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-08 10:37:37,756 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:37:37,827 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:37,828 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-08 10:37:37,848 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:37:37,919 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:37,919 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-08 10:37:41,266 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:41,349 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:41,349 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-08 10:37:42,053 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:42,130 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:42,130 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-08 10:37:42,857 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:42,858 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:42,859 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-08 10:37:56,917 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:37:56,917 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:56,918 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-08 10:37:58,855 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:37:58,936 - bigdata_deploy_logger - INFO - 
2023-08-08 10:37:58,937 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-08 10:38:00,401 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:00,469 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:00,469 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-08 10:38:02,556 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:02,558 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:02,559 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:38:02,563 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:02,564 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:38:02,587 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:38:02,591 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:02,591 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:38:02,615 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:38:02,618 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:02,618 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:38:02,688 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:02,688 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:38:02,913 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:38:02,981 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:38:03,122 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:38:03,191 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:03,191 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:38:03,273 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:38:03,342 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:38:03,357 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:38:03,422 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:03,422 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:38:03,550 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:38:03,619 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:38:03,635 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:38:03,700 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:03,701 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:38:03,781 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:38:03,847 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:38:03,862 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:38:03,866 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:03,866 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-08 10:38:03,933 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:03,934 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:38:09,417 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:38:19,545 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:38:19,779 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:19,784 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:19,784 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-08 10:38:19,859 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:19,860 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:38:36,496 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:36,573 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:36,573 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-08 10:38:36,621 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-08 10:38:36,701 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:36,701 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-08 10:38:37,442 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:38:37,515 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:37,515 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-08 10:38:37,538 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:38:37,608 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:37,608 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-08 10:38:38,903 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:39,014 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:39,014 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-08 10:38:39,039 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:39,105 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:39,106 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-08 10:38:39,293 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:39,362 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:39,362 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-08 10:38:40,207 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:40,291 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:40,291 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-08 10:38:41,688 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-08 10:38:42,555 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-08 10:38:43,424 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-08 10:38:43,444 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:43,444 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-08 10:38:57,810 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:38:57,811 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:57,811 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-08 10:38:59,622 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:38:59,629 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:59,629 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 10:38:59,635 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:59,636 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 10:38:59,665 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:38:59,671 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:59,671 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 10:38:59,694 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 10:38:59,700 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:59,701 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 10:38:59,778 - bigdata_deploy_logger - INFO - 
2023-08-08 10:38:59,778 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 10:39:00,028 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 10:39:00,029 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 10:39:00,104 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 10:39:00,183 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:00,183 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 10:39:00,277 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:39:00,355 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:39:00,375 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:39:00,448 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:00,448 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 10:39:00,528 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:39:00,594 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:39:00,614 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:39:00,681 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:00,682 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 10:39:00,762 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 10:39:00,827 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:39:00,852 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 10:39:00,859 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:00,860 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-08 10:39:00,924 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:00,924 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:39:06,327 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 10:39:16,457 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 10:39:16,537 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:16,541 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:16,541 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-08 10:39:16,617 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:16,618 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 10:39:32,311 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:32,380 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:32,380 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-08 10:39:32,424 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-08 10:39:32,497 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:32,497 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-08 10:39:33,932 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:34,016 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:34,016 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-08 10:39:34,034 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:39:34,152 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:34,152 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-08 10:39:34,218 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:34,289 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:34,289 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-08 10:39:34,308 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:39:34,379 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:34,379 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-08 10:39:34,413 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:34,482 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:34,482 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-08 10:39:34,501 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 10:39:34,575 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:34,575 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-08 10:39:35,461 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:35,531 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:35,531 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-08 10:39:36,430 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:36,507 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:36,507 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-08 10:39:37,515 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:37,584 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:37,584 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-08 10:39:40,694 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:39:40,758 - bigdata_deploy_logger - INFO - 
2023-08-08 10:39:40,758 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-08 10:39:41,989 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-08 10:39:52,857 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-08 10:40:04,491 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-08 10:40:15,394 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-08 10:40:26,192 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-08 10:40:37,006 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-08 10:40:51,172 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-08 10:41:01,997 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-08 10:41:12,800 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-08 10:41:23,651 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-08 10:41:34,479 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-08 10:41:45,319 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-08 10:41:56,291 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-08 10:42:07,182 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-08 10:42:18,085 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-08 10:42:28,913 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-08 10:42:39,868 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-08 10:42:50,618 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-08 10:43:01,391 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-08 10:43:12,231 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-08 10:43:23,074 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-08 10:43:34,031 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-08 10:43:44,888 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-08 10:43:55,806 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-08 10:44:06,606 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-08 10:44:17,451 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-08 10:44:28,295 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-08 10:44:39,143 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-08 10:44:49,979 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-08 10:45:00,778 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-08 10:45:11,598 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-08 10:45:22,427 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-08 10:45:33,218 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-08 10:45:44,074 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-08 10:45:54,890 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-08 10:46:05,772 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-08 10:46:16,611 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-08 10:46:27,496 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-08 10:46:38,506 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-08 10:46:49,408 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-08 10:47:00,329 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-08 10:47:11,270 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-08 10:47:22,060 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-08 10:47:32,950 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-08 10:47:43,748 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-08 10:47:57,932 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-08 10:48:08,831 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-08 10:48:19,712 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-08 10:48:30,631 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-08 10:48:41,556 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-08 10:48:52,369 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-08 10:49:03,190 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-08 10:49:14,006 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-08 10:49:24,830 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-08 10:49:35,747 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-08 10:49:46,523 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-08 10:49:57,380 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-08 10:50:08,449 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-08 10:50:19,265 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-08 10:50:30,089 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-08 10:50:40,906 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-08 10:50:51,717 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-08 10:51:02,501 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-08 10:51:13,270 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-08 10:51:24,116 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-08 10:51:34,924 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-08 10:51:45,741 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-08 10:51:56,570 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-08 10:52:07,360 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-08 10:52:18,138 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-08 10:52:28,976 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-08 10:52:39,730 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-08 10:52:50,519 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-08 10:53:01,331 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-08 10:53:12,189 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-08 10:53:23,023 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 10:53:23,087 - bigdata_deploy_logger - INFO - 
2023-08-08 10:53:23,087 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-08 10:53:23,138 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-08 10:53:23,138 - bigdata_deploy_logger - INFO - 
2023-08-08 10:53:23,138 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-08 10:53:23,139 - bigdata_deploy_logger - INFO - 
2023-08-08 10:53:23,139 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-08 10:53:23,139 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-08 10:53:23,140 - bigdata_deploy_logger - INFO - sdp1                       : ok=158  changed=66   unreachable=0    failed=1    skipped=58   rescued=0    ignored=2
2023-08-08 10:53:23,140 - bigdata_deploy_logger - INFO - sdp2                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-08 10:53:23,140 - bigdata_deploy_logger - INFO - sdp3                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-08 10:53:23,140 - bigdata_deploy_logger - INFO - 
2023-08-08 10:53:23,242 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-08 14:00:02,952 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 14:00:02,955 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-08 14:00:02,964 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 14:00:02,965 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-08 14:00:02,975 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 14:00:03,006 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 14:00:03,014 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 14:00:03,044 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 14:00:03,045 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-08 14:00:03,054 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 14:00:03,055 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 14:00:03,084 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 14:00:03,088 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 14:00:03,098 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 14:00:03,101 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 14:00:03,110 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 14:00:03,113 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 14:00:03,120 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 14:00:03,130 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 14:00:03,139 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 14:00:03,147 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 14:00:03,150 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 14:00:03,158 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 14:00:03,159 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 14:00:03,168 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 14:00:03,170 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-08 14:00:03,185 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-08 14:00:04,047 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-08 14:00:04,048 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-08 14:00:05,747 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:05,747 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 14:00:05,780 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:05,780 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 14:00:05,835 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:00:05,839 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:05,839 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 14:00:05,889 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:00:05,893 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:05,893 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 14:00:05,901 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:05,901 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 14:00:06,184 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:06,196 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:06,220 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:06,223 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:06,223 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 14:00:06,272 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:00:06,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:00:06,294 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:00:06,297 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:06,298 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 14:00:06,345 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:00:06,350 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:00:06,366 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:00:06,370 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:06,371 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 14:00:06,419 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:00:06,425 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:00:06,444 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:00:06,448 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:06,448 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-08 14:00:06,473 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:06,473 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:00:12,415 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:22,447 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:22,688 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:22,702 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:22,702 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-08 14:00:23,464 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:23,540 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:23,618 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:23,636 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:23,637 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-08 14:00:23,689 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-08 14:00:23,689 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-08 14:00:23,690 - bigdata_deploy_logger - INFO - }
2023-08-08 14:00:23,711 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-08 14:00:23,711 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-08 14:00:23,711 - bigdata_deploy_logger - INFO - }
2023-08-08 14:00:23,733 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-08 14:00:23,733 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-08 14:00:23,733 - bigdata_deploy_logger - INFO - }
2023-08-08 14:00:23,748 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:23,749 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-08 14:00:23,796 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:00:23,824 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:00:23,843 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:00:23,859 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:23,860 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-08 14:00:23,934 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 14:00:23,966 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 14:00:23,987 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 14:00:24,031 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:24,032 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-08 14:00:24,738 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:24,820 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:24,939 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:24,959 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:24,960 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-08 14:00:25,513 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:25,593 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:25,689 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:25,706 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:25,706 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-08 14:00:27,950 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:28,346 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:28,873 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:28,886 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:28,886 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-08 14:00:29,827 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-08 14:00:29,827 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 14:00:29,827 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 14:00:29,827 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:30,198 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:30,371 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:30,387 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:30,388 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-08 14:00:31,606 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:31,907 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:32,057 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:32,069 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:32,069 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-08 14:00:33,237 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:34,035 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:34,271 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:34,285 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:34,286 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-08 14:00:35,248 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:35,253 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:35,361 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:35,376 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:35,377 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-08 14:00:36,409 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:36,704 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:36,870 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:36,884 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:36,884 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-08 14:00:38,286 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:39,527 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:39,714 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:39,729 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:39,729 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-08 14:00:39,833 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-08 14:00:39,868 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:39,868 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-08 14:00:42,090 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:42,252 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:42,325 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:42,384 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:42,384 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-08 14:00:43,029 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:43,062 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:43,195 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:43,264 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:43,264 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-08 14:00:44,740 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:00:45,622 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:00:45,885 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:00:45,964 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:45,964 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-08 14:00:48,196 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:48,745 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:49,068 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:49,149 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:49,149 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-08 14:00:49,930 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:50,601 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:50,606 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:50,686 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:50,687 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-08 14:00:50,776 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:00:50,845 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:00:50,857 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:00:50,925 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:50,925 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-08 14:00:51,740 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:52,186 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:52,356 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:52,427 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:52,427 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-08 14:00:53,235 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-08 14:00:53,236 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-08 14:00:53,236 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-08 14:00:53,236 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-08 14:00:53,236 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:53,728 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:53,850 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:53,913 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:53,913 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-08 14:00:54,681 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:00:55,217 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:00:55,362 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:00:55,426 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:55,426 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-08 14:00:56,685 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 14:00:57,575 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 14:00:57,722 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 14:00:57,793 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:57,794 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-08 14:00:58,661 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 14:00:59,176 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 14:00:59,303 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 14:00:59,381 - bigdata_deploy_logger - INFO - 
2023-08-08 14:00:59,381 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-08 14:01:00,158 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:01:00,679 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:01:00,858 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:01:00,925 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:00,925 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-08 14:01:01,853 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-08 14:01:01,868 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-08 14:01:01,957 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-08 14:01:02,564 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-08 14:01:02,650 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-08 14:01:02,900 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-08 14:01:03,187 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-08 14:01:03,363 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-08 14:01:03,722 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-08 14:01:03,797 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:03,797 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-08 14:01:03,882 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:01:03,996 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:01:04,014 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:01:04,085 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:04,085 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-08 14:01:04,665 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:01:04,797 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:01:04,904 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:01:04,975 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:04,976 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-08 14:01:05,620 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-08 14:01:05,659 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-08 14:01:05,825 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-08 14:01:05,903 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:05,903 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-08 14:01:06,732 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 14:01:07,316 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 14:01:07,430 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 14:01:07,508 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:07,508 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-08 14:01:08,246 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 14:01:08,278 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 14:01:08,354 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 14:01:08,763 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 14:01:08,767 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-08 14:01:08,768 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 14:01:08,768 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 14:01:08,905 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 14:01:09,045 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 14:01:09,116 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:09,116 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 14:01:10,555 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 14:01:10,856 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 14:01:11,074 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 14:01:11,141 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:11,142 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 14:01:11,429 - bigdata_deploy_logger - INFO - 
2023-08-08 14:01:11,429 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-08 14:01:43,134 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:01:54,946 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:02:02,623 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:02,702 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:02,702 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-08 14:02:03,519 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:03,655 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:03,717 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:03,785 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:03,785 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-08 14:02:05,217 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:06,030 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:06,542 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:06,613 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:06,614 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-08 14:02:06,703 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:02:06,801 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:02:09,309 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:09,432 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:09,432 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-08 14:02:11,059 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:02:12,745 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:02:12,878 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:12,949 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:12,949 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-08 14:02:14,332 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:02:15,559 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:02:15,772 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:15,840 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:15,840 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 14:02:24,859 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.315262", "end": "2023-08-08 06:02:24.727689", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 06:02:16.412427", "stderr": " 8 Aug 06:02:24 ntpdate[47629]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 06:02:24 ntpdate[47629]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 14:02:24,859 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 14:02:25,262 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.700727", "end": "2023-08-08 06:02:25.177509", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 06:02:16.476782", "stderr": " 8 Aug 06:02:25 ntpdate[93332]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 06:02:25 ntpdate[93332]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 14:02:25,262 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 14:02:25,361 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.715593", "end": "2023-08-08 06:02:25.232287", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 06:02:16.516694", "stderr": " 8 Aug 06:02:25 ntpdate[4291]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 06:02:25 ntpdate[4291]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 14:02:25,362 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 14:02:25,441 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:25,442 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 14:02:26,341 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:02:26,791 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:02:26,927 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:27,010 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:27,010 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-08 14:02:28,477 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:29,354 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:29,601 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:29,730 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:29,731 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-08 14:02:30,183 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 14:02:30,193 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 14:02:30,199 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-08 14:02:30,306 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:30,306 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:30,392 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:30,458 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:30,478 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:30,549 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:30,549 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:30,632 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:30,701 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:30,719 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:30,790 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:30,790 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:30,886 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:30,960 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:30,980 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:31,054 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:31,054 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-08 14:02:32,022 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-08 14:02:32,023 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-08 14:02:32,024 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-08 14:02:32,024 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-08 14:02:32,024 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:32,496 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:32,643 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:32,724 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:32,725 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 14:02:33,617 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:34,033 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:34,173 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:34,253 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:34,253 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 14:02:34,354 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:34,433 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:34,462 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:34,544 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:34,544 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-08 14:02:34,631 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:02:34,745 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:02:34,756 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:02:34,823 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:34,823 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-08 14:02:34,913 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:02:34,982 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:02:34,988 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:02:35,057 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:35,057 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:35,144 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:35,217 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:35,236 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:35,307 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:35,307 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:35,407 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:35,486 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:35,501 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:35,582 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:35,582 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:35,671 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:35,740 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:35,758 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:35,834 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:35,834 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-08 14:02:36,762 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:37,285 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:37,363 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:37,439 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:37,439 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 14:02:38,322 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:38,781 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:38,924 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:38,988 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:38,989 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 14:02:39,077 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:39,147 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:39,171 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:39,243 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:39,243 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-08 14:02:39,335 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:02:39,402 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:02:39,416 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:02:39,488 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:39,488 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-08 14:02:39,570 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:02:39,688 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:02:39,695 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:02:39,765 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:39,766 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:39,856 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:39,927 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:39,947 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:40,016 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:40,016 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:40,131 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:40,230 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:40,254 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:40,321 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:40,321 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 14:02:40,453 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:40,524 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:40,548 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:40,616 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:40,616 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-08 14:02:41,522 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:41,968 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:42,153 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:42,290 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:42,290 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 14:02:43,136 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:43,622 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:43,788 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:43,852 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:43,852 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 14:02:43,941 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:02:44,014 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:02:44,035 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:02:44,105 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:44,105 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-08 14:02:44,188 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:02:44,258 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:02:44,264 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:02:44,336 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:44,336 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-08 14:02:44,418 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:02:44,483 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:02:44,490 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:02:44,491 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:44,491 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-08 14:02:45,720 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-08 14:02:45,721 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-08 14:02:45,722 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-08 14:02:45,722 - bigdata_deploy_logger - INFO - this message.
2023-08-08 14:02:45,722 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:02:45,910 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:02:46,360 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:46,360 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:46,361 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-08 14:02:52,322 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:02:53,411 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:02:53,920 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:02:53,925 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:53,926 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-08 14:02:54,001 - bigdata_deploy_logger - INFO - 
2023-08-08 14:02:54,001 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:03:09,763 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:03:09,829 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:09,829 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-08 14:03:09,886 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-08 14:03:09,955 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:09,955 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-08 14:03:09,980 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:10,051 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:10,051 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-08 14:03:20,220 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-08 14:03:20,295 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:20,295 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-08 14:03:22,852 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:23,002 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:23,002 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-08 14:03:23,717 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:23,793 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:23,793 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-08 14:03:24,557 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:24,627 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:24,627 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-08 14:03:25,385 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:25,468 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:25,468 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-08 14:03:25,491 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:25,576 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:25,576 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-08 14:03:25,599 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:25,603 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-08 14:03:25,603 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:25,604 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 14:03:27,864 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:27,949 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:27,949 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-08 14:03:29,620 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:03:29,685 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:29,685 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-08 14:03:32,543 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:32,617 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:32,617 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-08 14:03:32,727 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 14:03:32,793 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:32,794 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-08 14:03:32,826 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:03:32,900 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:32,900 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-08 14:03:34,355 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:34,427 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:34,428 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 14:03:34,450 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:34,572 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:34,573 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-08 14:03:36,282 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:36,367 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:36,367 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 14:03:36,392 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:36,465 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:36,465 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-08 14:03:36,561 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 14:03:36,630 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:36,630 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-08 14:03:37,329 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:37,400 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:37,400 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-08 14:03:37,494 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 14:03:37,563 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:37,563 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-08 14:03:37,593 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:03:37,714 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:37,715 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-08 14:03:39,190 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:39,263 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:39,263 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 14:03:39,295 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:39,370 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:39,370 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-08 14:03:41,138 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:41,220 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:41,220 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 14:03:41,246 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:41,331 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:41,331 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-08 14:03:41,440 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 14:03:41,524 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:41,524 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-08 14:03:42,287 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:42,369 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:42,369 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-08 14:03:42,484 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 14:03:42,618 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:42,618 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-08 14:03:42,658 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:03:42,743 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:42,743 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-08 14:03:44,154 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:44,240 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:44,240 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 14:03:44,271 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:44,360 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:44,360 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-08 14:03:46,156 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:46,228 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:46,228 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 14:03:46,252 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:46,330 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:46,330 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-08 14:03:46,471 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 14:03:46,539 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:46,539 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-08 14:03:47,268 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:47,352 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:47,352 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-08 14:03:47,463 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-08 14:03:47,547 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:47,547 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-08 14:03:47,578 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:03:47,654 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:47,655 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-08 14:03:49,122 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:49,207 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:49,207 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 14:03:49,234 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:49,321 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:49,321 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-08 14:03:51,013 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:51,099 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:51,099 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 14:03:51,130 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:03:51,276 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:51,276 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-08 14:03:51,372 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-08 14:03:51,441 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:51,442 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-08 14:03:52,151 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:52,152 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:52,153 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 14:03:54,448 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:03:54,453 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:54,453 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-08 14:03:54,532 - bigdata_deploy_logger - INFO - 
2023-08-08 14:03:54,532 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:04:00,176 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:04:10,416 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:04:10,437 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:04:10,499 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:10,499 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-08 14:04:10,590 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 14:04:10,663 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 14:04:10,701 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 14:04:10,767 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:10,767 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-08 14:04:10,851 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:04:10,918 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:10,932 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:04:11,003 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:11,003 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-08 14:04:11,139 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:04:11,206 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:11,219 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:04:11,224 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:11,224 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-08 14:04:11,304 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:11,304 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:04:26,978 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:04:27,045 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,045 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-08 14:04:27,093 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-08 14:04:27,168 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,168 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-08 14:04:27,195 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,267 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,268 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-08 14:04:27,287 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,361 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,362 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-08 14:04:27,383 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,456 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,456 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-08 14:04:27,477 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,590 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,591 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-08 14:04:27,610 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,680 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,680 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-08 14:04:27,704 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,773 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,774 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-08 14:04:27,795 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,865 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,865 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-08 14:04:27,885 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:27,955 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:27,955 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-08 14:04:27,975 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:28,043 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,043 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-08 14:04:28,061 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:28,068 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,069 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 14:04:28,075 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,075 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 14:04:28,097 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:04:28,106 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,106 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 14:04:28,132 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:04:28,139 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,139 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 14:04:28,218 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,219 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 14:04:28,409 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:04:28,463 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:04:28,492 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:04:28,562 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,562 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 14:04:28,646 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:04:28,713 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:28,728 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:04:28,802 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:28,802 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 14:04:28,888 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:04:28,954 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:28,971 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:04:29,042 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:29,042 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 14:04:29,179 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:04:29,253 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:04:29,271 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:04:29,279 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:29,279 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-08 14:04:29,351 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:29,352 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:04:34,764 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:04:45,026 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:04:45,366 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:04:45,434 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:45,434 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-08 14:04:46,248 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:04:46,256 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:04:46,398 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:04:46,460 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:46,460 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-08 14:04:47,437 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:04:47,868 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:04:48,059 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:04:48,142 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:48,142 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-08 14:04:55,861 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:04:59,242 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:04:59,765 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:04:59,890 - bigdata_deploy_logger - INFO - 
2023-08-08 14:04:59,891 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-08 14:05:00,639 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:05:00,696 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:05:00,885 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:05:00,965 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:00,965 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-08 14:05:01,673 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:05:01,755 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:05:01,805 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:05:01,872 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:01,873 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-08 14:05:02,632 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:05:02,771 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:05:02,816 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:05:02,894 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:02,894 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-08 14:05:03,564 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:05:03,643 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:05:03,830 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:05:03,831 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:03,832 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-08 14:05:04,914 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:05:05,235 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:05:05,618 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:05:05,619 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:05,619 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-08 14:05:09,425 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:05:10,151 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:05:10,659 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:05:10,735 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:10,735 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-08 14:05:11,717 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:05:12,231 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:05:12,389 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:05:12,472 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:12,472 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-08 14:05:13,610 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:05:14,485 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:05:14,667 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:05:14,672 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:14,672 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-08 14:05:14,763 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:14,763 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:05:30,355 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:05:30,422 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:30,422 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-08 14:05:30,473 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-08 14:05:30,592 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:30,592 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-08 14:05:50,268 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:05:50,348 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:50,348 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-08 14:05:51,709 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.627837", "end": "2023-08-08 06:05:51.583692", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 06:05:50.955855", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-08 14:05:51,710 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 14:05:51,780 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:51,780 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-08 14:05:52,717 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:05:52,789 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:52,789 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-08 14:05:52,810 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:05:52,878 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:52,878 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-08 14:05:53,690 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:05:53,764 - bigdata_deploy_logger - INFO - 
2023-08-08 14:05:53,764 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-08 14:05:57,894 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-08 14:06:01,973 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-08 14:06:01,979 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:01,979 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-08 14:06:03,648 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:06:03,720 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:03,721 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-08 14:06:03,750 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-08 14:06:03,889 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:03,889 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-08 14:06:03,915 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:04,057 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:04,057 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-08 14:06:04,084 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:04,155 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:04,155 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-08 14:06:04,175 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:04,250 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:04,250 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-08 14:06:09,543 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-08 14:06:09,608 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:09,608 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-08 14:06:11,889 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:06:11,967 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:11,968 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-08 14:06:11,993 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:12,067 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:12,068 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-08 14:06:12,089 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:12,162 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:12,162 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-08 14:06:13,773 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:06:13,840 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:13,841 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-08 14:06:13,873 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:06:13,943 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:13,943 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-08 14:06:13,964 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:06:14,079 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:14,080 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-08 14:06:17,598 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:06:17,677 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:17,678 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-08 14:06:18,401 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:06:18,486 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:18,487 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-08 14:06:19,173 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:06:19,174 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:19,175 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-08 14:06:34,127 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:06:34,128 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:34,128 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-08 14:06:36,073 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:06:36,154 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:36,155 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-08 14:06:37,625 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:06:37,697 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:37,697 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-08 14:06:39,737 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:06:39,742 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:39,742 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 14:06:39,747 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:39,747 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 14:06:39,773 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:06:39,780 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:39,780 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 14:06:39,801 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:06:39,805 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:39,805 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 14:06:39,928 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:39,928 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 14:06:40,148 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:06:40,205 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:06:40,352 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:06:40,430 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:40,431 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 14:06:40,525 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:06:40,593 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:40,606 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:06:40,673 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:40,674 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 14:06:40,757 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:06:40,824 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:40,843 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:06:40,915 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:40,916 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 14:06:41,003 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:06:41,072 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:06:41,086 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:06:41,090 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:41,090 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-08 14:06:41,161 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:41,162 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:06:46,769 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:06:56,967 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:06:57,395 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:06:57,400 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:57,400 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-08 14:06:57,465 - bigdata_deploy_logger - INFO - 
2023-08-08 14:06:57,465 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:07:13,493 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:07:13,561 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:13,561 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-08 14:07:13,607 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-08 14:07:13,673 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:13,673 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-08 14:07:14,474 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:07:14,545 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:14,546 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-08 14:07:14,572 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:07:14,640 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:14,640 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-08 14:07:15,960 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:07:16,030 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:16,030 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-08 14:07:16,052 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:07:16,121 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:16,121 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-08 14:07:16,322 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:07:16,392 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:16,392 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-08 14:07:17,220 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:07:17,291 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:17,291 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-08 14:07:18,727 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-08 14:07:19,572 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-08 14:07:20,411 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-08 14:07:20,427 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:20,427 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-08 14:07:34,983 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:07:34,983 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:34,983 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-08 14:07:36,939 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:07:36,945 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:36,946 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 14:07:36,953 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:36,953 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 14:07:36,975 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:07:36,981 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:36,981 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 14:07:36,999 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:07:37,005 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:37,006 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 14:07:37,088 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:37,089 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 14:07:37,194 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:07:37,306 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:07:37,362 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:07:37,443 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:37,444 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 14:07:37,538 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:07:37,605 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:07:37,625 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:07:37,695 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:37,695 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 14:07:37,781 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:07:37,849 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:07:37,868 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:07:37,941 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:37,942 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 14:07:38,025 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:07:38,151 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:07:38,169 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:07:38,178 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:38,178 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-08 14:07:38,249 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:38,249 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:07:43,792 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:07:54,029 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:07:54,184 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:07:54,188 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:54,188 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-08 14:07:54,270 - bigdata_deploy_logger - INFO - 
2023-08-08 14:07:54,270 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:08:10,244 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:10,322 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:10,322 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-08 14:08:10,377 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-08 14:08:10,508 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:10,509 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-08 14:08:12,019 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:12,093 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:12,093 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-08 14:08:12,120 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:08:12,189 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:12,189 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-08 14:08:12,270 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:12,337 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:12,337 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-08 14:08:12,359 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:08:12,429 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:12,429 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-08 14:08:12,463 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:12,533 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:12,534 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-08 14:08:12,553 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:08:12,624 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:12,624 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-08 14:08:13,485 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:13,553 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:13,554 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-08 14:08:14,442 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:14,514 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:14,514 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-08 14:08:15,490 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:15,564 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:15,564 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-08 14:08:18,792 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:08:18,868 - bigdata_deploy_logger - INFO - 
2023-08-08 14:08:18,868 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-08 14:08:19,852 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-08 14:08:30,740 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-08 14:08:41,537 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-08 14:08:52,363 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-08 14:09:03,211 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-08 14:09:14,083 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-08 14:09:24,912 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-08 14:09:35,797 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-08 14:09:46,560 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-08 14:09:57,508 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-08 14:10:08,369 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-08 14:10:19,279 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-08 14:10:30,108 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-08 14:10:40,937 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-08 14:10:51,807 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-08 14:11:02,604 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-08 14:11:13,480 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-08 14:11:24,314 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-08 14:11:35,097 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-08 14:11:45,907 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-08 14:11:56,696 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-08 14:12:07,561 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-08 14:12:18,559 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-08 14:12:29,420 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-08 14:12:40,259 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-08 14:12:51,137 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-08 14:13:02,009 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-08 14:13:12,864 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-08 14:13:23,706 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-08 14:13:34,532 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-08 14:13:45,348 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-08 14:13:56,170 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-08 14:14:06,942 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-08 14:14:17,761 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-08 14:14:28,654 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-08 14:14:39,435 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-08 14:14:50,430 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-08 14:15:01,344 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-08 14:15:12,160 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-08 14:15:23,011 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-08 14:15:33,821 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-08 14:15:44,614 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-08 14:15:55,437 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-08 14:16:06,269 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-08 14:16:17,091 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-08 14:16:27,965 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-08 14:16:40,432 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-08 14:16:51,328 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-08 14:17:02,185 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-08 14:17:13,016 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-08 14:17:23,825 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-08 14:17:34,655 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-08 14:17:45,521 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-08 14:17:56,337 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-08 14:18:07,154 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-08 14:18:17,978 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-08 14:18:28,742 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-08 14:18:39,583 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-08 14:18:50,399 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-08 14:19:01,190 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-08 14:19:12,019 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-08 14:19:22,956 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-08 14:19:33,750 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-08 14:19:44,557 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-08 14:19:55,371 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-08 14:20:06,267 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-08 14:20:17,056 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-08 14:20:27,861 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-08 14:20:38,765 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-08 14:20:49,674 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-08 14:21:00,510 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-08 14:21:11,321 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-08 14:21:22,161 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-08 14:21:32,936 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-08 14:21:43,765 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-08 14:21:54,567 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-08 14:22:05,407 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-08 14:22:16,274 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-08 14:22:27,020 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-08 14:22:37,903 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-08 14:22:48,723 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-08 14:23:02,232 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-08 14:23:14,756 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-08 14:23:27,360 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-08 14:23:39,417 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-08 14:23:51,816 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-08 14:24:02,934 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-08 14:24:13,874 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-08 14:24:24,764 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-08 14:24:35,640 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-08 14:24:46,480 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-08 14:24:57,279 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-08 14:25:08,170 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-08 14:25:19,009 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-08 14:25:29,792 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-08 14:25:40,623 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-08 14:25:51,485 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-08 14:26:02,339 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-08 14:26:13,258 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-08 14:26:24,363 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-08 14:26:35,309 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-08 14:26:46,107 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-08 14:26:56,959 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-08 14:27:07,865 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-08 14:27:18,893 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-08 14:27:29,896 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-08 14:27:40,837 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-08 14:27:51,794 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-08 14:28:02,971 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-08 14:28:13,911 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-08 14:28:24,809 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:28:24,921 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:24,921 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-08 14:28:24,955 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:28:24,960 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:24,960 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 14:28:24,964 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:24,964 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 14:28:24,986 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:28:24,990 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:24,990 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 14:28:25,010 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 14:28:25,016 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:25,016 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 14:28:25,088 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:25,089 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 14:28:25,309 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-08 14:28:25,367 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-08 14:28:25,552 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-08 14:28:25,620 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:25,620 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 14:28:25,716 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:28:25,793 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:28:25,807 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:28:25,888 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:25,888 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 14:28:25,973 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:28:26,041 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:28:26,058 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:28:26,130 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:26,130 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 14:28:26,222 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:28:26,300 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:28:26,321 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:28:26,327 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:26,327 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-08 14:28:26,404 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:26,405 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 14:28:32,143 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-08 14:28:42,299 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-08 14:28:42,361 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-08 14:28:42,416 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:42,416 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-08 14:28:42,501 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-08 14:28:42,573 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-08 14:28:42,586 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-08 14:28:42,588 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:42,589 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-08 14:28:42,590 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-08 14:28:42,590 - bigdata_deploy_logger - INFO - sdp1                       : ok=160  changed=67   unreachable=0    failed=0    skipped=63   rescued=0    ignored=2
2023-08-08 14:28:42,591 - bigdata_deploy_logger - INFO - sdp2                       : ok=83   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-08 14:28:42,592 - bigdata_deploy_logger - INFO - sdp3                       : ok=83   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-08 14:28:42,592 - bigdata_deploy_logger - INFO - 
2023-08-08 14:28:42,683 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-08-08 15:12:47,184 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 15:12:47,186 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-08 15:12:47,198 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 15:12:47,199 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-08 15:12:47,209 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 15:12:47,243 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 15:12:47,252 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 15:12:47,287 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 15:12:47,288 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-08 15:12:47,298 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 15:12:47,299 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 15:12:47,333 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-08 15:12:47,336 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 15:12:47,346 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 15:12:47,350 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 15:12:47,360 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 15:12:47,364 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-08 15:12:47,373 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 15:12:47,384 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 15:12:47,394 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-08 15:12:47,403 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 15:12:47,407 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-08 15:12:47,415 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-08 15:12:47,416 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-08 15:12:47,427 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-08 15:12:47,429 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-08 15:12:47,445 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-08 15:12:48,259 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-08 15:12:48,260 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-08 15:12:49,948 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:49,949 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 15:12:49,976 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:49,977 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 15:12:50,022 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:12:50,027 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,027 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 15:12:50,071 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:12:50,077 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,077 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 15:12:50,083 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,083 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 15:12:50,381 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:12:50,481 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:12:50,566 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:12:50,570 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,570 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 15:12:50,619 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:12:50,624 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:12:50,631 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:12:50,635 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,636 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 15:12:50,682 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:12:50,689 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:12:50,695 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:12:50,701 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,702 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 15:12:50,748 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:12:50,754 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:12:50,761 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:12:50,765 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,766 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-08 15:12:50,790 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:50,791 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:12:56,369 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:12:56,484 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:12:56,595 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:12:56,606 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:56,607 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-08 15:12:57,320 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:12:57,368 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:12:57,380 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:12:57,395 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:57,395 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-08 15:12:57,454 - bigdata_deploy_logger - INFO - ok: [udh2] => {
2023-08-08 15:12:57,454 - bigdata_deploy_logger - INFO - "msg": "主机 udh2 SSH 连通性测试结果: 成功"
2023-08-08 15:12:57,455 - bigdata_deploy_logger - INFO - }
2023-08-08 15:12:57,473 - bigdata_deploy_logger - INFO - ok: [udh1] => {
2023-08-08 15:12:57,473 - bigdata_deploy_logger - INFO - "msg": "主机 udh1 SSH 连通性测试结果: 成功"
2023-08-08 15:12:57,473 - bigdata_deploy_logger - INFO - }
2023-08-08 15:12:57,483 - bigdata_deploy_logger - INFO - ok: [udh3] => {
2023-08-08 15:12:57,483 - bigdata_deploy_logger - INFO - "msg": "主机 udh3 SSH 连通性测试结果: 成功"
2023-08-08 15:12:57,484 - bigdata_deploy_logger - INFO - }
2023-08-08 15:12:57,497 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:57,498 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-08 15:12:57,553 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:12:57,571 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:12:57,582 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:12:57,598 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:57,598 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-08 15:12:57,679 - bigdata_deploy_logger - INFO - ok: [udh2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 15:12:57,701 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 15:12:57,712 - bigdata_deploy_logger - INFO - ok: [udh3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-08 15:12:57,761 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:57,762 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-08 15:12:58,478 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:12:58,520 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:12:58,550 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:12:58,564 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:58,564 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-08 15:12:59,109 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:12:59,188 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:12:59,191 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:12:59,202 - bigdata_deploy_logger - INFO - 
2023-08-08 15:12:59,203 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-08 15:13:01,303 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:01,347 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:01,373 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:01,395 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:01,395 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-08 15:13:02,344 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-08 15:13:02,345 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 15:13:02,345 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 15:13:02,345 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:02,346 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:02,387 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:02,399 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:02,399 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-08 15:13:03,565 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:03,567 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:03,583 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:03,594 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:03,594 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-08 15:13:04,603 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:04,643 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:04,708 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:04,717 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:04,717 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-08 15:13:05,616 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:05,649 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:05,688 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:05,705 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:05,705 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-08 15:13:06,603 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:06,627 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:06,650 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:06,667 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:06,668 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-08 15:13:07,999 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:08,011 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:08,067 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:08,084 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:08,084 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-08 15:13:08,177 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for udh2, udh1, udh3
2023-08-08 15:13:08,207 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:08,207 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-08 15:13:11,043 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:11,175 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:11,588 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:11,661 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:11,662 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-08 15:13:12,271 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:12,351 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:12,693 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:12,815 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:12,815 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-08 15:13:14,172 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:13:14,279 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:13:14,310 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:13:14,383 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:14,383 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-08 15:13:17,045 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:17,126 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:17,177 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:17,253 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:17,253 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-08 15:13:18,009 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:18,120 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:18,131 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:18,201 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:18,202 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-08 15:13:18,286 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:13:18,360 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:13:18,377 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:13:18,451 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:18,451 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-08 15:13:19,220 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:19,322 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:19,344 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:19,414 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:19,414 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-08 15:13:20,138 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-08 15:13:20,138 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-08 15:13:20,138 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-08 15:13:20,139 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-08 15:13:20,139 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:20,236 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:20,289 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:20,373 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:20,373 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-08 15:13:21,109 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:21,277 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:21,286 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:21,364 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:21,365 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-08 15:13:22,595 - bigdata_deploy_logger - INFO - changed: [udh3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 15:13:22,617 - bigdata_deploy_logger - INFO - changed: [udh1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 15:13:22,645 - bigdata_deploy_logger - INFO - changed: [udh2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-08 15:13:22,717 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:22,718 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-08 15:13:23,468 - bigdata_deploy_logger - INFO - changed: [udh2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 15:13:23,577 - bigdata_deploy_logger - INFO - changed: [udh3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 15:13:23,597 - bigdata_deploy_logger - INFO - changed: [udh1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-08 15:13:23,682 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:23,683 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-08 15:13:24,469 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:24,663 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:24,694 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:24,765 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:24,765 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-08 15:13:25,595 - bigdata_deploy_logger - INFO - changed: [udh3] => (item=udh2)
2023-08-08 15:13:25,657 - bigdata_deploy_logger - INFO - changed: [udh2] => (item=udh2)
2023-08-08 15:13:25,666 - bigdata_deploy_logger - INFO - changed: [udh1] => (item=udh2)
2023-08-08 15:13:26,172 - bigdata_deploy_logger - INFO - changed: [udh3] => (item=udh1)
2023-08-08 15:13:26,391 - bigdata_deploy_logger - INFO - changed: [udh1] => (item=udh1)
2023-08-08 15:13:26,401 - bigdata_deploy_logger - INFO - changed: [udh2] => (item=udh1)
2023-08-08 15:13:26,757 - bigdata_deploy_logger - INFO - changed: [udh3] => (item=udh3)
2023-08-08 15:13:27,068 - bigdata_deploy_logger - INFO - changed: [udh1] => (item=udh3)
2023-08-08 15:13:27,087 - bigdata_deploy_logger - INFO - changed: [udh2] => (item=udh3)
2023-08-08 15:13:27,169 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:27,169 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-08 15:13:27,252 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:13:27,323 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:13:27,340 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:13:27,413 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:27,413 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-08 15:13:27,986 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:13:28,049 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:13:28,152 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:13:28,230 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:28,230 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-08 15:13:28,876 - bigdata_deploy_logger - INFO - ok: [udh2] => (item=/etc/yum.repos.d/bak)
2023-08-08 15:13:28,901 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=/etc/yum.repos.d/bak)
2023-08-08 15:13:28,904 - bigdata_deploy_logger - INFO - ok: [udh3] => (item=/etc/yum.repos.d/bak)
2023-08-08 15:13:28,985 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:28,985 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-08 15:13:29,824 - bigdata_deploy_logger - INFO - changed: [udh2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 15:13:29,862 - bigdata_deploy_logger - INFO - changed: [udh3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 15:13:29,940 - bigdata_deploy_logger - INFO - changed: [udh1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-08 15:13:30,008 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:30,008 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-08 15:13:30,737 - bigdata_deploy_logger - INFO - changed: [udh3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 15:13:30,761 - bigdata_deploy_logger - INFO - changed: [udh2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 15:13:30,803 - bigdata_deploy_logger - INFO - changed: [udh1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-08 15:13:31,233 - bigdata_deploy_logger - INFO - changed: [udh3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 15:13:31,238 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-08 15:13:31,238 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-08 15:13:31,238 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-08 15:13:31,322 - bigdata_deploy_logger - INFO - changed: [udh2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 15:13:31,374 - bigdata_deploy_logger - INFO - changed: [udh1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-08 15:13:31,448 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:31,448 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 15:13:32,855 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 15:13:32,953 - bigdata_deploy_logger - INFO - ok: [udh3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 15:13:32,985 - bigdata_deploy_logger - INFO - ok: [udh2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-08 15:13:33,058 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:33,059 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-08 15:13:33,301 - bigdata_deploy_logger - INFO - 
2023-08-08 15:13:33,301 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-08 15:14:09,597 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:14:11,011 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:14:13,686 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:13,758 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:13,759 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-08 15:14:14,548 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:14,619 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:14,624 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:14,691 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:14,692 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-08 15:14:16,027 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:16,232 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:16,275 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:16,354 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:16,354 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-08 15:14:16,451 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:14:16,557 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:14:17,849 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:17,924 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:17,924 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-08 15:14:19,409 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:14:19,411 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:19,535 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:14:19,614 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:19,614 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-08 15:14:20,937 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:14:21,020 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:21,092 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:14:21,174 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:21,174 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 15:14:30,045 - bigdata_deploy_logger - INFO - fatal: [udh2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u udh1 && /sbin/hwclock -w", "delta": "0:00:08.280202", "end": "2023-08-08 07:14:29.966376", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 07:14:21.686174", "stderr": " 8 Aug 07:14:29 ntpdate[57173]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 07:14:29 ntpdate[57173]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 15:14:30,046 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 15:14:30,162 - bigdata_deploy_logger - INFO - fatal: [udh1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u udh1 && /sbin/hwclock -w", "delta": "0:00:08.278834", "end": "2023-08-08 07:14:30.078939", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 07:14:21.800105", "stderr": " 8 Aug 07:14:30 ntpdate[11589]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 07:14:30 ntpdate[11589]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 15:14:30,162 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 15:14:30,253 - bigdata_deploy_logger - INFO - fatal: [udh3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u udh1 && /sbin/hwclock -w", "delta": "0:00:08.311816", "end": "2023-08-08 07:14:29.820247", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 07:14:21.508431", "stderr": " 8 Aug 07:14:29 ntpdate[13182]: no server suitable for synchronization found", "stderr_lines": [" 8 Aug 07:14:29 ntpdate[13182]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-08 15:14:30,253 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 15:14:30,332 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:30,332 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-08 15:14:31,117 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:14:31,207 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:31,265 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:14:31,342 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:31,343 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-08 15:14:32,801 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:32,806 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:32,838 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:32,907 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:32,908 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-08 15:14:33,310 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for udh2, udh1, udh3
2023-08-08 15:14:33,317 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for udh2, udh1, udh3
2023-08-08 15:14:33,324 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for udh2, udh1, udh3
2023-08-08 15:14:33,477 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:33,477 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:33,562 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:33,632 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:33,652 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:33,723 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:33,723 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:33,806 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:33,876 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:33,897 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:33,965 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:33,965 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:34,049 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:34,119 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:34,137 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:34,213 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:34,213 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-08 15:14:35,144 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-08 15:14:35,144 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-08 15:14:35,145 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-08 15:14:35,145 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-08 15:14:35,145 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:35,167 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:35,240 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:35,321 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:35,322 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 15:14:36,185 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:36,237 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:36,248 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:36,312 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:36,312 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 15:14:36,397 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:36,467 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:36,489 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:36,566 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:36,566 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-08 15:14:36,650 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:14:36,717 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:14:36,726 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:14:36,796 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:36,796 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-08 15:14:36,879 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:14:36,944 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:14:36,954 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:14:37,023 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:37,023 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:37,106 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:37,174 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:37,195 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:37,264 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:37,265 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:37,349 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:37,418 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:37,442 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:37,572 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:37,572 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:37,656 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:37,727 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:37,746 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:37,820 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:37,820 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-08 15:14:38,743 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:38,795 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:38,804 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:38,885 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:38,885 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 15:14:39,726 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:39,778 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:39,855 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:39,928 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:39,929 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 15:14:40,013 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:40,085 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:40,112 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:40,184 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:40,185 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-08 15:14:40,317 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:14:40,386 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:14:40,400 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:14:40,470 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:40,470 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-08 15:14:40,552 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:14:40,622 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:14:40,633 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:14:40,703 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:40,703 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:40,786 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:40,856 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:40,881 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:40,953 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:40,953 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:41,038 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:41,105 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:41,121 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:41,193 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:41,193 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-08 15:14:41,277 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:41,346 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:41,364 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:41,443 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:41,443 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-08 15:14:42,362 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:42,384 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:42,479 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:42,557 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:42,557 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-08 15:14:43,449 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:43,450 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:43,524 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:43,611 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:43,611 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-08 15:14:43,710 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:14:43,791 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:43,818 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:14:43,904 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:43,905 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-08 15:14:43,996 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:14:44,063 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:14:44,074 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:14:44,147 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:44,147 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-08 15:14:44,229 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:14:44,296 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:14:44,306 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:14:44,307 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:44,307 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-08 15:14:45,259 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-08 15:14:45,260 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-08 15:14:45,261 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-08 15:14:45,261 - bigdata_deploy_logger - INFO - this message.
2023-08-08 15:14:45,261 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:14:45,498 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:14:45,580 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:45,581 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:45,581 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-08 15:14:51,412 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:14:51,708 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:14:51,848 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:14:51,854 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:51,854 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-08 15:14:51,932 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:51,932 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:14:57,304 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:14:57,374 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:57,375 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-08 15:14:57,427 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-08 15:14:57,555 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:57,556 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-08 15:14:57,584 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:14:57,658 - bigdata_deploy_logger - INFO - 
2023-08-08 15:14:57,658 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-08 15:15:03,766 - bigdata_deploy_logger - INFO - changed: [udh1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-08 15:15:03,847 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:03,847 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-08 15:15:06,194 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:06,275 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:06,275 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-08 15:15:06,944 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:07,016 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:07,017 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-08 15:15:07,661 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:07,732 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:07,732 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-08 15:15:08,383 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:08,448 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:08,448 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-08 15:15:08,469 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:08,587 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:08,587 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-08 15:15:08,613 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:08,614 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-08 15:15:08,614 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:08,614 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 15:15:09,840 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:09,911 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:09,911 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-08 15:15:10,882 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:10,952 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:10,952 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-08 15:15:12,465 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:12,536 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:12,537 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-08 15:15:12,637 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for udh1
2023-08-08 15:15:12,705 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:12,705 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-08 15:15:12,739 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:12,822 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:12,822 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-08 15:15:13,804 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:13,937 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:13,938 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 15:15:13,966 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:14,040 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:14,040 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-08 15:15:15,257 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:15,333 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:15,334 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 15:15:15,360 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:15,430 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:15,431 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-08 15:15:15,528 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for udh1
2023-08-08 15:15:15,591 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:15,592 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-08 15:15:16,234 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:16,303 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:16,304 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-08 15:15:16,408 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for udh1
2023-08-08 15:15:16,481 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:16,481 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-08 15:15:16,519 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:16,597 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:16,598 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-08 15:15:17,517 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:17,584 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:17,585 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 15:15:17,614 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:17,690 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:17,690 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-08 15:15:18,808 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:18,893 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:18,894 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 15:15:18,920 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:18,992 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:18,992 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-08 15:15:19,087 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for udh1
2023-08-08 15:15:19,156 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:19,156 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-08 15:15:19,827 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:19,897 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:19,898 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-08 15:15:20,001 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for udh1
2023-08-08 15:15:20,072 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:20,072 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-08 15:15:20,113 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:20,246 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:20,246 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-08 15:15:21,159 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:21,231 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:21,231 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 15:15:21,261 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:21,334 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:21,334 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-08 15:15:22,462 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:22,533 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:22,533 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 15:15:22,557 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:22,632 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:22,633 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-08 15:15:22,735 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for udh1
2023-08-08 15:15:22,804 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:22,804 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-08 15:15:23,491 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:23,560 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:23,561 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-08 15:15:23,698 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for udh1
2023-08-08 15:15:23,772 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:23,773 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-08 15:15:23,805 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:23,882 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:23,882 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-08 15:15:24,844 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:24,927 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:24,927 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-08 15:15:24,953 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:25,038 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:25,038 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-08 15:15:26,285 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:26,369 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:26,370 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-08 15:15:26,394 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:26,478 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:26,478 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-08 15:15:26,577 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for udh1
2023-08-08 15:15:26,645 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:26,645 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-08 15:15:27,273 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:27,273 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:27,274 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-08 15:15:28,538 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:28,544 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:28,544 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-08 15:15:28,628 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:28,629 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:15:34,006 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:15:34,017 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:15:34,109 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:34,223 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:34,224 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-08 15:15:34,313 - bigdata_deploy_logger - INFO - skipping: [udh2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 15:15:34,388 - bigdata_deploy_logger - INFO - skipping: [udh1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 15:15:34,424 - bigdata_deploy_logger - INFO - skipping: [udh3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-08 15:15:34,501 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:34,501 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-08 15:15:34,583 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:15:34,654 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:34,673 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:15:34,745 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:34,745 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-08 15:15:34,830 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:15:34,901 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:34,912 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:15:34,917 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:34,917 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-08 15:15:34,996 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:34,996 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:15:40,372 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:40,435 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:40,435 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-08 15:15:40,476 - bigdata_deploy_logger - INFO - skipping: [udh1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-08 15:15:40,547 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:40,547 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-08 15:15:40,568 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:40,640 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:40,640 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-08 15:15:40,658 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:40,731 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:40,732 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-08 15:15:40,749 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:40,822 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:40,822 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-08 15:15:40,841 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:40,916 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:40,916 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-08 15:15:40,933 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:41,004 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,004 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-08 15:15:41,024 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:41,139 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,139 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-08 15:15:41,161 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:41,232 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,232 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-08 15:15:41,252 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:41,321 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,321 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-08 15:15:41,342 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:41,415 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,415 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-08 15:15:41,434 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:41,437 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,437 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 15:15:41,442 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,443 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 15:15:41,462 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:15:41,466 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,466 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 15:15:41,491 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:15:41,497 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,497 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 15:15:41,578 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,579 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 15:15:41,745 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:15:41,789 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:41,847 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:15:41,921 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:41,921 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 15:15:42,007 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:15:42,074 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:42,088 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:15:42,162 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:42,162 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 15:15:42,246 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:15:42,316 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:42,332 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:15:42,404 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:42,404 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 15:15:42,488 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:15:42,557 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:15:42,572 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:15:42,577 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:42,577 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-08 15:15:42,702 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:42,703 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:15:47,954 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:15:48,110 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:15:48,169 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:48,245 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:48,246 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-08 15:15:48,997 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:15:49,059 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:49,092 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:15:49,173 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:49,173 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-08 15:15:50,025 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:15:50,165 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:15:50,218 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:15:50,296 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:50,296 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-08 15:15:57,757 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:15:58,086 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:58,246 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:15:58,331 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:58,332 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-08 15:15:58,976 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:15:59,045 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:15:59,228 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:15:59,304 - bigdata_deploy_logger - INFO - 
2023-08-08 15:15:59,304 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-08 15:16:00,075 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:00,082 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:16:00,121 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:16:00,194 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:00,195 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-08 15:16:00,896 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:00,904 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:16:00,915 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:16:00,987 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:00,987 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-08 15:16:01,559 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:16:01,673 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:01,678 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:16:01,680 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:01,680 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-08 15:16:02,733 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:16:02,828 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:02,861 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:16:02,861 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:02,861 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-08 15:16:06,405 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:16:06,462 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:06,567 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:16:06,651 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:06,651 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-08 15:16:07,597 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:16:07,627 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:07,685 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:16:07,815 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:07,815 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-08 15:16:08,914 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:16:09,002 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:09,036 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:16:09,042 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:09,043 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-08 15:16:09,131 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:09,132 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:16:14,212 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:14,281 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:14,281 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-08 15:16:14,329 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-08 15:16:14,401 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:14,401 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-08 15:16:30,232 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:30,314 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:30,314 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-08 15:16:31,084 - bigdata_deploy_logger - INFO - fatal: [udh1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.177789", "end": "2023-08-08 07:16:31.008898", "msg": "non-zero return code", "rc": 1, "start": "2023-08-08 07:16:30.831109", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-08 15:16:31,084 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-08 15:16:31,160 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:31,160 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-08 15:16:31,811 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:31,886 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:31,886 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-08 15:16:31,904 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:16:31,984 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:31,984 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-08 15:16:32,542 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:32,622 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:32,623 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-08 15:16:34,623 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=postgresql-42.2.2.jar)
2023-08-08 15:16:36,578 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=mysql-connector-java.jar)
2023-08-08 15:16:36,581 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:36,581 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-08 15:16:37,576 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:37,711 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:37,711 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-08 15:16:37,750 - bigdata_deploy_logger - INFO - skipping: [udh1] => (item=MySQL-python,mysql-connector-java)
2023-08-08 15:16:37,880 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:37,880 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-08 15:16:37,900 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:16:38,030 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:38,030 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-08 15:16:38,054 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:16:38,126 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:38,126 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-08 15:16:38,153 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:16:38,225 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:38,225 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-08 15:16:41,443 - bigdata_deploy_logger - INFO - changed: [udh1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-08 15:16:41,513 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:41,513 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-08 15:16:43,168 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:43,250 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:43,251 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-08 15:16:43,273 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:16:43,406 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:43,407 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-08 15:16:43,429 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:16:43,510 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:43,510 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-08 15:16:44,475 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:44,546 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:44,546 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-08 15:16:44,580 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:44,653 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:44,654 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-08 15:16:44,676 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:16:44,748 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:44,749 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-08 15:16:47,235 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:47,317 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:47,318 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-08 15:16:47,976 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:48,056 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:48,056 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-08 15:16:48,682 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:16:48,683 - bigdata_deploy_logger - INFO - 
2023-08-08 15:16:48,683 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-08 15:17:02,510 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:17:02,510 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:02,510 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-08 15:17:04,145 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:04,215 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:04,215 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-08 15:17:05,112 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:05,182 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:05,182 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-08 15:17:06,333 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:06,337 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:06,337 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 15:17:06,342 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:06,342 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 15:17:06,365 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:17:06,369 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:06,370 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 15:17:06,390 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:17:06,393 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:06,394 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 15:17:06,466 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:06,467 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 15:17:06,636 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:17:06,656 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:17:06,721 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:17:06,841 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:06,841 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 15:17:06,928 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:17:06,999 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:07,015 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:17:07,086 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:07,086 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 15:17:07,170 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:17:07,242 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:07,259 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:17:07,332 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:07,332 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 15:17:07,419 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:17:07,492 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:07,512 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:17:07,516 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:07,516 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-08 15:17:07,588 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:07,589 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:17:12,850 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:12,852 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:17:12,963 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:17:12,969 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:12,969 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-08 15:17:13,047 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:13,048 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:17:18,278 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:18,356 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:18,356 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-08 15:17:18,400 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-08 15:17:18,479 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:18,480 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-08 15:17:19,042 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:17:19,131 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:19,131 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-08 15:17:19,155 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:19,239 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:19,240 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-08 15:17:20,392 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:20,469 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:20,469 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-08 15:17:20,498 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:20,625 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:20,625 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-08 15:17:20,824 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:20,905 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:20,906 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-08 15:17:21,591 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:21,674 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:21,675 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-08 15:17:22,966 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=udh2)
2023-08-08 15:17:23,696 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=udh1)
2023-08-08 15:17:24,376 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=udh3)
2023-08-08 15:17:24,409 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:24,409 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-08 15:17:36,585 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:17:36,585 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:36,585 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-08 15:17:38,286 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:38,290 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:38,291 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 15:17:38,295 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:38,296 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 15:17:38,321 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:17:38,325 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:38,325 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 15:17:38,346 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:17:38,350 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:38,350 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 15:17:38,423 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:38,424 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 15:17:38,650 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:17:38,651 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:17:38,741 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:17:38,814 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:38,814 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 15:17:38,898 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:17:38,966 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:38,981 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:17:39,052 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:39,052 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 15:17:39,136 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:17:39,206 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:39,228 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:17:39,298 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:39,298 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 15:17:39,384 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:17:39,454 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:39,473 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:17:39,477 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:39,477 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-08 15:17:39,548 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:39,548 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:17:44,888 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:17:44,964 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:45,001 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:17:45,009 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:45,009 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-08 15:17:45,088 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:45,088 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:17:50,588 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:50,665 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:50,665 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-08 15:17:50,720 - bigdata_deploy_logger - INFO - ok: [udh1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-08 15:17:50,806 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:50,806 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-08 15:17:52,071 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:52,143 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:52,144 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-08 15:17:52,161 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:52,230 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:52,230 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-08 15:17:52,290 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:52,406 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:52,406 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-08 15:17:52,431 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:52,503 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:52,503 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-08 15:17:52,536 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:52,611 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:52,612 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-08 15:17:52,630 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:17:52,701 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:52,702 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-08 15:17:53,404 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:53,477 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:53,477 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-08 15:17:54,294 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:54,375 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:54,375 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-08 15:17:55,306 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:55,378 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:55,378 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-08 15:17:58,333 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:17:58,401 - bigdata_deploy_logger - INFO - 
2023-08-08 15:17:58,401 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-08 15:17:59,281 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-08 15:18:09,938 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-08 15:18:20,600 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-08 15:18:31,328 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-08 15:18:42,010 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-08 15:18:52,615 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-08 15:19:03,256 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-08 15:19:13,929 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-08 15:19:24,562 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-08 15:19:35,200 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-08 15:19:45,843 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-08 15:19:56,567 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-08 15:20:07,245 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-08 15:20:17,901 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-08 15:20:28,526 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-08 15:20:39,203 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-08 15:20:49,900 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-08 15:21:00,575 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-08 15:21:11,270 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-08 15:21:22,081 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-08 15:21:32,723 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-08 15:21:43,439 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-08 15:21:54,079 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-08 15:22:04,738 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-08 15:22:15,393 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-08 15:22:26,063 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-08 15:22:36,780 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-08 15:22:47,495 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-08 15:22:58,136 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-08 15:23:08,827 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-08 15:23:19,478 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-08 15:23:30,140 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-08 15:23:40,764 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-08 15:23:51,359 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-08 15:24:02,047 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-08 15:24:12,700 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-08 15:24:23,331 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-08 15:24:33,914 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-08 15:24:44,521 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-08 15:24:55,168 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-08 15:25:05,814 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-08 15:25:16,461 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-08 15:25:27,133 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-08 15:25:37,780 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-08 15:25:48,402 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-08 15:25:59,014 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-08 15:26:09,669 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-08 15:26:20,300 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-08 15:26:30,989 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-08 15:26:41,637 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-08 15:26:52,342 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-08 15:27:03,116 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-08 15:27:13,813 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-08 15:27:24,573 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-08 15:27:35,290 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-08 15:27:45,914 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-08 15:27:56,706 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-08 15:28:07,426 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-08 15:28:18,054 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-08 15:28:28,768 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-08 15:28:39,529 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-08 15:28:50,175 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-08 15:29:00,895 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-08 15:29:11,517 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-08 15:29:22,169 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-08 15:29:32,859 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-08 15:29:43,551 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-08 15:29:54,213 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-08 15:30:04,837 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-08 15:30:15,482 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-08 15:30:26,144 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-08 15:30:36,788 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-08 15:30:47,519 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-08 15:30:58,167 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-08 15:31:08,797 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-08 15:31:19,594 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-08 15:31:30,243 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-08 15:31:40,997 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-08 15:31:51,935 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-08 15:32:02,749 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-08 15:32:13,536 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-08 15:32:24,225 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-08 15:32:34,974 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-08 15:32:45,687 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-08 15:32:56,432 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-08 15:33:07,230 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-08 15:33:18,616 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-08 15:33:29,320 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-08 15:33:39,944 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-08 15:33:50,636 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-08 15:34:01,432 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-08 15:34:12,093 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-08 15:34:22,809 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-08 15:34:33,539 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-08 15:34:44,201 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-08 15:34:54,884 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:34:55,005 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:55,005 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-08 15:34:55,045 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:34:55,049 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:55,050 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-08 15:34:55,055 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:55,055 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-08 15:34:55,081 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:34:55,087 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:55,087 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-08 15:34:55,107 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-08 15:34:55,110 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:55,110 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-08 15:34:55,194 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:55,195 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-08 15:34:55,427 - bigdata_deploy_logger - INFO - changed: [udh1]
2023-08-08 15:34:55,505 - bigdata_deploy_logger - INFO - changed: [udh2]
2023-08-08 15:34:58,414 - bigdata_deploy_logger - INFO - changed: [udh3]
2023-08-08 15:34:58,482 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:58,482 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-08 15:34:58,565 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:34:58,634 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:34:58,649 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:34:58,718 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:58,718 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-08 15:34:58,802 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:34:58,921 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:34:58,936 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:34:59,011 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:59,011 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-08 15:34:59,096 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:34:59,165 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:34:59,183 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:34:59,189 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:59,189 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-08 15:34:59,258 - bigdata_deploy_logger - INFO - 
2023-08-08 15:34:59,258 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-08 15:35:04,458 - bigdata_deploy_logger - INFO - ok: [udh2]
2023-08-08 15:35:04,567 - bigdata_deploy_logger - INFO - ok: [udh1]
2023-08-08 15:35:04,924 - bigdata_deploy_logger - INFO - ok: [udh3]
2023-08-08 15:35:05,052 - bigdata_deploy_logger - INFO - 
2023-08-08 15:35:05,053 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-08 15:35:05,138 - bigdata_deploy_logger - INFO - skipping: [udh2]
2023-08-08 15:35:05,208 - bigdata_deploy_logger - INFO - skipping: [udh1]
2023-08-08 15:35:05,223 - bigdata_deploy_logger - INFO - skipping: [udh3]
2023-08-08 15:35:05,226 - bigdata_deploy_logger - INFO - 
2023-08-08 15:35:05,226 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-08 15:35:05,227 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-08 15:35:05,227 - bigdata_deploy_logger - INFO - udh1                       : ok=160  changed=66   unreachable=0    failed=0    skipped=63   rescued=0    ignored=2
2023-08-08 15:35:05,228 - bigdata_deploy_logger - INFO - udh2                       : ok=83   changed=33   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-08 15:35:05,229 - bigdata_deploy_logger - INFO - udh3                       : ok=83   changed=33   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-08 15:35:05,229 - bigdata_deploy_logger - INFO - 
2023-08-08 15:35:05,320 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-08-09 10:51:20,088 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 10:51:20,090 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-09 10:51:20,101 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 10:51:20,102 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-09 10:51:20,112 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 10:51:20,144 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 10:51:20,153 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 10:51:20,185 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 10:51:20,186 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-09 10:51:20,195 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 10:51:20,196 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 10:51:20,229 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 10:51:20,232 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 10:51:20,242 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 10:51:20,245 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 10:51:20,255 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 10:51:20,258 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 10:51:20,266 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 10:51:20,275 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 10:51:20,285 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 10:51:20,293 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 10:51:20,296 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 10:51:20,304 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 10:51:20,305 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 10:51:20,315 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 10:51:20,317 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-09 10:51:20,331 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-09 10:51:21,169 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-09 10:51:21,169 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-09 10:51:22,872 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:22,873 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 10:51:22,905 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:22,905 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 10:51:22,951 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:51:22,956 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:22,956 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 10:51:23,002 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:51:23,006 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:23,006 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 10:51:23,012 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:23,012 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 10:51:23,309 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:51:23,326 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:51:23,333 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:51:23,334 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:23,335 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 10:51:23,381 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:51:23,387 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:51:23,402 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:51:23,406 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:23,407 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 10:51:23,453 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:51:23,469 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:51:23,477 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:51:23,481 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:23,482 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 10:51:23,529 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:51:23,543 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:51:23,550 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:51:23,556 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:23,557 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-09 10:51:23,583 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:23,584 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:51:29,709 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:39,837 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:51:39,892 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:51:39,903 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:39,904 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-09 10:51:40,623 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:51:40,706 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:40,809 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:51:40,820 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:40,820 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-09 10:51:40,871 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-09 10:51:40,871 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-09 10:51:40,871 - bigdata_deploy_logger - INFO - }
2023-08-09 10:51:40,885 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-09 10:51:40,886 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-09 10:51:40,886 - bigdata_deploy_logger - INFO - }
2023-08-09 10:51:40,905 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-09 10:51:40,906 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-09 10:51:40,906 - bigdata_deploy_logger - INFO - }
2023-08-09 10:51:40,916 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:40,917 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-09 10:51:40,964 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:51:40,978 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:51:40,999 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:51:41,018 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:41,019 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-09 10:51:41,101 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 10:51:41,112 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 10:51:41,130 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 10:51:41,174 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:41,174 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-09 10:51:41,867 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:51:42,019 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:51:42,046 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:51:42,064 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:42,064 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-09 10:51:42,652 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:51:42,677 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:51:42,806 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:51:42,825 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:42,826 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-09 10:51:45,166 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:51:45,571 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:51:45,976 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:51:45,995 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:45,996 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-09 10:51:47,031 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-09 10:51:47,032 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 10:51:47,032 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 10:51:47,032 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:47,318 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:51:47,514 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:51:47,528 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:47,529 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-09 10:51:48,763 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:49,139 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:51:49,208 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:51:49,221 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:49,221 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-09 10:51:50,340 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:51,132 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:51:51,525 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:51:51,542 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:51,542 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-09 10:51:52,518 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:51:52,575 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:52,777 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:51:52,792 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:52,792 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-09 10:51:53,805 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:51:54,130 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:51:54,355 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:51:54,371 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:54,371 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-09 10:51:55,885 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:57,156 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:51:57,266 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:51:57,282 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:57,282 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-09 10:51:57,399 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-09 10:51:57,441 - bigdata_deploy_logger - INFO - 
2023-08-09 10:51:57,441 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-09 10:51:59,872 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:51:59,897 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:52:00,057 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:52:00,131 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:00,131 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-09 10:52:00,839 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:52:00,869 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:52:00,987 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:52:01,116 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:01,117 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-09 10:52:02,611 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:52:03,484 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:52:03,781 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:52:03,860 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:03,860 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-09 10:52:06,574 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:52:06,761 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:52:06,809 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:52:06,895 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:06,895 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-09 10:52:07,754 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:52:08,256 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:52:08,375 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:52:08,455 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:08,456 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-09 10:52:08,553 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:52:08,630 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:52:08,643 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:52:08,727 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:08,727 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-09 10:52:09,608 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:52:09,999 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:52:10,183 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:52:10,250 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:10,250 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-09 10:52:11,061 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-09 10:52:11,061 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-09 10:52:11,062 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-09 10:52:11,062 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-09 10:52:11,062 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:52:11,615 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:52:11,694 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:52:11,777 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:11,777 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-09 10:52:12,659 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:52:13,074 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:52:13,201 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:52:13,283 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:13,283 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-09 10:52:14,526 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 10:52:15,341 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 10:52:15,548 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 10:52:15,619 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:15,619 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-09 10:52:16,341 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 10:52:17,048 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 10:52:17,190 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 10:52:17,274 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:17,274 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-09 10:52:18,081 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:52:18,579 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:52:18,713 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:52:18,777 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:18,777 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-09 10:52:19,693 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-09 10:52:19,800 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-09 10:52:19,851 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-09 10:52:20,316 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-09 10:52:20,566 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-09 10:52:20,773 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-09 10:52:20,959 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-09 10:52:21,337 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-09 10:52:21,634 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-09 10:52:21,710 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:21,711 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-09 10:52:21,850 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:52:21,923 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:52:21,936 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:52:22,007 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:22,008 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-09 10:52:22,715 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:52:22,720 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:52:22,818 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:52:22,889 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:22,890 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-09 10:52:23,488 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-09 10:52:23,653 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-09 10:52:23,696 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-09 10:52:23,776 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:23,776 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-09 10:52:24,527 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 10:52:25,182 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 10:52:25,269 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 10:52:25,341 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:25,341 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-09 10:52:26,047 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 10:52:26,149 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 10:52:26,256 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 10:52:26,610 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 10:52:26,612 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-09 10:52:26,613 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 10:52:26,613 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 10:52:26,657 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 10:52:26,985 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 10:52:27,065 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:27,065 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 10:52:28,544 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 10:52:28,903 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 10:52:29,054 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 10:52:29,136 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:29,136 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 10:52:29,434 - bigdata_deploy_logger - INFO - 
2023-08-09 10:52:29,435 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-09 10:53:12,734 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:53:23,882 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:53:35,225 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:53:35,295 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:35,295 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-09 10:53:36,188 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:53:36,204 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:53:36,325 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:53:36,399 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:36,399 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-09 10:53:37,911 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:53:38,624 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:53:39,006 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:53:39,075 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:39,075 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-09 10:53:39,161 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:53:39,256 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:53:41,731 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:53:41,812 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:41,812 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-09 10:53:43,494 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:53:45,173 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:53:45,375 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:53:45,453 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:45,453 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-09 10:53:46,897 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:53:48,081 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:53:48,206 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:53:48,286 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:48,287 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 10:53:57,245 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.280768", "end": "2023-08-09 02:53:57.150669", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 02:53:48.869901", "stderr": " 9 Aug 02:53:57 ntpdate[2501]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 02:53:57 ntpdate[2501]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 10:53:57,246 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 10:53:57,694 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.698231", "end": "2023-08-09 02:53:57.618107", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 02:53:48.919876", "stderr": " 9 Aug 02:53:57 ntpdate[73045]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 02:53:57 ntpdate[73045]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 10:53:57,694 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 10:53:57,848 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.735973", "end": "2023-08-09 02:53:57.741157", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 02:53:49.005184", "stderr": " 9 Aug 02:53:57 ntpdate[69517]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 02:53:57 ntpdate[69517]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 10:53:57,848 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 10:53:57,922 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:57,923 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 10:53:58,834 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:53:59,376 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:53:59,525 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:53:59,595 - bigdata_deploy_logger - INFO - 
2023-08-09 10:53:59,595 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-09 10:54:01,019 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:01,831 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:02,194 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:02,271 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:02,271 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-09 10:54:02,720 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 10:54:02,731 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 10:54:02,736 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 10:54:02,837 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:02,837 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:02,925 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:02,994 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:03,009 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:03,092 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:03,092 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:03,182 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:03,253 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:03,270 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:03,339 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:03,339 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:03,424 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:03,496 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:03,517 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:03,591 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:03,591 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-09 10:54:04,563 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-09 10:54:04,563 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-09 10:54:04,563 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-09 10:54:04,563 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-09 10:54:04,564 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:05,020 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:05,128 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:05,197 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:05,198 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 10:54:06,112 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:06,565 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:06,712 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:06,788 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:06,788 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 10:54:06,880 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:06,951 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:06,972 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:07,050 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:07,050 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-09 10:54:07,137 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:54:07,205 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:54:07,216 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:54:07,288 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:07,288 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-09 10:54:07,425 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:54:07,496 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:54:07,502 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:54:07,573 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:07,574 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:07,664 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:07,741 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:07,756 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:07,828 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:07,828 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:07,919 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:07,995 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:08,010 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:08,082 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:08,082 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:08,173 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:08,247 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:08,263 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:08,337 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:08,338 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-09 10:54:09,290 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:09,745 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:09,866 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:09,943 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:09,944 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 10:54:10,795 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:11,276 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:11,395 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:11,479 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:11,479 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 10:54:11,581 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:11,664 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:11,687 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:11,771 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:11,771 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-09 10:54:11,866 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:54:11,934 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:54:11,942 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:54:12,015 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:12,015 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-09 10:54:12,100 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:54:12,165 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:54:12,174 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:54:12,291 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:12,291 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:12,378 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:12,451 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:12,467 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:12,539 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:12,539 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:12,627 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:12,699 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:12,715 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:12,784 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:12,785 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 10:54:12,873 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:12,946 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:12,964 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:13,042 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:13,042 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-09 10:54:13,973 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:14,439 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:14,638 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:14,714 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:14,714 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 10:54:15,551 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:16,094 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:16,216 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:16,291 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:16,291 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 10:54:16,380 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:54:16,453 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:16,472 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:54:16,543 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:16,543 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-09 10:54:16,626 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:54:16,696 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:54:16,703 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:54:16,773 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:16,773 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-09 10:54:16,857 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:54:16,925 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:54:16,932 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:54:16,933 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:16,933 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-09 10:54:18,032 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-09 10:54:18,032 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-09 10:54:18,032 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-09 10:54:18,033 - bigdata_deploy_logger - INFO - this message.
2023-08-09 10:54:18,033 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:54:18,358 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:54:18,704 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:54:18,705 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:18,705 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-09 10:54:28,671 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:54:29,147 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:54:29,478 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:54:29,483 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:29,483 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-09 10:54:29,562 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:29,562 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:54:45,532 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:54:45,611 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:45,611 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-09 10:54:45,669 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-09 10:54:45,743 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:45,743 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-09 10:54:45,773 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:54:45,846 - bigdata_deploy_logger - INFO - 
2023-08-09 10:54:45,847 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-09 10:55:02,640 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-09 10:55:02,708 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:02,708 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-09 10:55:05,311 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:05,380 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:05,380 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-09 10:55:06,201 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:06,276 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:06,276 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-09 10:55:07,074 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:07,168 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:07,169 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-09 10:55:07,991 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:08,074 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:08,075 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-09 10:55:08,098 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:08,182 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:08,182 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-09 10:55:08,206 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:08,208 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-09 10:55:08,208 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:08,208 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 10:55:10,556 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:10,636 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:10,636 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-09 10:55:12,194 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:55:12,282 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:12,282 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-09 10:55:15,238 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:15,312 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:15,312 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-09 10:55:15,424 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 10:55:15,493 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:15,493 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-09 10:55:15,526 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:55:15,605 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:15,605 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-09 10:55:17,082 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:17,213 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:17,213 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 10:55:17,237 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:17,317 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:17,317 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-09 10:55:19,047 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:19,119 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:19,119 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 10:55:19,146 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:19,221 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:19,221 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-09 10:55:19,316 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 10:55:19,380 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:19,380 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-09 10:55:20,071 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:20,154 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:20,154 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-09 10:55:20,255 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 10:55:20,325 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:20,325 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-09 10:55:20,356 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:55:20,480 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:20,480 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-09 10:55:23,336 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:23,411 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:23,411 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 10:55:23,441 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:23,529 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:23,530 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-09 10:55:26,112 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:26,201 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:26,201 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 10:55:26,228 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:26,305 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:26,305 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-09 10:55:26,402 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 10:55:26,473 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:26,473 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-09 10:55:27,254 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:27,328 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:27,328 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-09 10:55:27,484 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 10:55:27,562 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:27,562 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-09 10:55:27,595 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:55:27,674 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:27,674 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-09 10:55:29,211 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:29,284 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:29,284 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 10:55:29,310 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:29,388 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:29,388 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-09 10:55:31,241 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:31,324 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:31,324 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 10:55:31,349 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:31,475 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:31,475 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-09 10:55:31,584 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 10:55:31,655 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:31,656 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-09 10:55:32,483 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:32,555 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:32,555 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-09 10:55:32,660 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 10:55:32,737 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:32,737 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-09 10:55:32,777 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:55:32,853 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:32,853 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-09 10:55:34,383 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:34,461 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:34,461 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 10:55:34,486 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:34,564 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:34,564 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-09 10:55:37,048 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:37,170 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:37,171 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 10:55:37,199 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:55:37,276 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:37,276 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-09 10:55:37,378 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 10:55:37,449 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:37,449 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-09 10:55:38,273 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:38,273 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:38,273 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 10:55:50,450 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:55:50,455 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:50,455 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-09 10:55:50,525 - bigdata_deploy_logger - INFO - 
2023-08-09 10:55:50,525 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:55:56,281 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:56:06,389 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:56:06,421 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:56:06,498 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:06,498 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-09 10:56:06,590 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 10:56:06,667 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 10:56:06,700 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 10:56:06,772 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:06,772 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-09 10:56:06,860 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:56:06,984 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:06,998 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:56:07,070 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:07,070 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-09 10:56:07,161 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:56:07,233 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:07,246 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:56:07,251 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:07,251 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-09 10:56:07,332 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:07,332 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:56:22,992 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:56:23,073 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,073 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-09 10:56:23,125 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-09 10:56:23,211 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,211 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-09 10:56:23,241 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:23,324 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,324 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-09 10:56:23,349 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:23,488 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,488 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-09 10:56:23,514 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:23,599 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,600 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-09 10:56:23,622 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:23,713 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,713 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-09 10:56:23,734 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:23,811 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,811 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-09 10:56:23,831 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:23,910 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:23,910 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-09 10:56:23,930 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:24,002 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,002 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-09 10:56:24,021 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:24,094 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,094 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-09 10:56:24,116 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:24,189 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,189 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-09 10:56:24,208 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:24,212 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,212 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 10:56:24,217 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,217 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 10:56:24,242 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:56:24,246 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,247 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 10:56:24,266 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:56:24,269 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,270 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 10:56:24,342 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,342 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 10:56:24,517 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:56:24,558 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:56:24,601 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:56:24,675 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,676 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 10:56:24,761 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:56:24,830 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:24,845 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:56:24,920 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:24,920 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 10:56:25,012 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:56:25,140 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:25,155 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:56:25,224 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:25,224 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 10:56:25,309 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:56:25,380 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:56:25,397 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:56:25,405 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:25,405 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-09 10:56:25,477 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:25,477 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:56:31,229 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:56:41,173 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:56:41,207 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:56:41,270 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:41,271 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-09 10:56:42,056 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:56:42,170 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:56:42,210 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:56:42,280 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:42,280 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-09 10:56:43,205 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:56:43,616 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:56:43,746 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:56:43,878 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:43,878 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-09 10:56:51,748 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:56:54,661 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:56:56,688 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:56:56,760 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:56,760 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-09 10:56:57,495 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:56:57,539 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:56:57,665 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:56:57,738 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:57,739 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-09 10:56:58,464 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:56:58,559 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:56:58,628 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:56:58,693 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:58,693 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-09 10:56:59,350 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:56:59,480 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:56:59,514 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:56:59,580 - bigdata_deploy_logger - INFO - 
2023-08-09 10:56:59,580 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-09 10:57:00,261 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:57:00,275 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:57:00,385 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:57:00,385 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:00,385 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-09 10:57:01,425 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:57:01,741 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:57:02,135 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:57:02,135 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:02,135 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-09 10:57:06,019 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:57:06,638 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:57:07,087 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:57:07,159 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:07,160 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-09 10:57:08,164 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:57:08,616 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:57:08,781 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:57:08,847 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:08,847 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-09 10:57:10,035 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:57:11,033 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:57:11,099 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:57:11,110 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:11,110 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-09 10:57:11,192 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:11,192 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:57:27,136 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:57:27,201 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:27,201 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-09 10:57:27,258 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-09 10:57:27,371 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:27,372 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-09 10:57:56,048 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:57:56,119 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:56,119 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-09 10:57:57,431 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.613642", "end": "2023-08-09 02:57:57.341974", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 02:57:56.728332", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-09 10:57:57,432 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 10:57:57,506 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:57,506 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-09 10:57:58,449 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:57:58,533 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:58,534 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-09 10:57:58,558 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:57:58,640 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:58,641 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-09 10:57:59,438 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:57:59,514 - bigdata_deploy_logger - INFO - 
2023-08-09 10:57:59,514 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-09 10:58:03,648 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-09 10:58:07,673 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-09 10:58:07,673 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:07,673 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-09 10:58:09,312 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:58:09,392 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:09,392 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-09 10:58:09,420 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-09 10:58:09,577 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:09,577 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-09 10:58:09,595 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:09,732 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:09,732 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-09 10:58:09,752 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:09,823 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:09,824 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-09 10:58:09,841 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:09,913 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:09,913 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-09 10:58:15,385 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-09 10:58:15,451 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:15,451 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-09 10:58:17,922 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:58:17,992 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:17,992 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-09 10:58:18,015 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:18,092 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:18,093 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-09 10:58:18,117 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:18,191 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:18,191 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-09 10:58:19,778 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:58:19,849 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:19,849 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-09 10:58:19,882 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:58:19,955 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:19,955 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-09 10:58:19,978 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:58:20,099 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:20,099 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-09 10:58:23,429 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:58:23,511 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:23,511 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-09 10:58:24,246 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:58:24,319 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:24,319 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-09 10:58:25,001 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:58:25,001 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:25,002 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-09 10:58:39,112 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:58:39,112 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:39,113 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 10:58:41,040 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:58:41,121 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:41,121 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-09 10:58:42,653 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:58:42,738 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:42,738 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-09 10:58:44,942 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:58:44,949 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:44,950 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 10:58:44,957 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:44,957 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 10:58:44,986 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:58:44,993 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:44,993 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 10:58:45,019 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:58:45,023 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:45,023 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 10:58:45,104 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:45,104 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 10:58:45,380 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:58:45,405 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:58:45,638 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:58:45,724 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:45,724 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 10:58:45,821 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:58:45,901 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:45,918 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:58:46,004 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:46,004 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 10:58:46,093 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:58:46,163 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:46,178 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:58:46,248 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:46,248 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 10:58:46,335 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:58:46,417 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:58:46,434 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:58:46,438 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:46,438 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 10:58:46,518 - bigdata_deploy_logger - INFO - 
2023-08-09 10:58:46,518 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:58:52,220 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 10:59:02,104 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 10:59:02,268 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:59:02,274 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:02,275 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-09 10:59:02,342 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:02,343 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:59:18,004 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:59:18,077 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:18,078 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-09 10:59:18,123 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-09 10:59:18,195 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:18,195 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-09 10:59:18,921 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:59:19,010 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:19,010 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-09 10:59:19,036 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:59:19,119 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:19,119 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-09 10:59:23,333 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:59:23,405 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:23,405 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-09 10:59:23,430 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:59:23,564 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:23,564 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-09 10:59:23,805 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:59:23,880 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:23,880 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-09 10:59:24,663 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:59:24,738 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:24,738 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-09 10:59:26,218 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-09 10:59:27,036 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-09 10:59:27,870 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-09 10:59:27,890 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:27,890 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-09 10:59:43,149 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:59:43,149 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:43,150 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 10:59:45,057 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 10:59:45,061 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:45,062 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 10:59:45,067 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:45,068 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 10:59:45,090 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:59:45,094 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:45,095 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 10:59:45,114 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 10:59:45,117 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:45,117 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 10:59:45,192 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:45,193 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 10:59:45,356 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 10:59:45,478 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 10:59:45,524 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 10:59:45,592 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:45,593 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 10:59:45,690 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:59:45,760 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:59:45,778 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:59:45,847 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:45,847 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 10:59:45,936 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:59:46,007 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:59:46,026 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:59:46,098 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:46,098 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 10:59:46,188 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 10:59:46,265 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 10:59:46,281 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 10:59:46,286 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:46,286 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 10:59:46,363 - bigdata_deploy_logger - INFO - 
2023-08-09 10:59:46,363 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 10:59:52,071 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 11:00:02,485 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:03,106 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 11:00:03,114 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:03,114 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-09 11:00:03,192 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:03,193 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 11:00:18,855 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:18,935 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:18,936 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-09 11:00:18,983 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-09 11:00:19,071 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:19,071 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-09 11:00:20,411 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:20,493 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:20,494 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-09 11:00:20,517 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:00:20,600 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:20,600 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-09 11:00:20,656 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:20,738 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:20,738 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-09 11:00:20,761 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:00:20,899 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:20,899 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-09 11:00:20,932 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:21,017 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:21,017 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-09 11:00:21,037 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:00:21,114 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:21,114 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-09 11:00:21,924 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:21,996 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:21,996 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-09 11:00:22,963 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:23,035 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:23,035 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-09 11:00:24,042 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:24,127 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:24,127 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-09 11:00:27,680 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:00:27,765 - bigdata_deploy_logger - INFO - 
2023-08-09 11:00:27,765 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-09 11:00:28,807 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-09 11:00:39,653 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-09 11:00:50,487 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-09 11:01:01,348 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-09 11:01:14,453 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-09 11:01:25,272 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-09 11:01:36,176 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-09 11:01:47,282 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-09 11:02:01,693 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-09 11:02:12,513 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-09 11:02:23,264 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-09 11:02:34,055 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-09 11:02:44,785 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-09 11:02:58,747 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-09 11:03:09,515 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-09 11:03:21,804 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-09 11:03:32,630 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-09 11:03:44,849 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-09 11:03:57,222 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-09 11:04:08,052 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-09 11:04:18,866 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-09 11:04:29,700 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-09 11:04:40,546 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-09 11:04:51,421 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-09 11:05:02,189 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-09 11:05:13,001 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-09 11:05:23,818 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-09 11:05:34,585 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-09 11:05:45,458 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-09 11:05:56,313 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-09 11:06:07,095 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-09 11:06:17,992 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-09 11:06:28,990 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-09 11:06:39,781 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-09 11:06:50,672 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-09 11:07:01,571 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-09 11:07:12,411 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-09 11:07:23,231 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-09 11:07:34,039 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-09 11:07:44,800 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-09 11:07:55,607 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-09 11:08:06,374 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-09 11:08:17,226 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-09 11:08:28,083 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-09 11:08:38,936 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-09 11:08:49,763 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-09 11:09:00,554 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-09 11:09:11,382 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-09 11:09:22,271 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-09 11:09:33,157 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-09 11:09:43,983 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-09 11:09:58,593 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-09 11:10:09,466 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-09 11:10:20,258 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-09 11:11:00,842 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-09 11:11:11,834 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-09 11:11:22,613 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-09 11:11:33,471 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-09 11:11:45,092 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-09 11:11:55,937 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-09 11:12:06,729 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-09 11:12:17,557 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-09 11:12:28,431 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-09 11:12:39,249 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-09 11:12:50,083 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-09 11:13:00,854 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-09 11:13:11,684 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-09 11:13:22,469 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-09 11:13:33,271 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-09 11:13:44,171 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-09 11:13:55,041 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-09 11:14:05,899 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-09 11:14:16,755 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-09 11:14:27,569 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-09 11:14:38,347 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-09 11:14:49,160 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-09 11:14:59,933 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-09 11:15:10,716 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-09 11:15:21,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-09 11:15:32,312 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-09 11:15:43,104 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-09 11:15:53,868 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-09 11:16:04,710 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-09 11:16:15,529 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-09 11:16:26,291 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-09 11:16:37,160 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-09 11:16:47,932 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-09 11:16:58,749 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-09 11:17:09,650 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-09 11:17:20,510 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-09 11:17:31,912 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-09 11:17:44,228 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-09 11:17:55,179 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-09 11:18:08,171 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-09 11:18:22,971 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-09 11:18:33,862 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-09 11:18:44,767 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-09 11:18:55,604 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-09 11:19:06,443 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-09 11:19:17,297 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-09 11:19:28,111 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-09 11:19:38,940 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-09 11:19:49,972 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-09 11:20:00,786 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-09 11:20:11,683 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-09 11:20:22,557 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-09 11:20:33,392 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-09 11:20:44,270 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-09 11:20:55,761 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-09 11:21:06,606 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-09 11:21:17,422 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-09 11:21:28,380 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-09 11:21:39,258 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-09 11:21:50,102 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (247 retries left).
2023-08-09 11:22:00,926 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:22:01,008 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:01,008 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-09 11:22:01,046 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:22:01,053 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:01,054 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 11:22:01,058 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:01,058 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 11:22:01,086 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 11:22:01,090 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:01,091 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 11:22:01,118 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 11:22:01,124 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:01,124 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 11:22:01,207 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:01,207 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 11:22:01,476 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 11:22:01,477 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 11:22:01,726 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 11:22:01,807 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:01,807 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 11:22:01,907 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 11:22:01,983 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:22:02,003 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 11:22:02,076 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:02,076 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 11:22:02,164 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 11:22:02,235 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:22:02,257 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 11:22:02,327 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:02,327 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 11:22:02,415 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 11:22:02,486 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:22:02,507 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 11:22:02,515 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:02,515 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-09 11:22:02,587 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:02,587 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 11:22:08,088 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 11:22:18,215 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 11:22:18,574 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 11:22:18,652 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:18,652 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-09 11:22:18,755 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 11:22:18,832 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 11:22:18,852 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 11:22:18,856 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:18,857 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-09 11:22:18,857 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-09 11:22:18,857 - bigdata_deploy_logger - INFO - sdp1                       : ok=160  changed=67   unreachable=0    failed=0    skipped=63   rescued=0    ignored=2
2023-08-09 11:22:18,858 - bigdata_deploy_logger - INFO - sdp2                       : ok=83   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-09 11:22:18,858 - bigdata_deploy_logger - INFO - sdp3                       : ok=83   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-09 11:22:18,858 - bigdata_deploy_logger - INFO - 
2023-08-09 11:22:18,954 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-08-09 14:03:55,095 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 14:03:55,097 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-09 14:03:55,108 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 14:03:55,109 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-09 14:03:55,119 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 14:03:55,152 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 14:03:55,160 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 14:03:55,193 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 14:03:55,194 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-09 14:03:55,203 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 14:03:55,203 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 14:03:55,236 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 14:03:55,239 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 14:03:55,249 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 14:03:55,252 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 14:03:55,262 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 14:03:55,265 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 14:03:55,273 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 14:03:55,282 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 14:03:55,292 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 14:03:55,299 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 14:03:55,303 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 14:03:55,311 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 14:03:55,311 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 14:03:55,321 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 14:03:55,323 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-09 14:03:55,338 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-09 14:03:56,216 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-09 14:03:56,217 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-09 14:03:57,847 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:57,847 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 14:03:57,877 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:57,878 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 14:03:57,928 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:03:57,931 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:57,932 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 14:03:57,978 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:03:57,985 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:57,986 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 14:03:57,992 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:57,992 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 14:03:58,265 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:03:58,266 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:03:58,292 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:03:58,295 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:58,296 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 14:03:58,346 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:03:58,353 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:03:58,358 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:03:58,364 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:58,364 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 14:03:58,409 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:03:58,417 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:03:58,438 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:03:58,442 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:58,442 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 14:03:58,494 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:03:58,496 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:03:58,505 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:03:58,509 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:58,509 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-09 14:03:58,536 - bigdata_deploy_logger - INFO - 
2023-08-09 14:03:58,537 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:04:04,487 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:14,339 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:14,660 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:14,674 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:14,674 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-09 14:04:15,445 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:15,560 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:15,594 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:15,607 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:15,608 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-09 14:04:15,658 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-09 14:04:15,658 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-09 14:04:15,659 - bigdata_deploy_logger - INFO - }
2023-08-09 14:04:15,677 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-09 14:04:15,678 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-09 14:04:15,678 - bigdata_deploy_logger - INFO - }
2023-08-09 14:04:15,699 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-09 14:04:15,700 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-09 14:04:15,700 - bigdata_deploy_logger - INFO - }
2023-08-09 14:04:15,711 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:15,711 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-09 14:04:15,757 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:04:15,781 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:04:15,794 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:04:15,806 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:15,806 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-09 14:04:15,881 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 14:04:15,910 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 14:04:15,916 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 14:04:15,956 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:15,956 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-09 14:04:16,648 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:16,737 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:16,799 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:16,816 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:16,817 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-09 14:04:17,371 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:17,524 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:17,642 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:17,652 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:17,652 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-09 14:04:20,046 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:20,337 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:20,723 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:20,744 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:20,744 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-09 14:04:21,711 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-09 14:04:21,711 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 14:04:21,711 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 14:04:21,712 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:21,961 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:22,144 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:22,163 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:22,163 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-09 14:04:23,405 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:23,679 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:23,829 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:23,842 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:23,843 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-09 14:04:24,889 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:25,675 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:25,875 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:25,892 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:25,892 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-09 14:04:26,803 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:26,860 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:26,986 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:26,998 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:26,998 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-09 14:04:28,023 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:28,335 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:28,489 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:28,508 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:28,508 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-09 14:04:30,034 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:31,092 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:31,333 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:31,352 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:31,352 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-09 14:04:31,464 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-09 14:04:31,493 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:31,493 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-09 14:04:33,799 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:33,857 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:34,012 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:34,076 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:34,076 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-09 14:04:34,788 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:34,827 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:34,911 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:35,038 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:35,038 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-09 14:04:36,550 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:04:37,365 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:04:37,644 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:04:37,724 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:37,724 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-09 14:04:40,526 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:41,079 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:41,329 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:41,403 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:41,403 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-09 14:04:42,275 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:42,733 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:42,831 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:42,910 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:42,910 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-09 14:04:42,995 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:04:43,064 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:04:43,077 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:04:43,148 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:43,148 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-09 14:04:44,061 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:44,449 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:44,595 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:44,680 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:44,680 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-09 14:04:45,509 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-09 14:04:45,509 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-09 14:04:45,509 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-09 14:04:45,510 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-09 14:04:45,510 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:46,014 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:46,139 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:46,204 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:46,204 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-09 14:04:47,046 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:47,522 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:47,652 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:47,733 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:47,733 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-09 14:04:48,935 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 14:04:49,794 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 14:04:49,963 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 14:04:50,093 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:50,093 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-09 14:04:50,918 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 14:04:51,422 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 14:04:51,612 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 14:04:51,695 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:51,695 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-09 14:04:52,547 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:53,072 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:53,153 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:53,221 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:53,221 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-09 14:04:54,173 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-09 14:04:54,294 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-09 14:04:54,370 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-09 14:04:54,843 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-09 14:04:55,105 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-09 14:04:55,293 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-09 14:04:55,484 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-09 14:04:55,910 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-09 14:04:56,066 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-09 14:04:56,141 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:56,141 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-09 14:04:56,237 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:04:56,307 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:04:56,322 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:04:56,395 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:56,395 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-09 14:04:57,107 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:04:57,108 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:04:57,268 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:04:57,405 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:57,405 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-09 14:04:58,127 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-09 14:04:58,130 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-09 14:04:58,284 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-09 14:04:58,368 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:58,368 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-09 14:04:59,272 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 14:04:59,696 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 14:04:59,843 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 14:04:59,931 - bigdata_deploy_logger - INFO - 
2023-08-09 14:04:59,931 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-09 14:05:00,692 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 14:05:00,801 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 14:05:00,877 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 14:05:01,222 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 14:05:01,223 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-09 14:05:01,223 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 14:05:01,223 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 14:05:01,491 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 14:05:01,601 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 14:05:01,673 - bigdata_deploy_logger - INFO - 
2023-08-09 14:05:01,673 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 14:05:03,088 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 14:05:03,473 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 14:05:03,582 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 14:05:03,650 - bigdata_deploy_logger - INFO - 
2023-08-09 14:05:03,650 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 14:05:03,891 - bigdata_deploy_logger - INFO - 
2023-08-09 14:05:03,892 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-09 14:05:42,354 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:05:57,567 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:06:18,774 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:06:18,839 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:18,839 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-09 14:06:19,684 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:19,705 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:19,875 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:19,944 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:19,944 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-09 14:06:21,422 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:22,181 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:22,589 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:06:22,671 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:22,671 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-09 14:06:22,768 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:06:22,866 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:06:25,360 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:06:25,446 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:25,446 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-09 14:06:27,056 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:06:28,717 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:06:28,883 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:06:28,952 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:28,952 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-09 14:06:30,379 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:06:31,687 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:06:32,444 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:06:32,527 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:32,527 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 14:06:41,526 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.308437", "end": "2023-08-09 06:06:41.415291", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 06:06:33.106854", "stderr": " 9 Aug 06:06:41 ntpdate[83804]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 06:06:41 ntpdate[83804]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 14:06:41,527 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 14:06:41,972 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.703379", "end": "2023-08-09 06:06:41.886291", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 06:06:33.182912", "stderr": " 9 Aug 06:06:41 ntpdate[86635]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 06:06:41 ntpdate[86635]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 14:06:41,972 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 14:06:42,096 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.705288", "end": "2023-08-09 06:06:41.983518", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 06:06:33.278230", "stderr": " 9 Aug 06:06:41 ntpdate[15676]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 06:06:41 ntpdate[15676]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 14:06:42,096 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 14:06:42,165 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:42,165 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 14:06:43,040 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:06:43,456 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:06:43,555 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:06:43,671 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:43,672 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-09 14:06:45,199 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:45,931 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:46,072 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:46,151 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:46,151 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-09 14:06:46,601 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 14:06:46,612 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 14:06:46,620 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 14:06:46,785 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:46,785 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:46,872 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:46,942 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:46,957 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:47,029 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:47,029 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:47,117 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:47,188 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:47,203 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:47,275 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:47,275 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:47,362 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:47,434 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:47,451 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:47,525 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:47,525 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-09 14:06:48,421 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-09 14:06:48,421 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-09 14:06:48,422 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-09 14:06:48,422 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-09 14:06:48,423 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:48,824 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:48,962 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:49,040 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:49,040 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 14:06:49,901 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:50,373 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:50,499 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:50,564 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:50,564 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 14:06:50,656 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:50,728 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:50,747 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:50,822 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:50,823 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-09 14:06:50,909 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:06:50,975 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:06:50,980 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:06:51,052 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:51,052 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-09 14:06:51,136 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:06:51,203 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:06:51,210 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:06:51,280 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:51,280 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:51,374 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:51,446 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:51,461 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:51,587 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:51,587 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:51,680 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:51,754 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:51,769 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:51,842 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:51,842 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:51,932 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:52,016 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:52,035 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:52,107 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:52,107 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-09 14:06:53,046 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:53,422 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:53,572 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:53,642 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:53,642 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 14:06:54,555 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:54,947 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:55,018 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:55,091 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:55,091 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 14:06:55,180 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:55,252 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:55,271 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:55,345 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:55,345 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-09 14:06:55,431 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:06:55,501 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:06:55,512 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:06:55,585 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:55,585 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-09 14:06:55,670 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:06:55,739 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:06:55,747 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:06:55,817 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:55,817 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:55,903 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:55,973 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:55,991 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:56,063 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:56,063 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:56,150 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:56,218 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:56,233 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:56,359 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:56,360 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 14:06:56,448 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:56,518 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:56,533 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:56,605 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:56,606 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-09 14:06:57,488 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:57,891 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:58,102 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:58,173 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:58,173 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 14:06:59,036 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:59,451 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:59,598 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:59,733 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:59,733 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 14:06:59,821 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:06:59,891 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:06:59,911 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:06:59,982 - bigdata_deploy_logger - INFO - 
2023-08-09 14:06:59,982 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-09 14:07:00,075 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:07:00,140 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:07:00,148 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:07:00,220 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:00,220 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-09 14:07:00,306 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:07:00,373 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:07:00,381 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:07:00,383 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:00,383 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-09 14:07:01,564 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-09 14:07:01,564 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-09 14:07:01,564 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-09 14:07:01,564 - bigdata_deploy_logger - INFO - this message.
2023-08-09 14:07:01,564 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:07:01,716 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:07:02,108 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:07:02,108 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:02,109 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-09 14:07:08,571 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:07:09,127 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:07:10,993 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:07:11,004 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:11,004 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-09 14:07:11,096 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:11,096 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:07:27,537 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:07:27,608 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:27,608 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-09 14:07:27,662 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-09 14:07:27,734 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:27,734 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-09 14:07:27,758 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:07:27,832 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:27,833 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-09 14:07:59,048 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-09 14:07:59,117 - bigdata_deploy_logger - INFO - 
2023-08-09 14:07:59,117 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-09 14:08:15,344 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:15,432 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:15,432 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-09 14:08:16,205 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:16,280 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:16,280 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-09 14:08:17,015 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:17,099 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:17,099 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-09 14:08:17,804 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:17,878 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:17,878 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-09 14:08:17,905 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:08:17,977 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:17,978 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-09 14:08:17,998 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:08:17,999 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-09 14:08:17,999 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:18,000 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 14:08:20,226 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:20,310 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:20,310 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-09 14:08:21,879 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:08:21,966 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:21,966 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-09 14:08:24,764 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:24,847 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:24,847 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-09 14:08:24,969 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 14:08:25,034 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:25,035 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-09 14:08:25,072 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:08:25,143 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:25,143 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-09 14:08:26,643 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:26,727 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:26,727 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 14:08:26,751 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:08:26,890 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:26,890 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-09 14:08:36,983 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:37,054 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:37,054 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 14:08:37,082 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:08:37,157 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:37,157 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-09 14:08:37,257 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 14:08:37,326 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:37,326 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-09 14:08:38,084 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:38,154 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:38,154 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-09 14:08:38,252 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 14:08:38,326 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:38,326 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-09 14:08:38,357 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:08:38,487 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:38,487 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-09 14:08:40,722 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:08:40,795 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:40,795 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 14:08:40,823 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:08:40,893 - bigdata_deploy_logger - INFO - 
2023-08-09 14:08:40,893 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-09 14:09:02,181 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:02,260 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:02,260 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 14:09:02,286 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:09:02,366 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:02,366 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-09 14:09:02,463 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 14:09:02,532 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:02,532 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-09 14:09:03,260 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:03,340 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:03,340 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-09 14:09:03,461 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 14:09:03,541 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:03,541 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-09 14:09:03,573 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:09:03,647 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:03,647 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-09 14:09:05,602 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:05,679 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:05,679 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 14:09:05,706 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:09:05,797 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:05,797 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-09 14:09:13,800 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:13,868 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:13,868 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 14:09:13,890 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:09:13,969 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:13,969 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-09 14:09:14,069 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 14:09:14,148 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:14,149 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-09 14:09:14,878 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:14,962 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:14,962 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-09 14:09:15,063 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 14:09:15,140 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:15,140 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-09 14:09:15,169 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:09:15,245 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:15,245 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-09 14:09:17,018 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:17,100 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:17,100 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 14:09:17,123 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:09:17,198 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:17,198 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-09 14:09:21,346 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:21,436 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:21,436 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 14:09:21,458 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:09:21,533 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:21,534 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-09 14:09:21,636 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 14:09:21,703 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:21,704 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-09 14:09:22,442 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:22,443 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:22,444 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 14:09:35,721 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:09:35,726 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:35,726 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-09 14:09:35,810 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:35,810 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:09:41,155 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:09:51,439 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:09:52,510 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:09:52,579 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:52,579 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-09 14:09:52,668 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 14:09:52,796 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 14:09:52,829 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 14:09:52,899 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:52,899 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-09 14:09:52,985 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:09:53,055 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:09:53,068 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:09:53,136 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:53,137 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-09 14:09:53,223 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:09:53,294 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:09:53,307 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:09:53,312 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:53,312 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-09 14:09:53,389 - bigdata_deploy_logger - INFO - 
2023-08-09 14:09:53,389 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:10:08,917 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:10:09,049 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,050 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-09 14:10:09,100 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-09 14:10:09,184 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,184 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-09 14:10:09,211 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:09,295 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,296 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-09 14:10:09,321 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:09,408 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,408 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-09 14:10:09,431 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:09,518 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,519 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-09 14:10:09,541 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:09,624 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,625 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-09 14:10:09,650 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:09,736 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,737 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-09 14:10:09,761 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:09,850 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,850 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-09 14:10:09,875 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:09,964 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:09,964 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-09 14:10:09,992 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:10,074 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,075 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-09 14:10:10,102 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:10,186 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,187 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-09 14:10:10,212 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:10,218 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,218 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 14:10:10,224 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,225 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 14:10:10,252 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:10:10,258 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,258 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 14:10:10,282 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:10:10,288 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,288 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 14:10:10,372 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,373 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 14:10:10,563 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:10:10,608 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:10:10,661 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:10:10,732 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:10,732 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 14:10:10,877 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:10:10,945 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:10,962 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:10:11,031 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:11,031 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 14:10:11,117 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:10:11,186 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:11,204 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:10:11,272 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:11,272 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 14:10:11,361 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:10:11,434 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:10:11,449 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:10:11,453 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:11,454 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-09 14:10:11,530 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:11,531 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:10:17,138 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:10:27,127 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:10:27,279 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:10:27,347 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:27,347 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-09 14:10:28,045 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:10:28,117 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:10:28,221 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:10:28,292 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:28,292 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-09 14:10:29,183 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:10:29,626 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:10:29,765 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:10:29,840 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:29,841 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-09 14:10:37,761 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:10:40,797 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:10:41,230 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:10:41,299 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:41,299 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-09 14:10:41,982 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:10:42,032 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:10:42,149 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:10:42,220 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:42,220 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-09 14:10:42,932 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:10:43,062 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:10:43,082 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:10:43,147 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:43,148 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-09 14:10:43,819 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:10:43,928 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:10:43,982 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:10:44,053 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:44,053 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-09 14:10:44,710 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:10:44,721 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:10:44,838 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:10:44,839 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:44,840 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-09 14:10:45,981 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:10:46,245 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:10:46,592 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:10:46,592 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:46,593 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-09 14:10:50,435 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:10:51,145 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:10:51,635 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:10:51,719 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:51,719 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-09 14:10:52,694 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:10:53,104 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:10:53,261 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:10:53,390 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:53,390 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-09 14:10:54,588 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:10:55,337 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:10:55,491 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:10:55,500 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:55,500 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-09 14:10:55,585 - bigdata_deploy_logger - INFO - 
2023-08-09 14:10:55,585 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:11:11,138 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:11:11,206 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:11,206 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-09 14:11:11,255 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-09 14:11:11,334 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:11,335 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-09 14:11:31,566 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:11:31,687 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:31,687 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-09 14:11:32,957 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.594359", "end": "2023-08-09 06:11:32.852539", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 06:11:32.258180", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-09 14:11:32,958 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 14:11:33,038 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:33,038 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-09 14:11:33,870 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:11:33,954 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:33,954 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-09 14:11:33,975 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:11:34,063 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:34,063 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-09 14:11:34,766 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:11:34,853 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:34,853 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-09 14:11:38,893 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-09 14:11:42,855 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-09 14:11:42,860 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:42,861 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-09 14:11:44,428 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:11:44,504 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:44,504 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-09 14:11:44,534 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-09 14:11:44,717 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:44,717 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-09 14:11:44,740 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:11:44,880 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:44,880 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-09 14:11:44,901 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:11:44,977 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:44,978 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-09 14:11:44,999 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:11:45,076 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:45,076 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-09 14:11:50,351 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-09 14:11:50,420 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:50,420 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-09 14:11:53,114 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:11:53,201 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:53,201 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-09 14:11:53,234 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:11:53,322 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:53,322 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-09 14:11:53,348 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:11:53,434 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:53,434 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-09 14:11:55,069 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:11:55,156 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:55,156 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-09 14:11:55,196 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:11:55,283 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:55,283 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-09 14:11:55,315 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:11:55,409 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:55,409 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-09 14:11:58,783 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:11:58,851 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:58,851 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-09 14:11:59,580 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:11:59,651 - bigdata_deploy_logger - INFO - 
2023-08-09 14:11:59,651 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-09 14:12:00,378 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:12:00,378 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:00,378 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-09 14:12:16,441 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:12:16,441 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:16,441 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 14:12:18,244 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:18,333 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:18,333 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-09 14:12:19,764 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:19,849 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:19,849 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-09 14:12:22,000 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:22,006 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:22,006 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 14:12:22,011 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:22,011 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 14:12:22,041 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:12:22,048 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:22,048 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 14:12:22,074 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:12:22,080 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:22,080 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 14:12:22,165 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:22,166 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 14:12:22,370 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:12:22,437 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:12:22,591 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:12:22,662 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:22,663 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 14:12:22,751 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:12:22,821 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:12:22,840 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:12:22,913 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:22,914 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 14:12:23,002 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:12:23,072 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:12:23,091 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:12:23,212 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:23,212 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 14:12:23,301 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:12:23,380 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:12:23,394 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:12:23,398 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:23,399 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 14:12:23,471 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:23,472 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:12:29,417 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:12:39,174 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:12:39,316 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:39,322 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:39,323 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-09 14:12:39,394 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:39,395 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:12:54,930 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:55,002 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:55,002 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-09 14:12:55,101 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-09 14:12:55,169 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:55,169 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-09 14:12:55,945 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:12:56,021 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:56,021 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-09 14:12:56,041 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:12:56,114 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:56,115 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-09 14:12:57,499 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:57,583 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:57,583 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-09 14:12:57,610 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:57,697 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:57,697 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-09 14:12:57,914 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:58,000 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:58,000 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-09 14:12:58,805 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:12:58,941 - bigdata_deploy_logger - INFO - 
2023-08-09 14:12:58,942 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-09 14:13:00,338 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-09 14:13:01,201 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-09 14:13:02,060 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-09 14:13:02,080 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:02,080 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-09 14:13:16,568 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:13:16,568 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:16,569 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 14:13:18,357 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:18,361 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:18,361 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 14:13:18,366 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:18,367 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 14:13:18,390 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:13:18,394 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:18,394 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 14:13:18,413 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:13:18,417 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:18,418 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 14:13:18,499 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:18,500 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 14:13:18,695 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:13:18,719 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:13:18,780 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:13:18,863 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:18,864 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 14:13:18,964 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:13:19,083 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:13:19,101 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:13:19,175 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:19,175 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 14:13:19,260 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:13:19,329 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:13:19,344 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:13:19,417 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:19,417 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 14:13:19,515 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:13:19,587 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:13:19,605 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:13:19,614 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:19,614 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 14:13:19,686 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:19,687 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:13:25,301 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:13:35,266 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:13:35,561 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:35,569 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:35,569 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-09 14:13:35,647 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:35,647 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:13:51,192 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:51,270 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:51,270 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-09 14:13:51,327 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-09 14:13:51,401 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:51,401 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-09 14:13:52,781 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:52,869 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:52,869 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-09 14:13:52,887 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:13:53,014 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:53,015 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-09 14:13:53,073 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:53,148 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:53,148 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-09 14:13:53,171 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:13:53,246 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:53,246 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-09 14:13:53,284 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:53,361 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:53,361 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-09 14:13:53,381 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:13:53,457 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:53,457 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-09 14:13:54,290 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:54,364 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:54,364 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-09 14:13:58,958 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:13:59,034 - bigdata_deploy_logger - INFO - 
2023-08-09 14:13:59,034 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-09 14:14:00,076 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:14:00,152 - bigdata_deploy_logger - INFO - 
2023-08-09 14:14:00,152 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-09 14:14:03,354 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:14:03,436 - bigdata_deploy_logger - INFO - 
2023-08-09 14:14:03,436 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-09 14:14:04,522 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-09 14:14:16,502 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-09 14:14:27,489 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-09 14:14:38,357 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-09 14:14:49,456 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-09 14:15:00,228 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-09 14:15:11,766 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-09 14:15:22,826 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-09 14:15:33,693 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-09 14:15:44,548 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-09 14:16:02,478 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-09 14:16:13,271 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-09 14:16:24,267 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-09 14:16:35,075 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-09 14:16:45,893 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-09 14:16:57,200 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-09 14:17:07,987 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-09 14:17:18,778 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-09 14:17:29,647 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-09 14:17:41,352 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-09 14:17:56,006 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-09 14:18:06,887 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-09 14:18:19,624 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-09 14:18:30,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-09 14:18:41,332 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-09 14:18:52,158 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-09 14:19:03,084 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-09 14:19:13,911 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-09 14:19:24,690 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-09 14:19:35,518 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-09 14:19:46,286 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-09 14:19:57,102 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-09 14:20:08,035 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-09 14:20:18,830 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-09 14:20:29,596 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-09 14:20:40,446 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-09 14:20:51,252 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-09 14:21:02,184 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-09 14:21:13,054 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-09 14:21:23,875 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-09 14:21:34,649 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-09 14:21:45,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-09 14:21:56,276 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-09 14:22:07,050 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-09 14:22:17,854 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-09 14:22:28,705 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-09 14:22:39,523 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-09 14:22:50,339 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-09 14:23:01,192 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-09 14:23:12,000 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-09 14:23:22,761 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-09 14:23:33,546 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-09 14:23:44,357 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-09 14:23:55,128 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-09 14:24:05,954 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-09 14:24:16,784 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-09 14:24:27,559 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-09 14:24:38,326 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-09 14:24:49,106 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-09 14:24:59,888 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-09 14:25:10,666 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-09 14:25:21,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-09 14:25:32,192 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-09 14:25:43,006 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-09 14:25:53,826 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-09 14:26:04,603 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-09 14:26:15,375 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-09 14:26:26,217 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-09 14:26:37,175 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-09 14:26:47,935 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-09 14:26:58,712 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-09 14:27:09,703 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-09 14:27:23,361 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-09 14:27:34,176 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-09 14:27:45,050 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-09 14:27:59,089 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-09 14:28:10,164 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-09 14:28:22,775 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-09 14:28:33,536 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-09 14:28:46,203 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-09 14:28:58,852 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-09 14:29:09,858 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-09 14:29:20,695 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-09 14:29:31,722 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-09 14:29:42,502 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-09 14:29:53,344 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-09 14:30:04,135 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-09 14:30:14,984 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-09 14:30:25,827 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-09 14:30:36,645 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-09 14:30:47,544 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-09 14:30:59,156 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-09 14:31:10,041 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-09 14:31:21,240 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-09 14:31:32,185 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-09 14:31:43,135 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-09 14:31:54,126 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-09 14:32:05,013 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-09 14:32:15,943 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-09 14:32:26,815 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-09 14:32:37,659 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-09 14:32:48,743 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-09 14:32:59,710 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-09 14:33:10,678 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-09 14:33:21,590 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-09 14:33:32,499 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-09 14:33:43,396 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-09 14:33:54,253 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-09 14:34:05,085 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:34:05,165 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:05,165 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-09 14:34:05,206 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:34:05,216 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:05,216 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 14:34:05,220 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:05,221 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 14:34:05,252 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:34:05,259 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:05,259 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 14:34:05,283 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 14:34:05,291 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:05,291 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 14:34:05,372 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:05,372 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 14:34:05,624 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 14:34:05,633 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 14:34:05,853 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 14:34:05,935 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:05,935 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 14:34:06,081 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:34:06,155 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:34:06,177 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:34:06,249 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:06,249 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 14:34:06,338 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:34:06,409 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:34:06,430 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:34:06,499 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:06,499 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 14:34:06,586 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:34:06,656 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:34:06,670 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:34:06,675 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:06,675 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-09 14:34:06,746 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:06,746 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 14:34:12,503 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 14:34:22,433 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 14:34:22,589 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 14:34:22,653 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:22,653 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-09 14:34:22,746 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 14:34:22,816 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 14:34:22,830 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 14:34:22,832 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:22,833 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-09 14:34:22,834 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-09 14:34:22,834 - bigdata_deploy_logger - INFO - sdp1                       : ok=160  changed=67   unreachable=0    failed=0    skipped=63   rescued=0    ignored=2
2023-08-09 14:34:22,835 - bigdata_deploy_logger - INFO - sdp2                       : ok=83   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-09 14:34:22,836 - bigdata_deploy_logger - INFO - sdp3                       : ok=83   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-09 14:34:22,836 - bigdata_deploy_logger - INFO - 
2023-08-09 14:34:22,929 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-08-09 17:23:36,388 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 17:23:36,390 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-09 17:23:36,401 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 17:23:36,402 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-09 17:23:36,413 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 17:23:36,448 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 17:23:36,456 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 17:23:36,491 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 17:23:36,492 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-09 17:23:36,502 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 17:23:36,503 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 17:23:36,538 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 17:23:36,542 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 17:23:36,552 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 17:23:36,556 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 17:23:36,566 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 17:23:36,569 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 17:23:36,577 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 17:23:36,588 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 17:23:36,598 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 17:23:36,606 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 17:23:36,610 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 17:23:36,618 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 17:23:36,619 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 17:23:36,630 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 17:23:36,633 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-09 17:23:36,648 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-09 17:23:37,482 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-09 17:23:37,483 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-09 17:23:39,134 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,135 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 17:23:39,165 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,165 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 17:23:39,213 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:23:39,217 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,218 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 17:23:39,264 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:23:39,268 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,268 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 17:23:39,274 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,274 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 17:23:39,560 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:23:39,576 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:23:39,581 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:23:39,585 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,585 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 17:23:39,633 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:23:39,649 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:23:39,658 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:23:39,661 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,662 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 17:23:39,713 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:23:39,725 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:23:39,732 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:23:39,736 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,736 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 17:23:39,785 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:23:39,790 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:23:39,810 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:23:39,814 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,815 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-09 17:23:39,842 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:39,842 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:23:45,912 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:23:56,164 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:23:56,549 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:23:56,561 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:56,561 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-09 17:23:57,272 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:23:57,382 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:23:57,448 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:23:57,461 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:57,461 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-09 17:23:57,512 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-09 17:23:57,512 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-09 17:23:57,512 - bigdata_deploy_logger - INFO - }
2023-08-09 17:23:57,534 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-09 17:23:57,534 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-09 17:23:57,535 - bigdata_deploy_logger - INFO - }
2023-08-09 17:23:57,561 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-09 17:23:57,562 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-09 17:23:57,562 - bigdata_deploy_logger - INFO - }
2023-08-09 17:23:57,579 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:57,580 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-09 17:23:57,634 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:23:57,647 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:23:57,668 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:23:57,681 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:57,681 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-09 17:23:57,767 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 17:23:57,776 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 17:23:57,800 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 17:23:57,846 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:57,846 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-09 17:23:58,581 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:23:58,690 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:23:58,691 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:23:58,703 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:58,704 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-09 17:23:59,216 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:23:59,381 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:23:59,466 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:23:59,478 - bigdata_deploy_logger - INFO - 
2023-08-09 17:23:59,479 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-09 17:24:01,796 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:02,207 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:02,533 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:02,545 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:02,545 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-09 17:24:03,530 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-09 17:24:03,531 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 17:24:03,531 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 17:24:03,531 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:03,845 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:04,026 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:04,037 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:04,038 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-09 17:24:05,289 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:05,608 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:05,715 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:05,731 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:05,731 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-09 17:24:06,909 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:07,619 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:07,744 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:07,761 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:07,761 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-09 17:24:08,729 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:08,757 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:08,861 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:08,879 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:08,879 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-09 17:24:09,794 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:10,207 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:10,324 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:10,339 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:10,339 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-09 17:24:11,868 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:13,178 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:13,296 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:13,311 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:13,311 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-09 17:24:13,417 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-09 17:24:13,452 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:13,452 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-09 17:24:15,869 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:15,898 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:15,999 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:16,072 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:16,072 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-09 17:24:16,803 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:16,820 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:16,971 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:17,085 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:17,085 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-09 17:24:18,608 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:24:19,338 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:24:19,642 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:24:19,727 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:19,727 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-09 17:24:22,374 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:22,730 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:23,073 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:23,143 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:23,143 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-09 17:24:24,049 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:24,447 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:24,553 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:24,619 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:24,619 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-09 17:24:24,706 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:24:24,776 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:24:24,790 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:24:24,856 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:24,857 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-09 17:24:25,735 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:26,134 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:26,284 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:26,368 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:26,369 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-09 17:24:27,278 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-09 17:24:27,278 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-09 17:24:27,279 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-09 17:24:27,279 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-09 17:24:27,280 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:27,685 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:27,793 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:27,856 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:27,856 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-09 17:24:28,758 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:29,140 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:29,276 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:29,349 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:29,349 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-09 17:24:30,708 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 17:24:31,499 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 17:24:31,635 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 17:24:31,717 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:31,718 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-09 17:24:32,612 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 17:24:33,105 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 17:24:33,180 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 17:24:33,266 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:33,266 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-09 17:24:34,125 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:34,535 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:34,737 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:34,819 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:34,819 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-09 17:24:35,753 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-09 17:24:35,898 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-09 17:24:35,938 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-09 17:24:36,419 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-09 17:24:36,740 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-09 17:24:36,797 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-09 17:24:37,016 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-09 17:24:37,504 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-09 17:24:37,727 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-09 17:24:37,806 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:37,806 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-09 17:24:37,949 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:24:38,020 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:24:38,037 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:24:38,106 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:38,107 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-09 17:24:38,808 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:24:38,836 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:24:38,927 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:24:38,999 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:38,999 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-09 17:24:39,708 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-09 17:24:39,749 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-09 17:24:39,850 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-09 17:24:39,935 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:39,935 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-09 17:24:41,287 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 17:24:41,382 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 17:24:41,836 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 17:24:41,911 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:41,911 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-09 17:24:42,659 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 17:24:42,740 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 17:24:42,746 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 17:24:43,194 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 17:24:43,200 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-09 17:24:43,201 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 17:24:43,201 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 17:24:43,413 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 17:24:43,460 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 17:24:43,547 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:43,548 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 17:24:45,014 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 17:24:45,409 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 17:24:45,480 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 17:24:45,559 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:45,559 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 17:24:45,849 - bigdata_deploy_logger - INFO - 
2023-08-09 17:24:45,850 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-09 17:25:24,779 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:25:40,321 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:25:57,305 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:25:57,373 - bigdata_deploy_logger - INFO - 
2023-08-09 17:25:57,373 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-09 17:25:58,189 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:25:58,362 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:25:58,422 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:25:58,505 - bigdata_deploy_logger - INFO - 
2023-08-09 17:25:58,505 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-09 17:25:59,969 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:00,922 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:01,305 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:26:01,374 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:01,374 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-09 17:26:01,462 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:26:01,554 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:26:04,143 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:26:04,217 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:04,217 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-09 17:26:05,866 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:26:07,549 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:26:07,654 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:26:07,737 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:07,737 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-09 17:26:09,078 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:26:10,397 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:26:10,469 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:26:10,541 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:10,541 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 17:26:19,527 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.296288", "end": "2023-08-09 09:26:19.417495", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 09:26:11.121207", "stderr": " 9 Aug 09:26:19 ntpdate[103404]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 09:26:19 ntpdate[103404]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 17:26:19,528 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 17:26:19,932 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.700064", "end": "2023-08-09 09:26:19.863819", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 09:26:11.163755", "stderr": " 9 Aug 09:26:19 ntpdate[15660]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 09:26:19 ntpdate[15660]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 17:26:19,932 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 17:26:20,104 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.701183", "end": "2023-08-09 09:26:19.992796", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 09:26:11.291613", "stderr": " 9 Aug 09:26:19 ntpdate[80692]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 09:26:19 ntpdate[80692]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 17:26:20,104 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 17:26:20,237 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:20,237 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 17:26:21,151 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:26:21,540 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:26:21,637 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:26:21,705 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:21,705 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-09 17:26:23,203 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:23,822 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:24,089 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:24,163 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:24,163 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-09 17:26:24,638 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 17:26:24,647 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 17:26:24,654 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 17:26:24,754 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:24,755 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:24,843 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:24,911 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:24,926 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:25,000 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:25,000 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:25,089 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:25,159 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:25,178 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:25,251 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:25,251 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:25,345 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:25,418 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:25,440 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:25,516 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:25,516 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-09 17:26:26,477 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-09 17:26:26,478 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-09 17:26:26,478 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-09 17:26:26,479 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-09 17:26:26,479 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:26,874 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:27,110 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:27,175 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:27,175 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 17:26:28,087 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:28,445 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:28,593 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:28,666 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:28,667 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 17:26:28,754 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:28,828 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:28,852 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:28,927 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:28,927 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-09 17:26:29,016 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:26:29,087 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:26:29,098 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:26:29,172 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:29,172 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-09 17:26:29,261 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:26:29,386 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:26:29,398 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:26:29,465 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:29,466 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:29,554 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:29,626 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:29,641 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:29,716 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:29,717 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:29,802 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:29,873 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:29,889 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:29,964 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:29,964 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:30,049 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:30,119 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:30,135 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:30,206 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:30,206 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-09 17:26:31,112 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:31,480 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:31,637 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:31,718 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:31,718 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 17:26:32,593 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:33,082 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:33,194 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:33,278 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:33,278 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 17:26:33,381 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:33,471 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:33,499 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:33,583 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:33,583 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-09 17:26:33,676 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:26:33,745 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:26:33,758 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:26:33,831 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:33,831 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-09 17:26:33,914 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:26:33,981 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:26:33,995 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:26:34,068 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:34,068 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:34,155 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:34,282 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:34,298 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:34,367 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:34,368 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:34,452 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:34,522 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:34,539 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:34,614 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:34,615 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 17:26:34,702 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:34,772 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:34,788 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:34,858 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:34,859 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-09 17:26:35,822 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:36,197 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:36,312 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:36,381 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:36,381 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 17:26:37,280 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:37,665 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:37,827 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:37,892 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:37,892 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 17:26:37,984 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:26:38,058 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:26:38,078 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:26:38,149 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:38,149 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-09 17:26:38,239 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:26:38,309 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:26:38,318 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:26:38,392 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:38,392 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-09 17:26:38,491 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:26:38,566 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:26:38,572 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:26:38,573 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:38,574 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-09 17:26:39,770 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-09 17:26:39,770 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-09 17:26:39,770 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-09 17:26:39,771 - bigdata_deploy_logger - INFO - this message.
2023-08-09 17:26:39,771 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:26:39,935 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:26:40,330 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:26:40,330 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:40,331 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-09 17:26:46,512 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:26:47,695 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:26:47,947 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:26:47,951 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:47,951 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-09 17:26:48,028 - bigdata_deploy_logger - INFO - 
2023-08-09 17:26:48,029 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:27:03,768 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:27:03,854 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:03,854 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-09 17:27:03,915 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-09 17:27:04,001 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:04,001 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-09 17:27:04,026 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:04,109 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:04,109 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-09 17:27:14,074 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-09 17:27:14,157 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:14,157 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-09 17:27:16,866 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:16,932 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:16,933 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-09 17:27:17,619 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:17,696 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:17,696 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-09 17:27:18,369 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:18,451 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:18,451 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-09 17:27:19,229 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:19,311 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:19,311 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-09 17:27:19,343 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:19,462 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:19,462 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-09 17:27:19,485 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:19,486 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-09 17:27:19,486 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:19,486 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 17:27:21,730 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:21,808 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:21,808 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-09 17:27:23,340 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:27:23,424 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:23,424 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-09 17:27:26,252 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:26,340 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:26,340 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-09 17:27:26,456 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 17:27:26,531 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:26,531 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-09 17:27:26,563 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:27:26,687 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:26,687 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-09 17:27:28,143 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:28,230 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:28,230 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 17:27:28,252 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:28,328 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:28,328 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-09 17:27:30,062 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:30,149 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:30,149 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 17:27:30,172 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:30,247 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:30,247 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-09 17:27:30,343 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 17:27:30,411 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:30,412 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-09 17:27:31,167 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:31,240 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:31,240 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-09 17:27:31,394 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 17:27:31,467 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:31,467 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-09 17:27:31,498 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:27:31,587 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:31,587 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-09 17:27:32,986 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:33,075 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:33,076 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 17:27:33,105 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:33,193 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:33,194 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-09 17:27:34,945 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:35,022 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:35,022 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 17:27:35,045 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:35,168 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:35,169 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-09 17:27:35,267 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 17:27:35,334 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:35,335 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-09 17:27:36,066 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:36,138 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:36,139 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-09 17:27:36,237 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 17:27:36,312 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:36,312 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-09 17:27:36,346 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:27:36,424 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:36,424 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-09 17:27:37,847 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:37,932 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:37,933 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 17:27:37,961 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:38,051 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:38,051 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-09 17:27:39,766 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:39,846 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:39,846 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 17:27:39,873 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:39,963 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:39,963 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-09 17:27:40,074 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 17:27:40,153 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:40,154 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-09 17:27:40,905 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:40,990 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:40,990 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-09 17:27:41,108 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 17:27:41,196 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:41,196 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-09 17:27:41,233 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:27:41,318 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:41,318 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-09 17:27:42,777 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:42,847 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:42,847 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 17:27:42,869 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:42,946 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:42,946 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-09 17:27:44,700 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:44,776 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:44,776 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 17:27:44,800 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:27:44,875 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:44,875 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-09 17:27:44,974 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 17:27:45,042 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:45,043 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-09 17:27:45,790 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:45,791 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:45,791 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 17:27:48,235 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:27:48,242 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:48,243 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-09 17:27:48,324 - bigdata_deploy_logger - INFO - 
2023-08-09 17:27:48,324 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:27:54,123 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:28:04,060 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:28:04,202 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:28:04,279 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:04,279 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-09 17:28:04,384 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 17:28:04,469 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 17:28:04,508 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 17:28:04,590 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:04,590 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-09 17:28:04,745 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:28:04,824 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:04,839 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:28:04,925 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:04,925 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-09 17:28:05,019 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:28:05,087 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:05,104 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:28:05,113 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:05,113 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-09 17:28:05,189 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:05,190 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:28:20,739 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:28:20,821 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:20,821 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-09 17:28:20,866 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-09 17:28:21,003 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,004 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-09 17:28:21,029 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,112 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,112 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-09 17:28:21,135 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,223 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,223 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-09 17:28:21,245 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,334 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,334 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-09 17:28:21,356 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,441 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,442 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-09 17:28:21,465 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,549 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,549 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-09 17:28:21,574 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,661 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,662 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-09 17:28:21,681 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,768 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,769 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-09 17:28:21,790 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,877 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,877 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-09 17:28:21,897 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:21,981 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:21,981 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-09 17:28:22,001 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:22,006 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:22,006 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 17:28:22,014 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:22,015 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 17:28:22,035 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:28:22,043 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:22,043 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 17:28:22,069 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:28:22,074 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:22,074 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 17:28:22,152 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:22,153 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 17:28:22,340 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:28:22,382 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:28:22,421 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:28:22,493 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:22,493 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 17:28:22,578 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:28:22,703 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:22,717 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:28:22,785 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:22,786 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 17:28:22,870 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:28:22,938 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:22,956 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:28:23,029 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:23,030 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 17:28:23,117 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:28:23,186 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:28:23,201 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:28:23,205 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:23,206 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-09 17:28:23,280 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:23,281 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:28:28,714 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:28:38,793 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:28:40,113 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:28:40,186 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:40,186 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-09 17:28:40,907 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:28:40,960 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:28:41,059 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:28:41,129 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:41,129 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-09 17:28:42,013 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:28:42,469 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:28:42,582 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:28:42,653 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:42,653 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-09 17:28:50,473 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:28:53,957 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:28:54,540 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:28:54,622 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:54,623 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-09 17:28:55,336 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:28:55,374 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:28:55,540 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:28:55,611 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:55,611 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-09 17:28:56,353 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:28:56,433 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:28:56,500 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:28:56,585 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:56,585 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-09 17:28:57,311 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:28:57,426 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:28:57,452 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:28:57,530 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:57,530 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-09 17:28:58,197 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:28:58,256 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:28:58,338 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:28:58,338 - bigdata_deploy_logger - INFO - 
2023-08-09 17:28:58,338 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-09 17:28:59,377 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:28:59,774 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:29:00,130 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:29:00,130 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:00,130 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-09 17:29:03,811 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:29:04,736 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:29:05,136 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:29:05,218 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:05,218 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-09 17:29:06,193 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:29:06,609 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:29:06,791 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:29:06,876 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:06,876 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-09 17:29:08,118 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:29:08,904 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:29:09,064 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:29:09,072 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:09,073 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-09 17:29:09,165 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:09,165 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:29:24,832 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:29:24,916 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:24,917 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-09 17:29:24,964 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-09 17:29:25,039 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:25,040 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-09 17:29:44,822 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:29:44,897 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:44,897 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-09 17:29:46,200 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.594316", "end": "2023-08-09 09:29:46.091202", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 09:29:45.496886", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-09 17:29:46,201 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 17:29:46,324 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:46,324 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-09 17:29:47,251 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:29:47,324 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:47,324 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-09 17:29:47,346 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:29:47,418 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:47,418 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-09 17:29:48,180 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:29:48,254 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:48,254 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-09 17:29:52,179 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-09 17:29:56,242 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-09 17:29:56,247 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:56,247 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-09 17:29:57,857 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:29:57,993 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:57,993 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-09 17:29:58,029 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-09 17:29:58,189 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:58,189 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-09 17:29:58,215 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:29:58,377 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:58,377 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-09 17:29:58,401 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:29:58,491 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:58,491 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-09 17:29:58,517 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:29:58,606 - bigdata_deploy_logger - INFO - 
2023-08-09 17:29:58,606 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-09 17:30:03,994 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-09 17:30:04,070 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:04,070 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-09 17:30:06,359 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:30:06,430 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:06,430 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-09 17:30:06,452 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:30:06,579 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:06,579 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-09 17:30:06,601 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:30:06,678 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:06,678 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-09 17:30:08,263 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:30:08,334 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:08,334 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-09 17:30:08,365 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:30:08,442 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:08,442 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-09 17:30:08,465 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:30:08,540 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:08,540 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-09 17:30:11,852 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:30:11,924 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:11,924 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-09 17:30:12,649 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:30:12,769 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:12,769 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-09 17:30:13,490 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:30:13,491 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:13,492 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-09 17:30:29,634 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:30:29,634 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:29,634 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 17:30:31,638 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:30:31,723 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:31,723 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-09 17:30:33,134 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:30:33,220 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:33,220 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-09 17:30:35,330 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:30:35,333 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:35,333 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 17:30:35,338 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:35,338 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 17:30:35,361 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:30:35,365 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:35,365 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 17:30:35,387 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:30:35,391 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:35,391 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 17:30:35,461 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:35,461 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 17:30:35,705 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:30:35,749 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:30:35,944 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:30:36,011 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:36,011 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 17:30:36,099 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:30:36,168 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:30:36,186 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:30:36,259 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:36,259 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 17:30:36,352 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:30:36,425 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:30:36,448 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:30:36,519 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:36,519 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 17:30:36,609 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:30:36,682 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:30:36,706 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:30:36,710 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:36,710 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 17:30:36,782 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:36,783 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:30:42,402 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:30:52,440 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:30:52,735 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:30:52,742 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:52,742 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-09 17:30:52,818 - bigdata_deploy_logger - INFO - 
2023-08-09 17:30:52,818 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:31:08,466 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:31:08,537 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:08,537 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-09 17:31:08,583 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-09 17:31:08,670 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:08,670 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-09 17:31:09,359 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:31:09,476 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:09,476 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-09 17:31:09,497 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:31:09,573 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:09,573 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-09 17:31:10,786 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:31:10,863 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:10,864 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-09 17:31:10,886 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:31:10,960 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:10,960 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-09 17:31:11,158 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:31:11,227 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:11,228 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-09 17:31:12,037 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:31:12,114 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:12,114 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-09 17:31:13,477 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-09 17:31:14,269 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-09 17:31:15,171 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-09 17:31:15,187 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:15,187 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-09 17:31:29,654 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:31:29,654 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:29,654 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 17:31:31,577 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:31:31,583 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:31,583 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 17:31:31,589 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:31,589 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 17:31:31,612 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:31:31,620 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:31,620 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 17:31:31,642 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 17:31:31,650 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:31,651 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 17:31:31,732 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:31,732 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 17:31:31,925 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 17:31:31,970 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 17:31:32,012 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 17:31:32,096 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:32,096 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 17:31:32,188 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:31:32,261 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:31:32,276 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:31:32,410 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:32,410 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 17:31:32,508 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:31:32,593 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:31:32,616 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:31:32,699 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:32,700 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 17:31:32,801 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 17:31:32,873 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:31:32,891 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 17:31:32,900 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:32,900 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 17:31:32,973 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:32,973 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:31:38,608 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 17:31:48,549 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 17:31:48,740 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:31:48,744 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:48,745 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-09 17:31:48,814 - bigdata_deploy_logger - INFO - 
2023-08-09 17:31:48,815 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 17:32:04,693 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:04,764 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:04,765 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-09 17:32:04,807 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-09 17:32:04,883 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:04,883 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-09 17:32:06,234 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:06,308 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:06,308 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-09 17:32:06,333 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:32:06,405 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:06,405 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-09 17:32:06,458 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:06,580 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:06,580 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-09 17:32:06,603 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:32:06,678 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:06,678 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-09 17:32:06,710 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:06,781 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:06,781 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-09 17:32:06,804 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 17:32:06,879 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:06,879 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-09 17:32:07,693 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:07,769 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:07,769 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-09 17:32:08,688 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:08,761 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:08,761 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-09 17:32:09,695 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:09,770 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:09,770 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-09 17:32:16,007 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:32:16,086 - bigdata_deploy_logger - INFO - 
2023-08-09 17:32:16,086 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-09 17:32:17,076 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-09 17:32:27,935 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-09 17:32:39,178 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-09 17:32:50,027 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-09 17:33:00,860 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-09 17:33:11,626 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-09 17:33:22,441 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-09 17:33:33,225 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-09 17:33:45,365 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-09 17:33:56,150 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-09 17:34:07,002 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-09 17:34:17,826 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-09 17:34:31,035 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-09 17:34:41,798 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-09 17:34:52,609 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-09 17:35:03,530 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-09 17:35:14,314 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-09 17:35:25,142 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-09 17:35:40,375 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-09 17:35:52,848 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-09 17:36:03,686 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-09 17:36:14,521 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-09 17:36:25,302 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-09 17:36:36,173 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-09 17:36:46,994 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-09 17:36:57,803 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-09 17:37:08,600 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-09 17:37:19,424 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-09 17:37:30,239 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-09 17:37:41,039 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-09 17:37:51,834 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-09 17:38:02,631 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-09 17:38:13,428 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-09 17:38:24,230 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-09 17:38:35,073 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-09 17:38:45,855 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-09 17:38:56,662 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-09 17:39:07,558 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-09 17:39:18,377 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-09 17:39:29,173 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-09 17:39:39,966 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-09 17:39:50,761 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-09 17:40:01,621 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-09 17:40:12,437 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-09 17:40:23,260 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-09 17:40:34,043 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-09 17:40:44,859 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-09 17:40:55,637 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-09 17:41:06,453 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-09 17:41:17,209 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-09 17:41:28,076 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-09 17:41:38,872 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-09 17:41:49,702 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-09 17:42:00,570 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-09 17:42:11,429 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-09 17:42:22,222 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-09 17:42:33,052 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-09 17:42:43,837 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 17:42:43,917 - bigdata_deploy_logger - INFO - 
2023-08-09 17:42:43,917 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-09 17:42:43,962 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-09 17:42:43,962 - bigdata_deploy_logger - INFO - 
2023-08-09 17:42:43,963 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-09 17:42:43,963 - bigdata_deploy_logger - INFO - 
2023-08-09 17:42:43,964 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-09 17:42:43,964 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-09 17:42:43,965 - bigdata_deploy_logger - INFO - sdp1                       : ok=158  changed=66   unreachable=0    failed=1    skipped=58   rescued=0    ignored=2
2023-08-09 17:42:43,966 - bigdata_deploy_logger - INFO - sdp2                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 17:42:43,966 - bigdata_deploy_logger - INFO - sdp3                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 17:42:43,967 - bigdata_deploy_logger - INFO - 
2023-08-09 17:42:44,064 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-09 18:19:54,241 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:19:54,244 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-09 18:19:54,253 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:19:54,254 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-09 18:19:54,263 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:19:54,293 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 18:19:54,300 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:19:54,330 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 18:19:54,331 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-09 18:19:54,340 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 18:19:54,341 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 18:19:54,372 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 18:19:54,375 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 18:19:54,384 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:19:54,388 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 18:19:54,397 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 18:19:54,400 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 18:19:54,408 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:19:54,417 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:19:54,426 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 18:19:54,434 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:19:54,437 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 18:19:54,445 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:19:54,446 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 18:19:54,455 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:19:54,457 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-09 18:19:54,470 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-09 18:19:55,303 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-09 18:19:55,303 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-09 18:19:57,009 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,010 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:19:57,041 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,041 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:19:57,087 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:19:57,091 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,092 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:19:57,139 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:19:57,142 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,143 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:19:57,149 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,150 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:19:57,449 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:19:57,452 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:19:57,455 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:19:57,461 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,461 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:19:57,507 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:19:57,513 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:19:57,523 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:19:57,525 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,526 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:19:57,572 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:19:57,579 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:19:57,586 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:19:57,590 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,590 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:19:57,636 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:19:57,644 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:19:57,650 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:19:57,660 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,660 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-09 18:19:57,696 - bigdata_deploy_logger - INFO - 
2023-08-09 18:19:57,696 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:20:03,907 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:13,786 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:14,021 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:14,033 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:14,034 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-09 18:20:14,803 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:14,926 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:14,926 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:14,939 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:14,940 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-09 18:20:14,998 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-09 18:20:14,998 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-09 18:20:14,999 - bigdata_deploy_logger - INFO - }
2023-08-09 18:20:15,007 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-09 18:20:15,007 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-09 18:20:15,007 - bigdata_deploy_logger - INFO - }
2023-08-09 18:20:15,026 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-09 18:20:15,026 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-09 18:20:15,026 - bigdata_deploy_logger - INFO - }
2023-08-09 18:20:15,037 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:15,037 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-09 18:20:15,083 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:20:15,099 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:20:15,120 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:20:15,131 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:15,131 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-09 18:20:15,206 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 18:20:15,224 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 18:20:15,249 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 18:20:15,286 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:15,287 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-09 18:20:15,975 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:16,038 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:16,101 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:16,115 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:16,116 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-09 18:20:16,671 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:16,772 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:16,805 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:16,817 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:16,817 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-09 18:20:19,205 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:19,521 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:19,886 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:19,902 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:19,903 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-09 18:20:20,873 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-09 18:20:20,873 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 18:20:20,874 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 18:20:20,874 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:21,157 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:21,438 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:21,453 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:21,453 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-09 18:20:22,633 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:22,940 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:23,135 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:23,147 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:23,147 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-09 18:20:24,292 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:25,067 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:25,416 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:25,427 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:25,427 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-09 18:20:26,408 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:26,466 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:26,501 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:26,517 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:26,517 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-09 18:20:27,526 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:27,824 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:27,971 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:27,983 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:27,984 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-09 18:20:29,487 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:30,642 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:30,834 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:30,845 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:30,845 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-09 18:20:30,937 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-09 18:20:30,968 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:30,968 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-09 18:20:33,233 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:33,438 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:33,509 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:33,579 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:33,580 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-09 18:20:34,259 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:34,282 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:34,438 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:34,565 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:34,566 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-09 18:20:36,061 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:20:36,776 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:20:37,073 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:20:37,146 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:37,146 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-09 18:20:39,560 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:39,811 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:40,056 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:40,137 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:40,137 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-09 18:20:41,018 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:41,507 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:41,612 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:41,680 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:41,681 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-09 18:20:41,765 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:20:41,835 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:20:41,847 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:20:41,918 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:41,919 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-09 18:20:42,771 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:43,184 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:43,306 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:43,371 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:43,371 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-09 18:20:44,274 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-09 18:20:44,274 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-09 18:20:44,275 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-09 18:20:44,275 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-09 18:20:44,275 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:44,712 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:44,863 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:44,934 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:44,934 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-09 18:20:45,832 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:46,272 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:46,302 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:46,378 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:46,378 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-09 18:20:47,846 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 18:20:48,451 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 18:20:48,611 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 18:20:48,691 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:48,692 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-09 18:20:49,564 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 18:20:50,072 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 18:20:50,112 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 18:20:50,190 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:50,190 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-09 18:20:51,072 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:51,524 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:51,679 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:51,754 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:51,754 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-09 18:20:52,638 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-09 18:20:52,773 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-09 18:20:52,775 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-09 18:20:53,374 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-09 18:20:53,586 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-09 18:20:53,596 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-09 18:20:53,952 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-09 18:20:54,282 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-09 18:20:54,470 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-09 18:20:54,550 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:54,550 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-09 18:20:54,639 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:20:54,758 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:20:54,769 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:20:54,842 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:54,842 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-09 18:20:55,495 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:20:55,508 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:20:55,625 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:20:55,691 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:55,691 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-09 18:20:56,364 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-09 18:20:56,367 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-09 18:20:56,528 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-09 18:20:56,598 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:56,598 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-09 18:20:57,484 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 18:20:57,905 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 18:20:57,991 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 18:20:58,123 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:58,123 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-09 18:20:58,819 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 18:20:58,906 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 18:20:58,956 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 18:20:59,318 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 18:20:59,320 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-09 18:20:59,320 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 18:20:59,320 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 18:20:59,568 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 18:20:59,631 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 18:20:59,706 - bigdata_deploy_logger - INFO - 
2023-08-09 18:20:59,707 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 18:21:01,182 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 18:21:01,514 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 18:21:01,728 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 18:21:01,808 - bigdata_deploy_logger - INFO - 
2023-08-09 18:21:01,808 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 18:21:02,092 - bigdata_deploy_logger - INFO - 
2023-08-09 18:21:02,092 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-09 18:21:30,905 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:21:44,907 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:21:54,640 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:21:54,709 - bigdata_deploy_logger - INFO - 
2023-08-09 18:21:54,709 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-09 18:21:55,521 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:21:55,639 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:21:55,786 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:21:55,852 - bigdata_deploy_logger - INFO - 
2023-08-09 18:21:55,852 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-09 18:21:57,324 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:21:58,114 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:21:58,480 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:21:58,547 - bigdata_deploy_logger - INFO - 
2023-08-09 18:21:58,547 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-09 18:21:58,630 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:21:58,722 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:22:01,173 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:22:01,242 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:01,242 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-09 18:22:02,872 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:22:04,670 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:22:04,828 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:22:04,909 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:04,909 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-09 18:22:06,351 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:22:07,529 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:22:07,726 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:22:07,804 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:07,804 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 18:22:16,750 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.308862", "end": "2023-08-09 10:22:16.642421", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:22:08.333559", "stderr": " 9 Aug 10:22:16 ntpdate[130632]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 10:22:16 ntpdate[130632]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 18:22:16,751 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:22:17,217 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.726700", "end": "2023-08-09 10:22:17.138734", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:22:08.412034", "stderr": " 9 Aug 10:22:17 ntpdate[41186]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 10:22:17 ntpdate[41186]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 18:22:17,217 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:22:17,344 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.700112", "end": "2023-08-09 10:22:17.222099", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:22:08.521987", "stderr": " 9 Aug 10:22:17 ntpdate[124322]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 10:22:17 ntpdate[124322]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 18:22:17,345 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:22:17,409 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:17,409 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 18:22:18,262 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:22:18,697 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:22:18,822 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:22:18,902 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:18,902 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-09 18:22:20,341 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:21,146 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:21,406 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:21,479 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:21,479 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-09 18:22:21,950 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 18:22:21,956 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 18:22:21,963 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 18:22:22,070 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:22,071 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:22,155 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:22,224 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:22,245 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:22,316 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:22,316 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:22,397 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:22,465 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:22,486 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:22,556 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:22,556 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:22,639 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:22,707 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:22,728 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:22,798 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:22,798 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-09 18:22:23,698 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-09 18:22:23,699 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-09 18:22:23,699 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-09 18:22:23,699 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-09 18:22:23,699 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:24,109 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:24,317 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:24,384 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:24,384 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 18:22:25,221 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:25,798 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:26,010 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:26,091 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:26,092 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 18:22:26,186 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:26,261 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:26,282 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:26,355 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:26,355 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-09 18:22:26,435 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:22:26,553 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:22:26,563 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:22:26,632 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:26,633 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-09 18:22:26,714 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:22:26,782 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:22:26,790 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:22:26,858 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:26,858 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:26,941 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:27,015 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:27,032 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:27,101 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:27,101 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:27,186 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:27,256 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:27,273 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:27,344 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:27,344 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:27,430 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:27,498 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:27,521 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:27,597 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:27,597 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-09 18:22:28,455 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:28,898 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:29,019 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:29,099 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:29,099 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 18:22:30,006 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:30,448 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:30,555 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:30,636 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:30,636 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 18:22:30,726 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:30,795 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:30,813 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:30,884 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:30,884 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-09 18:22:30,964 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:22:31,029 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:22:31,034 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:22:31,104 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:31,104 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-09 18:22:31,186 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:22:31,250 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:22:31,256 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:22:31,378 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:31,378 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:31,479 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:31,549 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:31,567 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:31,638 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:31,638 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:31,722 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:31,789 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:31,808 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:31,880 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:31,880 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:22:31,964 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:32,032 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:32,058 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:32,134 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:32,134 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-09 18:22:33,075 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:33,457 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:33,625 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:33,697 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:33,697 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 18:22:34,576 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:35,088 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:35,256 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:35,326 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:35,326 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 18:22:35,411 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:22:35,485 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:22:35,504 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:22:35,573 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:35,574 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-09 18:22:35,658 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:22:35,730 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:22:35,737 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:22:35,828 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:35,828 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-09 18:22:35,912 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:22:35,980 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:22:35,993 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:22:35,993 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:35,994 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-09 18:22:37,179 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-09 18:22:37,180 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-09 18:22:37,180 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-09 18:22:37,180 - bigdata_deploy_logger - INFO - this message.
2023-08-09 18:22:37,180 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:22:37,373 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:22:37,714 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:22:37,714 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:37,714 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-09 18:22:43,881 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:22:44,796 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:22:45,455 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:22:45,461 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:45,461 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-09 18:22:45,536 - bigdata_deploy_logger - INFO - 
2023-08-09 18:22:45,536 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:23:01,413 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:23:01,484 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:01,484 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-09 18:23:01,537 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-09 18:23:01,607 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:01,607 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-09 18:23:01,633 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:01,758 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:01,758 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-09 18:23:11,922 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-09 18:23:11,998 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:11,998 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-09 18:23:14,582 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:14,664 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:14,664 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-09 18:23:15,431 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:15,505 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:15,505 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-09 18:23:16,206 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:16,279 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:16,279 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-09 18:23:16,977 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:17,050 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:17,050 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-09 18:23:17,072 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:17,142 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:17,142 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-09 18:23:17,164 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:17,165 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-09 18:23:17,165 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:17,165 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 18:23:19,505 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:19,637 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:19,637 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-09 18:23:21,179 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:23:21,254 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:21,254 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-09 18:23:24,076 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:24,146 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:24,147 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-09 18:23:24,255 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:23:24,321 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:24,321 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-09 18:23:24,351 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:23:24,429 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:24,429 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-09 18:23:25,872 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:25,950 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:25,950 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:23:25,970 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:26,047 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:26,047 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-09 18:23:27,793 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:27,869 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:27,870 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:23:27,895 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:27,980 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:27,980 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-09 18:23:28,080 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:23:28,150 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:28,150 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-09 18:23:28,871 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:28,945 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:28,945 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-09 18:23:29,054 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:23:29,128 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:29,129 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-09 18:23:29,159 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:23:29,237 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:29,237 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-09 18:23:30,642 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:30,711 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:30,711 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:23:30,737 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:30,815 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:30,816 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-09 18:23:32,552 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:32,635 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:32,635 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:23:32,665 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:32,739 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:32,739 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-09 18:23:32,839 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:23:32,907 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:32,907 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-09 18:23:33,651 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:33,737 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:33,737 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-09 18:23:33,837 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:23:33,959 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:33,959 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-09 18:23:33,991 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:23:34,064 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:34,064 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-09 18:23:35,463 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:35,546 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:35,546 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:23:35,570 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:35,642 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:35,642 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-09 18:23:38,363 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:38,443 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:38,444 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:23:38,470 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:38,553 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:38,554 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-09 18:23:38,668 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:23:38,746 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:38,746 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-09 18:23:39,517 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:39,649 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:39,650 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-09 18:23:39,765 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:23:39,851 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:39,851 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-09 18:23:39,892 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:23:39,976 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:39,977 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-09 18:23:41,403 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:41,487 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:41,487 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:23:41,509 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:41,583 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:41,583 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-09 18:23:43,292 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:43,365 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:43,366 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:23:43,386 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:23:43,461 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:43,461 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-09 18:23:43,559 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:23:43,630 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:43,630 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-09 18:23:44,354 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:44,354 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:44,354 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 18:23:46,650 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:23:46,653 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:46,654 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-09 18:23:46,783 - bigdata_deploy_logger - INFO - 
2023-08-09 18:23:46,784 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:23:52,396 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:24:02,593 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:24:02,708 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:24:02,788 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:02,788 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-09 18:24:02,881 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 18:24:02,954 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 18:24:02,992 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 18:24:03,063 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:03,064 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-09 18:24:03,147 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:24:03,218 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:03,232 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:24:03,353 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:03,353 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-09 18:24:03,440 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:24:03,512 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:03,523 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:24:03,528 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:03,529 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-09 18:24:03,604 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:03,604 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:24:19,434 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:24:19,510 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:19,510 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-09 18:24:19,558 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-09 18:24:19,630 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:19,630 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-09 18:24:19,662 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:19,738 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:19,738 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-09 18:24:19,763 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:19,839 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:19,839 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-09 18:24:19,858 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:19,933 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:19,933 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-09 18:24:19,952 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:20,026 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,026 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-09 18:24:20,046 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:20,175 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,175 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-09 18:24:20,195 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:20,267 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,268 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-09 18:24:20,286 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:20,362 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,362 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-09 18:24:20,382 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:20,459 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,459 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-09 18:24:20,477 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:20,551 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,551 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-09 18:24:20,568 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:20,572 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,572 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:24:20,578 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,578 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:24:20,598 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:24:20,602 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,603 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:24:20,622 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:24:20,625 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,626 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:24:20,700 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:20,700 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:24:20,873 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:24:20,903 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:24:20,952 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:24:21,023 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:21,024 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:24:21,109 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:24:21,179 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:21,193 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:24:21,266 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:21,266 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:24:21,354 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:24:21,425 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:21,439 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:24:21,511 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:21,511 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:24:21,597 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:24:21,666 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:24:21,680 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:24:21,689 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:21,689 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-09 18:24:21,818 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:21,819 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:24:27,395 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:24:37,539 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:24:38,655 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:24:38,731 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:38,732 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-09 18:24:39,477 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:24:39,546 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:24:39,592 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:24:39,660 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:39,660 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-09 18:24:40,649 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:24:41,070 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:24:41,197 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:24:41,262 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:41,262 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-09 18:24:49,212 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:24:52,320 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:24:52,731 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:24:52,808 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:52,808 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-09 18:24:53,568 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:24:53,650 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:24:53,686 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:24:53,771 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:53,771 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-09 18:24:54,494 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:24:54,600 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:24:54,633 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:24:54,704 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:54,704 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-09 18:24:55,407 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:24:55,508 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:24:55,536 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:24:55,608 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:55,608 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-09 18:24:56,258 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:24:56,305 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:24:56,386 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:24:56,389 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:56,389 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-09 18:24:57,534 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:24:57,787 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:24:58,088 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:24:58,088 - bigdata_deploy_logger - INFO - 
2023-08-09 18:24:58,088 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-09 18:25:01,891 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:25:02,656 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:25:03,083 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:25:03,153 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:03,153 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-09 18:25:04,136 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:25:04,590 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:25:04,790 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:25:04,860 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:04,860 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-09 18:25:06,068 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:25:06,963 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:25:07,014 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:25:07,022 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:07,022 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-09 18:25:07,111 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:07,112 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:25:23,050 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:25:23,121 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:23,121 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-09 18:25:23,170 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-09 18:25:23,244 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:23,245 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-09 18:25:43,966 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:25:44,033 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:44,033 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-09 18:25:45,383 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.589187", "end": "2023-08-09 10:25:45.271704", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:25:44.682517", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-09 18:25:45,384 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:25:45,456 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:45,456 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-09 18:25:46,427 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:25:46,560 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:46,560 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-09 18:25:46,584 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:25:46,659 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:46,659 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-09 18:25:47,450 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:25:47,522 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:47,522 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-09 18:25:51,526 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-09 18:25:55,522 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-09 18:25:55,529 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:55,529 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-09 18:25:57,123 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:25:57,195 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:57,195 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-09 18:25:57,230 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-09 18:25:57,375 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:57,376 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-09 18:25:57,402 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:25:57,598 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:57,598 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-09 18:25:57,621 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:25:57,699 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:57,699 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-09 18:25:57,723 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:25:57,803 - bigdata_deploy_logger - INFO - 
2023-08-09 18:25:57,803 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-09 18:26:03,200 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-09 18:26:03,278 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:03,278 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-09 18:26:05,725 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:26:05,806 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:05,806 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-09 18:26:05,830 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:26:05,901 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:05,901 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-09 18:26:05,926 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:26:06,052 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:06,052 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-09 18:26:07,602 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:26:07,675 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:07,675 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-09 18:26:07,706 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:26:07,781 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:07,781 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-09 18:26:07,812 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:26:07,885 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:07,885 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-09 18:26:11,214 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:26:11,297 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:11,298 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-09 18:26:12,039 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:26:12,122 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:12,122 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-09 18:26:12,887 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:26:12,889 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:12,889 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-09 18:26:28,935 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:26:28,937 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:28,937 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 18:26:30,834 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:26:30,910 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:30,910 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-09 18:26:32,444 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:26:32,524 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:32,525 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-09 18:26:34,571 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:26:34,578 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:34,578 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:26:34,583 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:34,583 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:26:34,607 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:26:34,616 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:34,616 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:26:34,638 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:26:34,645 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:34,645 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:26:34,715 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:34,716 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:26:34,921 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:26:35,003 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:26:35,124 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:26:35,193 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:35,193 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:26:35,346 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:26:35,417 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:26:35,433 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:26:35,503 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:35,503 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:26:35,588 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:26:35,656 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:26:35,674 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:26:35,750 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:35,750 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:26:35,833 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:26:35,902 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:26:35,921 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:26:35,925 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:35,926 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 18:26:35,993 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:35,994 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:26:41,640 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:26:51,513 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:26:51,869 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:26:51,873 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:51,874 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-09 18:26:51,953 - bigdata_deploy_logger - INFO - 
2023-08-09 18:26:51,953 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:27:07,791 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:27:07,863 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:07,863 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-09 18:27:07,910 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-09 18:27:07,985 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:07,985 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-09 18:27:08,645 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:27:08,718 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:08,718 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-09 18:27:08,738 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:27:08,857 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:08,857 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-09 18:27:10,045 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:27:10,127 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:10,127 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-09 18:27:10,160 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:27:10,233 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:10,233 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-09 18:27:10,443 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:27:10,514 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:10,515 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-09 18:27:11,316 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:27:11,390 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:11,390 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-09 18:27:12,785 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-09 18:27:13,654 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-09 18:27:14,498 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-09 18:27:14,512 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:14,513 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-09 18:27:29,931 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:27:29,931 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:29,932 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 18:27:31,730 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:27:31,737 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:31,737 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:27:31,744 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:31,744 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:27:31,774 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:27:31,784 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:31,784 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:27:31,806 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:27:31,813 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:31,813 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:27:31,892 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:31,893 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:27:32,147 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:27:32,148 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:27:32,252 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:27:32,331 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:32,331 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:27:32,429 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:27:32,502 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:27:32,517 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:27:32,587 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:32,587 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:27:32,675 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:27:32,748 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:27:32,763 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:27:32,839 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:32,839 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:27:32,932 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:27:33,010 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:27:33,024 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:27:33,029 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:33,029 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 18:27:33,103 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:33,104 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:27:38,831 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:27:48,998 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:27:49,199 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:27:49,203 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:49,203 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-09 18:27:49,281 - bigdata_deploy_logger - INFO - 
2023-08-09 18:27:49,281 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:28:05,035 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:05,106 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:05,106 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-09 18:28:05,151 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-09 18:28:05,223 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:05,223 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-09 18:28:06,618 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:06,691 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:06,691 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-09 18:28:06,710 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:28:06,785 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:06,786 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-09 18:28:06,847 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:06,969 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:06,969 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-09 18:28:06,992 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:28:07,063 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:07,063 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-09 18:28:07,096 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:07,169 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:07,169 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-09 18:28:07,189 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:28:07,264 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:07,264 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-09 18:28:08,013 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:08,085 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:08,086 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-09 18:28:08,960 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:09,029 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:09,030 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-09 18:28:10,020 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:10,093 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:10,093 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-09 18:28:13,533 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:28:13,609 - bigdata_deploy_logger - INFO - 
2023-08-09 18:28:13,610 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-09 18:28:14,626 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-09 18:28:25,599 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-09 18:28:38,531 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-09 18:28:49,413 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-09 18:29:00,328 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-09 18:29:11,174 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-09 18:29:22,051 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-09 18:29:32,936 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-09 18:29:43,750 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-09 18:29:54,596 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-09 18:30:05,359 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-09 18:30:16,179 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-09 18:30:29,730 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-09 18:30:40,537 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-09 18:30:51,379 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-09 18:31:02,250 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-09 18:31:13,092 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-09 18:31:26,144 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-09 18:31:36,895 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-09 18:31:49,227 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-09 18:32:00,115 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-09 18:32:11,025 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-09 18:32:21,875 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-09 18:32:34,063 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-09 18:32:44,881 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-09 18:32:55,764 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-09 18:33:06,627 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-09 18:33:17,515 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-09 18:33:28,370 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-09 18:33:39,187 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-09 18:33:49,960 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-09 18:34:00,818 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-09 18:34:11,736 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-09 18:34:22,583 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-09 18:34:33,405 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-09 18:34:44,225 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-09 18:34:55,056 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-09 18:35:05,868 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-09 18:35:16,647 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-09 18:35:27,509 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-09 18:35:38,310 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-09 18:35:49,120 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-09 18:35:59,988 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-09 18:36:10,910 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-09 18:36:21,715 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-09 18:36:32,610 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-09 18:36:43,491 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-09 18:36:54,350 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-09 18:37:05,230 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-09 18:37:16,004 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-09 18:37:26,876 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-09 18:37:37,794 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-09 18:37:48,647 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-09 18:37:59,489 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-09 18:38:10,305 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-09 18:38:21,085 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-09 18:38:31,900 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-09 18:38:42,804 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:38:42,910 - bigdata_deploy_logger - INFO - 
2023-08-09 18:38:42,910 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-09 18:38:42,959 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-09 18:38:42,959 - bigdata_deploy_logger - INFO - 
2023-08-09 18:38:42,960 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-09 18:38:42,960 - bigdata_deploy_logger - INFO - 
2023-08-09 18:38:42,960 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-09 18:38:42,961 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-09 18:38:42,961 - bigdata_deploy_logger - INFO - sdp1                       : ok=158  changed=66   unreachable=0    failed=1    skipped=58   rescued=0    ignored=2
2023-08-09 18:38:42,961 - bigdata_deploy_logger - INFO - sdp2                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 18:38:42,962 - bigdata_deploy_logger - INFO - sdp3                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 18:38:42,962 - bigdata_deploy_logger - INFO - 
2023-08-09 18:38:43,073 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-09 18:39:59,774 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:39:59,776 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-09 18:39:59,785 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:39:59,787 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-09 18:39:59,796 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:39:59,828 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 18:39:59,836 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:39:59,867 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 18:39:59,868 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-09 18:39:59,877 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 18:39:59,878 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 18:39:59,909 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 18:39:59,912 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 18:39:59,922 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:39:59,925 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 18:39:59,934 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 18:39:59,937 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 18:39:59,945 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:39:59,954 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:39:59,964 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 18:39:59,972 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:39:59,975 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 18:39:59,983 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 18:39:59,984 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 18:39:59,994 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 18:39:59,996 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-09 18:40:00,010 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-09 18:40:00,890 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-09 18:40:00,890 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-09 18:40:02,602 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:02,602 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:40:02,633 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:02,633 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:40:02,684 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:40:02,688 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:02,688 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:40:02,737 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:40:02,745 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:02,745 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:40:02,752 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:02,752 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:40:03,037 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:03,057 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:03,090 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:03,094 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:03,094 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:40:03,153 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:40:03,156 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:40:03,166 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:40:03,169 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:03,169 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:40:03,224 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:40:03,228 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:40:03,237 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:40:03,241 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:03,241 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:40:03,298 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:40:03,304 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:40:03,313 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:40:03,321 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:03,321 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-09 18:40:03,345 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:03,346 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:40:09,257 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:19,249 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:19,426 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:19,437 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:19,438 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-09 18:40:20,167 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:20,288 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:20,344 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:20,361 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:20,361 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-09 18:40:20,423 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-09 18:40:20,423 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-09 18:40:20,423 - bigdata_deploy_logger - INFO - }
2023-08-09 18:40:20,427 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-09 18:40:20,427 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-09 18:40:20,427 - bigdata_deploy_logger - INFO - }
2023-08-09 18:40:20,447 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-09 18:40:20,448 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-09 18:40:20,448 - bigdata_deploy_logger - INFO - }
2023-08-09 18:40:20,462 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:20,462 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-09 18:40:20,512 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:40:20,524 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:40:20,544 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:40:20,561 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:20,561 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-09 18:40:20,643 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 18:40:20,649 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 18:40:20,671 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 18:40:20,710 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:20,710 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-09 18:40:21,402 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:21,495 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:21,569 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:21,584 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:21,584 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-09 18:40:22,187 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:22,211 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:22,361 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:22,376 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:22,376 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-09 18:40:24,629 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:24,950 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:25,462 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:25,476 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:25,477 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-09 18:40:26,426 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-09 18:40:26,427 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 18:40:26,427 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 18:40:26,428 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:26,746 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:26,881 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:26,893 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:26,894 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-09 18:40:28,138 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:28,397 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:28,630 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:28,642 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:28,642 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-09 18:40:29,818 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:30,516 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:30,719 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:30,737 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:30,738 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-09 18:40:31,679 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:31,776 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:31,783 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:31,799 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:31,800 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-09 18:40:32,823 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:33,162 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:33,320 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:33,334 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:33,334 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-09 18:40:34,744 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:35,932 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:36,157 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:36,171 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:36,172 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-09 18:40:36,269 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-09 18:40:36,300 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:36,300 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-09 18:40:38,546 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:38,744 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:38,855 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:38,919 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:38,919 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-09 18:40:39,601 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:39,657 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:39,817 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:39,925 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:39,926 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-09 18:40:41,459 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:40:42,131 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:40:42,492 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:40:42,571 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:42,572 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-09 18:40:45,009 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:45,271 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:45,510 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:45,581 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:45,581 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-09 18:40:46,467 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:46,904 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:46,990 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:47,066 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:47,066 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-09 18:40:47,157 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:40:47,227 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:40:47,242 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:40:47,313 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:47,314 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-09 18:40:48,230 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:48,652 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:48,812 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:48,879 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:48,880 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-09 18:40:49,784 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-09 18:40:49,785 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-09 18:40:49,785 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-09 18:40:49,786 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-09 18:40:49,786 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:50,340 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:50,378 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:50,436 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:50,437 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-09 18:40:51,324 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:51,724 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:51,895 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:51,967 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:51,968 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-09 18:40:53,372 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 18:40:54,118 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 18:40:54,227 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 18:40:54,357 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:54,358 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-09 18:40:55,243 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 18:40:55,680 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 18:40:55,835 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 18:40:55,901 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:55,902 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-09 18:40:56,813 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:40:57,217 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:40:57,359 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:40:57,433 - bigdata_deploy_logger - INFO - 
2023-08-09 18:40:57,433 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-09 18:40:58,366 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-09 18:40:58,460 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-09 18:40:58,497 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-09 18:40:59,006 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-09 18:40:59,288 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-09 18:40:59,454 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-09 18:40:59,633 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-09 18:41:00,087 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-09 18:41:00,280 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-09 18:41:00,354 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:00,355 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-09 18:41:00,453 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:41:00,531 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:41:00,548 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:41:00,617 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:00,617 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-09 18:41:01,298 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:41:01,310 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:41:01,468 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:41:01,546 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:01,546 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-09 18:41:02,252 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-09 18:41:02,376 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-09 18:41:02,401 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-09 18:41:02,471 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:02,471 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-09 18:41:03,365 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 18:41:03,744 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 18:41:03,925 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 18:41:04,006 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:04,007 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-09 18:41:04,853 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 18:41:04,874 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 18:41:04,998 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 18:41:05,410 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 18:41:05,414 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-09 18:41:05,415 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 18:41:05,415 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 18:41:05,519 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 18:41:05,753 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 18:41:05,839 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:05,840 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 18:41:07,303 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 18:41:07,701 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 18:41:07,914 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 18:41:07,990 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:07,991 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 18:41:08,260 - bigdata_deploy_logger - INFO - 
2023-08-09 18:41:08,260 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-09 18:41:40,256 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:41:50,298 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:42:17,291 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:42:17,352 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:17,352 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-09 18:42:18,141 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:18,208 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:18,297 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:18,374 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:18,374 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-09 18:42:20,631 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:21,059 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:42:23,428 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:23,563 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:23,564 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-09 18:42:23,650 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:42:23,742 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:42:26,298 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:42:26,380 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:26,381 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-09 18:42:28,051 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:42:29,666 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:42:29,811 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:42:29,891 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:29,891 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-09 18:42:31,275 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:42:32,625 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:42:32,725 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:42:32,852 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:32,853 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 18:42:41,862 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.313294", "end": "2023-08-09 10:42:41.743006", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:42:33.429712", "stderr": " 9 Aug 10:42:41 ntpdate[15893]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 10:42:41 ntpdate[15893]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 18:42:41,863 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:42:42,345 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.710720", "end": "2023-08-09 10:42:42.243433", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:42:33.532713", "stderr": " 9 Aug 10:42:42 ntpdate[54138]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 10:42:42 ntpdate[54138]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 18:42:42,346 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:42:42,514 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.777542", "end": "2023-08-09 10:42:42.389675", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:42:33.612133", "stderr": " 9 Aug 10:42:42 ntpdate[25877]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 10:42:42 ntpdate[25877]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 18:42:42,514 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:42:42,580 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:42,580 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 18:42:43,469 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:42:44,006 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:42:44,178 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:42:44,242 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:44,243 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-09 18:42:45,703 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:46,644 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:46,936 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:47,011 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:47,011 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-09 18:42:47,400 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 18:42:47,408 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 18:42:47,414 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 18:42:47,513 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:47,513 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:47,645 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:47,713 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:47,733 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:47,801 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:47,801 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:47,887 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:47,955 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:47,976 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:48,048 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:48,048 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:48,134 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:48,203 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:48,225 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:48,296 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:48,297 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-09 18:42:49,252 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-09 18:42:49,253 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-09 18:42:49,253 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-09 18:42:49,254 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-09 18:42:49,254 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:49,697 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:49,820 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:49,901 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:49,901 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 18:42:50,825 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:51,247 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:51,421 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:51,494 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:51,495 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 18:42:51,593 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:51,672 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:51,694 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:51,772 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:51,773 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-09 18:42:51,867 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:42:51,934 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:42:51,943 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:42:52,008 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:52,008 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-09 18:42:52,091 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:42:52,156 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:42:52,166 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:42:52,232 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:52,232 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:52,318 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:52,385 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:52,406 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:52,477 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:52,477 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:52,616 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:52,684 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:52,705 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:52,779 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:52,779 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:52,862 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:52,932 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:52,956 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:53,034 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:53,035 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-09 18:42:53,980 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:54,381 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:54,553 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:54,632 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:54,632 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 18:42:55,560 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:55,965 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:56,172 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:56,234 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:56,235 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 18:42:56,325 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:56,399 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:56,418 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:56,490 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:56,490 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-09 18:42:56,575 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:42:56,646 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:42:56,651 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:42:56,722 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:56,723 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-09 18:42:56,806 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:42:56,873 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:42:56,879 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:42:56,948 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:56,949 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:57,034 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:57,101 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:57,117 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:57,185 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:57,186 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:57,271 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:57,337 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:57,353 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:57,421 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:57,422 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 18:42:57,505 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:57,628 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:57,644 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:57,716 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:57,717 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-09 18:42:58,647 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:42:59,004 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:42:59,237 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:42:59,303 - bigdata_deploy_logger - INFO - 
2023-08-09 18:42:59,304 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 18:43:00,205 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:43:00,616 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:43:00,720 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:43:00,800 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:00,801 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 18:43:00,899 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:43:00,976 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:43:01,000 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:43:01,120 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:01,120 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-09 18:43:01,200 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:43:01,262 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:01,269 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:43:01,334 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:01,334 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-09 18:43:01,410 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:43:01,471 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:01,478 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:43:01,480 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:01,480 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-09 18:43:02,660 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-09 18:43:02,661 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-09 18:43:02,662 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-09 18:43:02,662 - bigdata_deploy_logger - INFO - this message.
2023-08-09 18:43:02,662 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:43:02,821 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:43:03,276 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:03,277 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:03,277 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-09 18:43:09,315 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:43:10,386 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:43:10,781 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:10,789 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:10,789 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-09 18:43:10,869 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:10,870 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:43:26,549 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:43:26,628 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:26,628 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-09 18:43:26,681 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-09 18:43:26,754 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:26,755 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-09 18:43:26,779 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:26,857 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:26,857 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-09 18:43:36,762 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-09 18:43:36,846 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:36,846 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-09 18:43:39,520 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:39,603 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:39,603 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-09 18:43:40,409 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:40,483 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:40,483 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-09 18:43:41,204 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:41,274 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:41,274 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-09 18:43:42,068 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:42,143 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:42,144 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-09 18:43:42,167 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:42,244 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:42,244 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-09 18:43:42,269 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:42,270 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-09 18:43:42,270 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:42,270 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 18:43:44,553 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:44,636 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:44,636 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-09 18:43:46,270 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:43:46,350 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:46,350 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-09 18:43:49,298 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:49,362 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:49,362 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-09 18:43:49,468 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:43:49,536 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:49,536 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-09 18:43:49,569 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:43:49,642 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:49,642 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-09 18:43:51,177 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:51,259 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:51,259 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:43:51,283 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:51,405 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:51,405 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-09 18:43:53,229 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:53,314 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:53,315 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:43:53,341 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:53,428 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:53,428 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-09 18:43:53,537 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:43:53,605 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:53,605 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-09 18:43:54,410 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:54,491 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:54,491 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-09 18:43:54,605 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:43:54,685 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:54,685 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-09 18:43:54,716 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:43:54,850 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:54,850 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-09 18:43:56,462 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:56,549 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:56,549 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:43:56,573 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:56,659 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:56,659 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-09 18:43:58,500 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:58,585 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:58,586 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:43:58,616 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:43:58,702 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:58,702 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-09 18:43:58,814 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:43:58,894 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:58,894 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-09 18:43:59,693 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:43:59,815 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:59,815 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-09 18:43:59,921 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:43:59,992 - bigdata_deploy_logger - INFO - 
2023-08-09 18:43:59,992 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-09 18:44:00,022 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:44:00,101 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:00,102 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-09 18:44:01,708 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:01,782 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:01,782 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:44:01,803 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:01,886 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:01,887 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-09 18:44:03,672 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:03,751 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:03,751 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:44:03,774 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:03,857 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:03,857 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-09 18:44:03,977 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:44:04,106 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:04,106 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-09 18:44:04,879 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:04,947 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:04,947 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-09 18:44:05,049 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 18:44:05,123 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:05,123 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-09 18:44:05,164 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:44:05,236 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:05,236 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-09 18:44:06,828 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:06,917 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:06,918 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 18:44:06,946 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:07,034 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:07,034 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-09 18:44:08,907 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:09,036 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:09,036 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 18:44:09,059 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:09,132 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:09,133 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-09 18:44:09,231 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 18:44:09,309 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:09,309 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-09 18:44:10,044 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:10,044 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:10,044 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 18:44:12,296 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:12,301 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:12,301 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-09 18:44:12,378 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:12,379 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:44:18,213 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:44:28,123 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:44:28,229 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:44:28,361 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:28,361 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-09 18:44:28,464 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 18:44:28,545 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 18:44:28,579 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 18:44:28,661 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:28,661 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-09 18:44:28,756 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:44:28,826 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:28,841 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:44:28,912 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:28,912 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-09 18:44:28,997 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:44:29,065 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:29,082 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:44:29,090 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:29,090 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-09 18:44:29,165 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:29,165 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:44:45,166 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:44:45,239 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:45,239 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-09 18:44:45,295 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-09 18:44:45,377 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:45,377 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-09 18:44:45,407 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:45,491 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:45,491 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-09 18:44:45,514 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:45,599 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:45,599 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-09 18:44:45,626 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:45,710 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:45,710 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-09 18:44:45,734 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:45,817 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:45,817 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-09 18:44:45,842 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:45,967 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:45,967 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-09 18:44:45,995 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:46,065 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,065 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-09 18:44:46,093 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:46,176 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,176 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-09 18:44:46,203 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:46,284 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,285 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-09 18:44:46,312 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:46,397 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,397 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-09 18:44:46,422 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:46,429 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,429 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:44:46,435 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,435 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:44:46,456 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:44:46,463 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,463 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:44:46,490 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:44:46,497 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,497 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:44:46,576 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,576 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:44:46,765 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:44:46,831 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:44:46,870 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:44:46,951 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:46,952 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:44:47,050 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:44:47,118 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:47,137 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:44:47,211 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:47,211 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:44:47,296 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:44:47,364 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:47,386 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:44:47,459 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:47,459 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:44:47,541 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:44:47,663 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:44:47,684 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:44:47,689 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:47,690 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-09 18:44:47,765 - bigdata_deploy_logger - INFO - 
2023-08-09 18:44:47,765 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:44:53,577 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:45:03,340 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:45:03,503 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:45:03,581 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:03,581 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-09 18:45:04,403 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:45:04,499 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:45:04,504 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:45:04,576 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:04,577 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-09 18:45:05,502 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:45:05,928 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:45:06,056 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:45:06,133 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:06,133 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-09 18:45:14,045 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:45:17,025 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:45:17,344 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:45:17,415 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:17,415 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-09 18:45:18,102 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:45:18,218 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:45:18,394 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:45:18,513 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:18,514 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-09 18:45:19,158 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:45:19,205 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:45:19,306 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:45:19,375 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:19,375 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-09 18:45:20,042 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:45:20,052 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:45:20,210 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:45:20,280 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:20,280 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-09 18:45:20,814 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:45:20,959 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:45:21,099 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:45:21,100 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:21,101 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-09 18:45:22,053 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:45:22,494 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:45:22,796 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:45:22,796 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:22,796 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-09 18:45:26,266 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:45:27,343 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:45:27,692 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:45:27,764 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:27,764 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-09 18:45:28,645 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:45:29,181 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:45:29,348 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:45:29,425 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:29,425 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-09 18:45:30,484 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:45:31,515 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:45:31,664 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:45:31,673 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:31,673 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-09 18:45:31,763 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:31,763 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:45:47,503 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:45:47,583 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:47,583 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-09 18:45:47,636 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-09 18:45:47,723 - bigdata_deploy_logger - INFO - 
2023-08-09 18:45:47,723 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-09 18:46:07,437 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:07,521 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:07,521 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-09 18:46:08,891 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.632212", "end": "2023-08-09 10:46:08.781602", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 10:46:08.149390", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-09 18:46:08,891 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 18:46:09,012 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:09,012 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-09 18:46:09,828 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:09,904 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:09,904 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-09 18:46:09,923 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:09,993 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:09,993 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-09 18:46:10,684 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:46:10,753 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:10,753 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-09 18:46:14,990 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-09 18:46:19,110 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-09 18:46:19,113 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:19,113 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-09 18:46:20,679 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:46:20,753 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:20,754 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-09 18:46:20,785 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-09 18:46:20,971 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:20,972 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-09 18:46:20,994 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:21,131 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:21,131 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-09 18:46:21,156 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:21,228 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:21,228 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-09 18:46:21,250 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:21,324 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:21,324 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-09 18:46:26,485 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-09 18:46:26,556 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:26,556 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-09 18:46:29,061 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:29,134 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:29,134 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-09 18:46:29,164 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:29,284 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:29,284 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-09 18:46:29,305 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:29,377 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:29,377 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-09 18:46:30,980 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:31,055 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:31,055 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-09 18:46:31,088 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:46:31,163 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:31,163 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-09 18:46:31,187 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:46:31,262 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:31,262 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-09 18:46:34,756 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:34,837 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:34,838 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-09 18:46:35,598 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:35,736 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:35,736 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-09 18:46:36,493 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:36,495 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:36,495 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-09 18:46:51,564 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:51,564 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:51,564 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 18:46:53,442 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:46:53,524 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:53,524 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-09 18:46:54,985 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:46:55,056 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:55,056 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-09 18:46:57,216 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:46:57,220 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:57,220 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:46:57,225 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:57,225 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:46:57,250 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:46:57,254 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:57,254 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:46:57,272 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:46:57,275 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:57,276 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:46:57,346 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:57,346 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:46:57,574 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:46:57,659 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:46:57,775 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:46:57,841 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:57,842 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:46:57,978 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:46:58,049 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:58,062 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:46:58,134 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:58,134 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:46:58,225 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:46:58,299 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:58,315 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:46:58,385 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:58,385 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:46:58,474 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:46:58,547 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:46:58,565 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:46:58,570 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:58,570 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 18:46:58,638 - bigdata_deploy_logger - INFO - 
2023-08-09 18:46:58,638 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:47:04,294 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:47:14,198 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:47:14,623 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:47:14,631 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:14,631 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-09 18:47:14,699 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:14,699 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:47:30,353 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:47:30,432 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:30,432 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-09 18:47:30,476 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-09 18:47:30,559 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:30,559 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-09 18:47:31,360 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:47:31,437 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:31,437 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-09 18:47:31,463 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:47:31,541 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:31,541 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-09 18:47:32,793 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:47:32,876 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:32,876 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-09 18:47:32,902 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:47:33,036 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:33,036 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-09 18:47:33,238 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:47:33,319 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:33,319 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-09 18:47:34,229 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:47:34,313 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:34,313 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-09 18:47:35,719 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-09 18:47:36,639 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-09 18:47:37,531 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-09 18:47:37,547 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:37,547 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-09 18:47:52,018 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:47:52,018 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:52,019 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 18:47:53,822 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:47:53,831 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:53,831 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 18:47:53,835 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:53,835 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 18:47:53,856 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:47:53,860 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:53,860 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 18:47:53,879 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 18:47:53,882 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:53,883 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 18:47:53,955 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:53,955 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 18:47:54,122 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 18:47:54,167 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 18:47:54,196 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 18:47:54,263 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:54,263 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 18:47:54,397 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:47:54,464 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:47:54,479 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:47:54,548 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:54,549 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 18:47:54,638 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:47:54,709 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:47:54,725 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:47:54,795 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:54,795 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 18:47:54,892 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 18:47:54,962 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:47:54,982 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 18:47:54,987 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:54,987 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 18:47:55,058 - bigdata_deploy_logger - INFO - 
2023-08-09 18:47:55,058 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:48:00,794 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 18:48:10,641 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 18:48:10,882 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:10,885 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:10,886 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-09 18:48:10,955 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:10,955 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 18:48:26,869 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:26,942 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:26,942 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-09 18:48:26,986 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-09 18:48:27,064 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:27,064 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-09 18:48:28,493 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:28,570 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:28,571 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-09 18:48:28,592 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:48:28,665 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:28,665 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-09 18:48:28,727 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:28,799 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:28,799 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-09 18:48:28,820 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:48:28,943 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:28,943 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-09 18:48:28,986 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:29,064 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:29,064 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-09 18:48:29,090 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 18:48:29,163 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:29,163 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-09 18:48:30,020 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:30,096 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:30,096 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-09 18:48:31,053 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:31,138 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:31,138 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-09 18:48:32,217 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:32,297 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:32,298 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-09 18:48:35,528 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:48:35,613 - bigdata_deploy_logger - INFO - 
2023-08-09 18:48:35,613 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-09 18:48:36,630 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-09 18:48:47,605 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-09 18:48:58,819 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-09 18:49:09,700 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-09 18:49:20,517 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-09 18:49:31,311 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-09 18:49:42,106 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-09 18:49:52,941 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-09 18:50:03,752 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-09 18:50:14,602 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-09 18:50:25,719 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-09 18:50:36,520 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-09 18:50:47,428 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-09 18:50:58,404 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-09 18:51:09,366 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-09 18:51:23,873 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-09 18:51:34,810 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-09 18:51:45,670 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-09 18:51:56,531 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-09 18:52:10,796 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-09 18:52:21,657 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-09 18:52:32,569 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-09 18:52:43,416 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-09 18:52:54,288 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-09 18:53:05,899 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-09 18:53:16,799 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-09 18:53:27,671 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-09 18:53:38,661 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-09 18:53:49,619 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-09 18:54:00,486 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-09 18:54:11,475 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-09 18:54:22,325 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-09 18:54:33,165 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-09 18:54:44,061 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-09 18:54:54,898 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-09 18:55:10,075 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-09 18:55:20,889 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-09 18:55:31,749 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-09 18:55:42,589 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-09 18:55:53,520 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-09 18:56:04,408 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-09 18:56:15,309 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-09 18:56:26,227 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-09 18:56:37,100 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-09 18:56:47,910 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-09 18:56:58,761 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-09 18:57:09,568 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-09 18:57:20,367 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-09 18:57:31,179 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-09 18:57:42,029 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-09 18:57:52,860 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-09 18:58:03,668 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-09 18:58:14,484 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-09 18:58:25,440 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-09 18:58:36,229 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-09 18:58:47,176 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-09 18:58:58,077 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 18:58:58,155 - bigdata_deploy_logger - INFO - 
2023-08-09 18:58:58,155 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-09 18:58:58,272 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-09 18:58:58,272 - bigdata_deploy_logger - INFO - 
2023-08-09 18:58:58,273 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-09 18:58:58,273 - bigdata_deploy_logger - INFO - 
2023-08-09 18:58:58,273 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-09 18:58:58,273 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-09 18:58:58,274 - bigdata_deploy_logger - INFO - sdp1                       : ok=158  changed=66   unreachable=0    failed=1    skipped=58   rescued=0    ignored=2
2023-08-09 18:58:58,274 - bigdata_deploy_logger - INFO - sdp2                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 18:58:58,274 - bigdata_deploy_logger - INFO - sdp3                       : ok=81   changed=33   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 18:58:58,274 - bigdata_deploy_logger - INFO - 
2023-08-09 18:58:58,350 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-09 19:12:06,675 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 19:12:06,677 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-09 19:12:06,687 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 19:12:06,688 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-09 19:12:06,698 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 19:12:06,730 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 19:12:06,738 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 19:12:06,770 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 19:12:06,771 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-09 19:12:06,780 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 19:12:06,781 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 19:12:06,813 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-09 19:12:06,817 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 19:12:06,826 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 19:12:06,830 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 19:12:06,839 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 19:12:06,842 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-09 19:12:06,850 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 19:12:06,859 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 19:12:06,869 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-09 19:12:06,876 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 19:12:06,880 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-09 19:12:06,888 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-09 19:12:06,889 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-09 19:12:06,898 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-09 19:12:06,900 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-09 19:12:06,914 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-09 19:12:07,774 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-09 19:12:07,774 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-09 19:12:09,464 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:09,464 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 19:12:09,495 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:09,495 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 19:12:09,542 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:12:09,547 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:09,548 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 19:12:09,593 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:12:09,600 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:09,601 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 19:12:09,607 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:09,607 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 19:12:09,900 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:09,917 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:09,959 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:09,963 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:09,963 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 19:12:10,009 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:12:10,025 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:12:10,025 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:12:10,028 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:10,029 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 19:12:10,075 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:12:10,089 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:12:10,091 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:12:10,095 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:10,096 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 19:12:10,143 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:12:10,155 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:12:10,160 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:12:10,165 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:10,165 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-09 19:12:10,192 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:10,193 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:12:16,294 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:26,130 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:26,361 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:26,374 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:26,375 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-09 19:12:27,146 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:27,208 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:27,293 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:27,310 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:27,311 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-09 19:12:27,370 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-09 19:12:27,370 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-09 19:12:27,371 - bigdata_deploy_logger - INFO - }
2023-08-09 19:12:27,390 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-09 19:12:27,390 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-09 19:12:27,390 - bigdata_deploy_logger - INFO - }
2023-08-09 19:12:27,409 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-09 19:12:27,409 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-09 19:12:27,410 - bigdata_deploy_logger - INFO - }
2023-08-09 19:12:27,427 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:27,428 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-09 19:12:27,485 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:12:27,499 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:12:27,519 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:12:27,538 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:27,538 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-09 19:12:27,626 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 19:12:27,648 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 19:12:27,669 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-09 19:12:27,714 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:27,715 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-09 19:12:28,537 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:28,546 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:28,640 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:28,654 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:28,654 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-09 19:12:29,263 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:29,338 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:29,482 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:29,494 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:29,494 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-09 19:12:31,831 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:32,132 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:32,651 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:32,665 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:32,666 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-09 19:12:33,638 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-09 19:12:33,639 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 19:12:33,639 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 19:12:33,639 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:33,943 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:34,098 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:34,110 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:34,110 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-09 19:12:35,357 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:35,700 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:35,860 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:35,873 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:35,873 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-09 19:12:37,073 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:37,744 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:37,960 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:37,977 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:37,977 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-09 19:12:38,923 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:39,044 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:39,097 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:39,106 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:39,106 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-09 19:12:40,137 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:40,413 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:40,615 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:40,630 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:40,630 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-09 19:12:42,081 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:43,223 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:43,360 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:43,372 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:43,373 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-09 19:12:43,469 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-09 19:12:43,499 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:43,499 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-09 19:12:45,833 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:45,946 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:46,065 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:46,130 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:46,130 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-09 19:12:46,843 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:46,906 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:47,119 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:47,192 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:47,193 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-09 19:12:48,615 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:12:49,604 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:12:49,965 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:12:50,047 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:50,047 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-09 19:12:52,292 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:52,675 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:53,605 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:53,685 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:53,685 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-09 19:12:54,560 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:55,021 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:55,128 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:55,195 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:55,196 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-09 19:12:55,285 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:12:55,356 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:12:55,367 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:12:55,443 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:55,443 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-09 19:12:56,328 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:56,907 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:56,976 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:57,057 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:57,057 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-09 19:12:57,957 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-09 19:12:57,957 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-09 19:12:57,957 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-09 19:12:57,958 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-09 19:12:57,958 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:58,400 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:12:58,510 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:12:58,583 - bigdata_deploy_logger - INFO - 
2023-08-09 19:12:58,583 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-09 19:12:59,478 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:12:59,961 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:13:00,057 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:13:00,128 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:00,128 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-09 19:13:01,499 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 19:13:02,367 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 19:13:02,392 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-09 19:13:02,514 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:02,514 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-09 19:13:03,365 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 19:13:03,810 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 19:13:03,948 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-09 19:13:04,018 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:04,019 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-09 19:13:04,895 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:13:05,268 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:13:05,437 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:13:05,515 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:05,515 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-09 19:13:06,433 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-09 19:13:06,561 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-09 19:13:06,586 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-09 19:13:07,078 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-09 19:13:07,323 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-09 19:13:07,450 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-09 19:13:07,646 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-09 19:13:08,164 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-09 19:13:08,324 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-09 19:13:08,394 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:08,394 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-09 19:13:08,482 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:13:08,554 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:13:08,565 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:13:08,638 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:08,639 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-09 19:13:09,273 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:13:09,347 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:13:09,471 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:13:09,539 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:09,539 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-09 19:13:10,236 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-09 19:13:10,289 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-09 19:13:10,408 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-09 19:13:10,494 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:10,494 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-09 19:13:11,412 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-09 19:13:11,413 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-09 19:13:11,413 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-09 19:13:11,414 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-09 19:13:11,414 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:13:11,964 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:13:12,008 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:13:12,081 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:12,082 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-09 19:13:12,918 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 19:13:13,480 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 19:13:13,636 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-09 19:13:13,717 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:13,717 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-09 19:13:14,543 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 19:13:14,607 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 19:13:14,711 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-09 19:13:15,012 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 19:13:15,015 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-09 19:13:15,016 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-09 19:13:15,016 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-09 19:13:15,225 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 19:13:15,487 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-09 19:13:15,562 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:15,562 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 19:13:17,065 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 19:13:17,374 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 19:13:17,520 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-09 19:13:17,596 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:17,596 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-09 19:13:17,841 - bigdata_deploy_logger - INFO - 
2023-08-09 19:13:17,841 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-09 19:13:56,372 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:13:58,988 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:14:42,403 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:14:42,481 - bigdata_deploy_logger - INFO - 
2023-08-09 19:14:42,481 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-09 19:14:43,365 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:14:43,371 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:14:43,531 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:14:43,609 - bigdata_deploy_logger - INFO - 
2023-08-09 19:14:43,609 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-09 19:14:45,064 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:14:45,934 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:14:46,313 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:14:46,394 - bigdata_deploy_logger - INFO - 
2023-08-09 19:14:46,394 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-09 19:14:46,495 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:14:46,587 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:14:49,101 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:14:49,181 - bigdata_deploy_logger - INFO - 
2023-08-09 19:14:49,181 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-09 19:14:50,846 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:14:52,584 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:14:52,598 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:14:52,670 - bigdata_deploy_logger - INFO - 
2023-08-09 19:14:52,670 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-09 19:14:54,154 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:14:55,386 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:14:55,534 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:14:55,605 - bigdata_deploy_logger - INFO - 
2023-08-09 19:14:55,605 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 19:15:04,588 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.309967", "end": "2023-08-09 11:15:04.488935", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 11:14:56.178968", "stderr": " 9 Aug 11:15:04 ntpdate[57748]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 11:15:04 ntpdate[57748]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 19:15:04,588 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 19:15:05,077 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.739328", "end": "2023-08-09 11:15:05.013033", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 11:14:56.273705", "stderr": " 9 Aug 11:15:05 ntpdate[72305]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 11:15:05 ntpdate[72305]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 19:15:05,077 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 19:15:05,174 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.715400", "end": "2023-08-09 11:15:05.079851", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 11:14:56.364451", "stderr": " 9 Aug 11:15:05 ntpdate[83507]: no server suitable for synchronization found", "stderr_lines": [" 9 Aug 11:15:05 ntpdate[83507]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-09 19:15:05,175 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 19:15:05,249 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:05,249 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-09 19:15:06,114 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:15:06,547 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:15:06,736 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:15:06,803 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:06,803 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-09 19:15:08,319 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:09,179 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:09,442 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:09,511 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:09,511 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-09 19:15:09,915 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 19:15:09,926 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 19:15:09,930 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-09 19:15:10,039 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:10,039 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:10,183 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:10,252 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:10,267 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:10,350 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:10,350 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:10,439 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:10,504 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:10,519 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:10,595 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:10,595 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:10,683 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:10,748 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:10,764 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:10,836 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:10,836 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-09 19:15:11,777 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-09 19:15:11,778 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-09 19:15:11,779 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-09 19:15:11,779 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-09 19:15:11,779 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:12,190 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:12,376 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:12,455 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:12,456 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 19:15:13,354 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:13,820 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:13,916 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:14,000 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:14,000 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 19:15:14,108 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:14,187 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:14,206 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:14,288 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:14,288 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-09 19:15:14,381 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:15:14,448 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:15:14,454 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:15:14,523 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:14,523 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-09 19:15:14,606 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:15:14,673 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:15:14,679 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:15:14,749 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:14,749 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:14,837 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:14,907 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:14,923 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:14,996 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:14,996 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:15,137 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:15,205 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:15,221 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:15,296 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:15,296 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:15,384 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:15,452 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:15,470 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:15,543 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:15,543 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-09 19:15:16,423 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:16,959 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:17,083 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:17,155 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:17,155 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 19:15:18,005 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:18,441 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:18,587 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:18,652 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:18,653 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 19:15:18,745 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:18,818 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:18,838 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:18,915 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:18,915 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-09 19:15:19,005 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:15:19,074 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:15:19,085 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:15:19,161 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:19,161 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-09 19:15:19,252 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:15:19,320 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:15:19,327 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:15:19,401 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:19,401 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:19,495 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:19,569 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:19,587 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:19,662 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:19,662 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:19,754 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:19,830 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:19,845 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:19,921 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:19,921 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-09 19:15:20,062 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:20,133 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:20,149 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:20,221 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:20,221 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-09 19:15:21,169 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:21,558 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:21,697 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:21,771 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:21,771 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-09 19:15:22,598 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:23,066 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:23,223 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:23,293 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:23,293 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-09 19:15:23,434 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:15:23,506 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:23,524 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:15:23,596 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:23,596 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-09 19:15:23,684 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:15:23,753 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:15:23,758 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:15:23,834 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:23,834 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-09 19:15:23,922 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:15:23,991 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:15:23,996 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:15:23,998 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:23,998 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-09 19:15:25,131 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-09 19:15:25,132 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-09 19:15:25,132 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-09 19:15:25,133 - bigdata_deploy_logger - INFO - this message.
2023-08-09 19:15:25,133 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:15:25,376 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:15:25,765 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:15:25,766 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:25,766 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-09 19:15:32,204 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:15:32,944 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:15:34,645 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:15:34,649 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:34,650 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-09 19:15:34,739 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:34,739 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:15:50,477 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:15:50,545 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:50,545 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-09 19:15:50,601 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-09 19:15:50,678 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:50,678 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-09 19:15:50,700 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:15:50,773 - bigdata_deploy_logger - INFO - 
2023-08-09 19:15:50,774 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-09 19:16:04,823 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-09 19:16:04,909 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:04,909 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-09 19:16:07,527 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:07,607 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:07,608 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-09 19:16:08,418 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:08,560 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:08,560 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-09 19:16:09,346 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:09,428 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:09,428 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-09 19:16:10,265 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:10,337 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:10,337 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-09 19:16:10,359 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:10,437 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:10,437 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-09 19:16:10,458 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:10,459 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-09 19:16:10,459 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:10,459 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 19:16:12,771 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:12,844 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:12,844 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-09 19:16:14,473 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:16:14,549 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:14,550 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-09 19:16:17,577 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:17,661 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:17,661 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-09 19:16:17,835 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 19:16:17,898 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:17,898 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-09 19:16:17,930 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:16:18,000 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:18,000 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-09 19:16:19,460 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:19,537 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:19,537 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 19:16:19,567 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:19,644 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:19,644 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-09 19:16:21,391 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:21,465 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:21,465 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 19:16:21,489 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:21,569 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:21,570 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-09 19:16:21,674 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 19:16:21,791 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:21,791 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-09 19:16:22,474 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:22,546 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:22,546 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-09 19:16:22,647 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 19:16:22,720 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:22,720 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-09 19:16:22,753 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:16:22,831 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:22,831 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-09 19:16:24,327 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:24,402 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:24,402 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 19:16:24,428 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:24,509 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:24,509 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-09 19:16:26,288 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:26,371 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:26,371 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 19:16:26,397 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:26,530 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:26,530 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-09 19:16:26,643 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 19:16:26,717 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:26,717 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-09 19:16:27,481 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:27,565 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:27,565 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-09 19:16:27,678 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 19:16:27,764 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:27,764 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-09 19:16:27,796 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:16:27,877 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:27,877 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-09 19:16:29,511 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:29,598 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:29,598 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 19:16:29,622 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:29,765 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:29,765 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-09 19:16:31,565 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:31,651 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:31,651 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 19:16:31,674 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:31,752 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:31,753 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-09 19:16:31,851 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 19:16:31,920 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:31,920 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-09 19:16:32,718 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:32,798 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:32,798 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-09 19:16:32,896 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-09 19:16:32,987 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:32,987 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-09 19:16:33,019 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:16:33,113 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:33,113 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-09 19:16:34,666 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:34,745 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:34,745 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-09 19:16:34,767 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:34,844 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:34,844 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-09 19:16:36,695 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:36,774 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:36,774 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-09 19:16:36,798 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:36,873 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:36,874 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-09 19:16:36,974 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-09 19:16:37,043 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:37,043 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-09 19:16:37,889 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:37,889 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:37,889 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-09 19:16:40,291 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:16:40,295 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:40,295 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-09 19:16:40,367 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:40,367 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:16:46,292 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:16:56,056 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:16:56,300 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:16:56,368 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:56,368 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-09 19:16:56,460 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 19:16:56,534 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 19:16:56,571 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-09 19:16:56,692 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:56,692 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-09 19:16:56,780 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:16:56,849 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:56,863 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:16:56,933 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:56,933 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-09 19:16:57,018 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:16:57,085 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:16:57,097 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:16:57,104 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:57,104 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-09 19:16:57,180 - bigdata_deploy_logger - INFO - 
2023-08-09 19:16:57,180 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:17:12,815 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:17:12,888 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:12,889 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-09 19:17:12,935 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-09 19:17:13,008 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,008 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-09 19:17:13,030 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,151 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,151 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-09 19:17:13,177 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,252 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,252 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-09 19:17:13,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,349 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,349 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-09 19:17:13,374 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,447 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,447 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-09 19:17:13,473 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,545 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,545 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-09 19:17:13,571 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,646 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,646 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-09 19:17:13,671 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,740 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,740 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-09 19:17:13,761 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,838 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,838 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-09 19:17:13,860 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,938 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,938 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-09 19:17:13,962 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:13,967 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,967 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 19:17:13,974 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:13,974 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 19:17:13,997 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:17:14,001 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:14,001 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 19:17:14,022 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:17:14,025 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:14,026 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 19:17:14,098 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:14,099 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 19:17:14,268 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:17:14,321 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:17:14,378 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:17:14,446 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:14,447 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 19:17:14,533 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:17:14,601 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:14,615 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:17:14,739 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:14,739 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 19:17:14,828 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:17:14,896 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:14,912 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:17:14,981 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:14,981 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 19:17:15,067 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:17:15,140 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:17:15,156 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:17:15,161 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:15,161 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-09 19:17:15,237 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:15,237 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:17:22,912 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:17:30,811 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:17:30,980 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:17:31,093 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:31,093 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-09 19:17:31,827 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:17:31,933 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:17:32,007 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:17:32,090 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:32,090 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-09 19:17:33,041 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:17:33,518 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:17:33,622 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:17:33,693 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:33,693 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-09 19:17:44,628 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:17:45,059 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:17:45,817 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:17:45,886 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:45,886 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-09 19:17:46,743 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:17:46,815 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:17:46,924 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:17:47,012 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:47,012 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-09 19:17:47,736 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:17:47,795 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:17:47,929 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:17:48,015 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:48,015 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-09 19:17:48,846 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:17:48,931 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:17:49,032 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:17:49,103 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:49,103 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-09 19:17:49,806 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:17:49,891 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:17:49,911 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:17:49,913 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:49,914 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-09 19:17:51,233 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:17:51,331 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:17:51,620 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:17:51,620 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:51,621 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-09 19:17:55,422 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:17:56,275 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:17:56,723 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:17:56,853 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:56,853 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-09 19:17:57,890 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:17:58,393 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:17:58,445 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:17:58,519 - bigdata_deploy_logger - INFO - 
2023-08-09 19:17:58,519 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-09 19:17:59,703 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:18:00,606 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:18:00,751 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:18:00,761 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:00,761 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-09 19:18:00,855 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:00,856 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:18:16,603 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:18:16,674 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:16,674 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-09 19:18:16,720 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-09 19:18:16,796 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:16,796 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-09 19:18:36,663 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:18:36,734 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:36,734 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-09 19:18:38,161 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.648830", "end": "2023-08-09 11:18:38.068338", "msg": "non-zero return code", "rc": 1, "start": "2023-08-09 11:18:37.419508", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-09 19:18:38,162 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-09 19:18:38,250 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:38,250 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-09 19:18:39,209 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:18:39,296 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:39,296 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-09 19:18:39,322 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:18:39,409 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:39,409 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-09 19:18:40,269 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:18:40,362 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:40,362 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-09 19:18:44,562 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-09 19:18:48,718 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-09 19:18:48,724 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:48,724 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-09 19:18:50,406 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:18:50,484 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:50,484 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-09 19:18:50,512 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-09 19:18:50,674 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:50,674 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-09 19:18:50,695 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:18:50,834 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:50,834 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-09 19:18:50,862 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:18:50,938 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:50,938 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-09 19:18:50,959 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:18:51,040 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:51,040 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-09 19:18:56,361 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-09 19:18:56,430 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:56,430 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-09 19:18:58,947 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:18:59,026 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:59,026 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-09 19:18:59,049 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:18:59,127 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:59,127 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-09 19:18:59,149 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:18:59,227 - bigdata_deploy_logger - INFO - 
2023-08-09 19:18:59,227 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-09 19:19:00,958 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:19:01,036 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:01,036 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-09 19:19:01,071 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:19:01,195 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:01,195 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-09 19:19:01,225 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:19:01,299 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:01,299 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-09 19:19:04,778 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:19:04,852 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:04,852 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-09 19:19:05,605 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:19:05,679 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:05,679 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-09 19:19:06,430 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:19:06,432 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:06,432 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-09 19:19:22,525 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:19:22,525 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:22,525 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 19:19:24,397 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:19:24,480 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:24,481 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-09 19:19:26,011 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:19:26,076 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:26,077 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-09 19:19:28,111 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:19:28,116 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:28,116 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 19:19:28,121 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:28,121 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 19:19:28,145 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:19:28,151 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:28,152 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 19:19:28,171 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:19:28,175 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:28,175 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 19:19:28,259 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:28,259 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 19:19:28,497 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:19:28,555 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:19:28,728 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:19:28,800 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:28,800 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 19:19:28,891 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:19:28,959 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:19:28,979 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:19:29,096 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:29,096 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 19:19:29,182 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:19:29,248 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:19:29,267 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:19:29,343 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:29,343 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 19:19:29,428 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:19:29,498 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:19:29,518 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:19:29,525 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:29,526 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 19:19:29,595 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:29,595 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:19:35,594 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:19:45,210 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:19:45,231 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:19:45,236 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:45,236 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-09 19:19:45,301 - bigdata_deploy_logger - INFO - 
2023-08-09 19:19:45,301 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:20:01,045 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:20:01,115 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:01,116 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-09 19:20:01,168 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-09 19:20:01,245 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:01,246 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-09 19:20:02,062 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:20:02,129 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:02,130 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-09 19:20:02,156 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:20:02,268 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:02,268 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-09 19:20:04,574 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:20:04,657 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:04,658 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-09 19:20:04,683 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:20:04,768 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:04,768 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-09 19:20:04,970 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:20:05,064 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:05,064 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-09 19:20:05,989 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:20:06,078 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:06,078 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-09 19:20:07,497 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-09 19:20:08,387 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-09 19:20:09,211 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-09 19:20:09,230 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:09,230 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-09 19:20:26,806 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:20:26,806 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:26,806 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-09 19:20:28,624 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:20:28,629 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:28,629 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-09 19:20:28,635 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:28,635 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-09 19:20:28,660 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:20:28,664 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:28,664 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-09 19:20:28,686 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-09 19:20:28,690 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:28,690 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-09 19:20:28,775 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:28,776 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-09 19:20:28,974 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-09 19:20:29,014 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-09 19:20:29,065 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-09 19:20:29,147 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:29,148 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-09 19:20:29,298 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:20:29,371 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:20:29,385 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:20:29,461 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:29,461 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-09 19:20:29,552 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:20:29,623 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:20:29,637 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:20:29,711 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:29,711 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-09 19:20:29,804 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-09 19:20:29,877 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:20:29,892 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-09 19:20:29,897 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:29,897 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-09 19:20:29,971 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:29,971 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:20:35,624 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-09 19:20:45,648 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-09 19:20:46,007 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:20:46,012 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:46,012 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-09 19:20:46,094 - bigdata_deploy_logger - INFO - 
2023-08-09 19:20:46,094 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-09 19:21:02,060 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:02,129 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:02,129 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-09 19:21:02,177 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-09 19:21:02,249 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:02,249 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-09 19:21:03,682 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:03,755 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:03,755 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-09 19:21:03,778 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:21:03,849 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:03,849 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-09 19:21:03,979 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:04,061 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:04,061 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-09 19:21:04,080 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:21:04,202 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:04,202 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-09 19:21:04,241 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:04,317 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:04,317 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-09 19:21:04,341 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-09 19:21:04,420 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:04,420 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-09 19:21:05,299 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:05,386 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:05,386 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-09 19:21:06,325 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:06,410 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:06,410 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-09 19:21:07,469 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:07,556 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:07,556 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-09 19:21:15,114 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:21:15,182 - bigdata_deploy_logger - INFO - 
2023-08-09 19:21:15,182 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-09 19:21:16,292 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-09 19:21:27,180 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-09 19:21:37,951 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-09 19:21:48,783 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-09 19:21:59,611 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-09 19:22:10,372 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-09 19:22:21,319 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-09 19:22:32,090 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-09 19:22:42,947 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-09 19:22:53,696 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-09 19:23:04,521 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-09 19:23:15,376 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-09 19:23:26,236 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-09 19:23:37,192 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-09 19:23:48,025 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-09 19:23:58,822 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-09 19:24:09,633 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-09 19:24:20,458 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-09 19:24:31,351 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-09 19:24:42,184 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-09 19:24:53,051 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-09 19:25:03,874 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-09 19:25:14,728 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-09 19:25:25,656 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-09 19:25:37,615 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-09 19:25:48,466 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-09 19:25:59,275 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-09 19:26:10,053 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-09 19:26:20,866 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-09 19:26:31,736 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-09 19:26:42,633 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-09 19:26:53,500 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-09 19:27:04,316 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-09 19:27:15,122 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-09 19:27:25,965 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-09 19:27:36,800 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-09 19:27:47,657 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-09 19:27:58,492 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-09 19:28:09,349 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-09 19:28:20,113 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-09 19:28:30,976 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-09 19:28:41,736 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-09 19:28:52,516 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-09 19:29:03,353 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-09 19:29:14,125 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-09 19:29:24,971 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-09 19:29:35,914 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-09 19:29:46,843 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-09 19:29:57,666 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-09 19:30:08,496 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-09 19:30:19,325 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-09 19:30:30,175 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-09 19:30:41,012 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-09 19:30:51,824 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-09 19:31:02,585 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-09 19:31:13,426 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-09 19:31:24,234 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-09 19:31:35,009 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-09 19:31:35,078 - bigdata_deploy_logger - INFO - 
2023-08-09 19:31:35,078 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-09 19:31:35,124 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-09 19:31:35,125 - bigdata_deploy_logger - INFO - 
2023-08-09 19:31:35,125 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-09 19:31:35,125 - bigdata_deploy_logger - INFO - 
2023-08-09 19:31:35,126 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-09 19:31:35,127 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-09 19:31:35,127 - bigdata_deploy_logger - INFO - sdp1                       : ok=159  changed=67   unreachable=0    failed=1    skipped=58   rescued=0    ignored=2
2023-08-09 19:31:35,128 - bigdata_deploy_logger - INFO - sdp2                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 19:31:35,129 - bigdata_deploy_logger - INFO - sdp3                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-09 19:31:35,129 - bigdata_deploy_logger - INFO - 
2023-08-09 19:31:35,218 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-10 10:00:37,852 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:00:37,855 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-10 10:00:37,864 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:00:37,866 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-10 10:00:37,875 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:00:37,908 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 10:00:37,916 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:00:37,949 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 10:00:37,950 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-10 10:00:37,960 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 10:00:37,960 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-10 10:00:37,993 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 10:00:37,996 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-10 10:00:38,006 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:00:38,010 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-10 10:00:38,019 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 10:00:38,022 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-10 10:00:38,030 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:00:38,040 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:00:38,049 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 10:00:38,057 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:00:38,061 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-10 10:00:38,069 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:00:38,070 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-10 10:00:38,079 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:00:38,081 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-10 10:00:38,096 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-10 10:00:38,941 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-10 10:00:38,941 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-10 10:00:40,592 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:40,592 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:00:40,622 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:40,622 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:00:40,670 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:00:40,674 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:40,674 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:00:40,724 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:00:40,727 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:40,728 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:00:40,733 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:40,734 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:00:41,012 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:00:41,021 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:00:41,081 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:00:41,088 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:41,088 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:00:41,142 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:00:41,145 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:00:41,151 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:00:41,158 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:41,158 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:00:41,215 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:00:41,215 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:00:41,220 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:00:41,228 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:41,228 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:00:41,286 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:00:41,287 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:00:41,293 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:00:41,301 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:41,302 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-10 10:00:41,334 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:41,334 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:00:48,083 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:00:57,471 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:00:59,607 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:00:59,621 - bigdata_deploy_logger - INFO - 
2023-08-10 10:00:59,622 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-10 10:01:00,343 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:00,401 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:00,518 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:00,529 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:00,530 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-10 10:01:00,594 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-10 10:01:00,595 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-10 10:01:00,595 - bigdata_deploy_logger - INFO - }
2023-08-10 10:01:00,605 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-10 10:01:00,606 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-10 10:01:00,606 - bigdata_deploy_logger - INFO - }
2023-08-10 10:01:00,626 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-10 10:01:00,626 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-10 10:01:00,626 - bigdata_deploy_logger - INFO - }
2023-08-10 10:01:00,638 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:00,639 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-10 10:01:00,691 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:01:00,706 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:01:00,726 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:01:00,738 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:00,738 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-10 10:01:00,822 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 10:01:00,829 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 10:01:00,844 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 10:01:00,885 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:00,885 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-10 10:01:01,655 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:01,688 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:01,749 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:01,763 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:01,763 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-10 10:01:02,352 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:02,445 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:02,529 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:02,543 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:02,543 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-10 10:01:04,911 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:05,206 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:05,623 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:05,640 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:05,640 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-10 10:01:06,712 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-10 10:01:06,713 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-10 10:01:06,714 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-10 10:01:06,714 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:06,912 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:07,088 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:07,105 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:07,106 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-10 10:01:08,431 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:08,629 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:08,783 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:08,796 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:08,796 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-10 10:01:09,983 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:10,671 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:10,878 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:10,892 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:10,892 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-10 10:01:11,864 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:11,987 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:11,991 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:12,003 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:12,003 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-10 10:01:13,073 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:13,304 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:13,474 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:13,486 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:13,486 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-10 10:01:15,097 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:16,176 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:16,258 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:16,272 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:16,272 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-10 10:01:16,383 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-10 10:01:16,419 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:16,419 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-10 10:01:18,701 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:18,835 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:18,973 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:19,038 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:19,039 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-10 10:01:19,737 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:19,741 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:19,936 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:20,043 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:20,044 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-10 10:01:21,653 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:01:22,296 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:01:22,544 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:01:22,609 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:22,609 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-10 10:01:25,229 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:25,761 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:26,087 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:26,166 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:26,167 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-10 10:01:27,094 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:27,439 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:27,644 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:27,708 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:27,709 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-10 10:01:27,793 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:01:27,864 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:01:27,877 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:01:27,945 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:27,945 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-10 10:01:28,849 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:29,230 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:29,388 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:29,454 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:29,455 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-10 10:01:30,420 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-10 10:01:30,420 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-10 10:01:30,421 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-10 10:01:30,421 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-10 10:01:30,422 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:30,747 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:30,995 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:31,059 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:31,059 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-10 10:01:31,999 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:32,352 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:32,491 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:32,571 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:32,572 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-10 10:01:34,081 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 10:01:34,702 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 10:01:34,785 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 10:01:34,860 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:34,860 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-10 10:01:35,830 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 10:01:36,198 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 10:01:36,264 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 10:01:36,345 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:36,345 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-10 10:01:37,318 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:37,623 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:37,818 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:37,893 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:37,894 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-10 10:01:38,818 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-10 10:01:38,874 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-10 10:01:38,948 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-10 10:01:39,534 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-10 10:01:39,627 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-10 10:01:39,784 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-10 10:01:40,125 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-10 10:01:40,408 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-10 10:01:40,678 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-10 10:01:40,750 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:40,750 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-10 10:01:40,882 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:01:40,949 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:01:40,962 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:01:41,027 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:41,028 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-10 10:01:41,683 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:41,710 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:41,852 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:41,916 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:41,916 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-10 10:01:42,560 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-10 10:01:42,611 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-10 10:01:42,723 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-10 10:01:42,795 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:42,795 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-10 10:01:43,702 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-10 10:01:43,703 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-10 10:01:43,703 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-10 10:01:43,703 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-10 10:01:43,703 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:01:44,133 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:01:44,381 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:01:44,461 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:44,461 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-10 10:01:45,375 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 10:01:45,841 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 10:01:45,956 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 10:01:46,035 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:46,035 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-10 10:01:46,754 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 10:01:46,859 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 10:01:46,915 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 10:01:47,244 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 10:01:47,248 - bigdata_deploy_logger - INFO - [WARNING]: The value 2 (type int) in a string field was converted to u'2' (type
2023-08-10 10:01:47,249 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-10 10:01:47,249 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-10 10:01:47,508 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 10:01:47,614 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 10:01:47,693 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:47,693 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-10 10:01:49,533 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 10:01:49,655 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 10:01:49,739 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 10:01:49,860 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:49,860 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-10 10:01:50,094 - bigdata_deploy_logger - INFO - 
2023-08-10 10:01:50,094 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-10 10:02:15,805 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:02:36,150 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:02:50,366 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:02:50,428 - bigdata_deploy_logger - INFO - 
2023-08-10 10:02:50,428 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-10 10:02:51,278 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:02:51,361 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:02:51,564 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:02:51,644 - bigdata_deploy_logger - INFO - 
2023-08-10 10:02:51,644 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-10 10:02:53,198 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:02:54,075 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:02:54,488 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:02:54,564 - bigdata_deploy_logger - INFO - 
2023-08-10 10:02:54,565 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-10 10:02:54,660 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:02:54,756 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:02:57,356 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:02:57,427 - bigdata_deploy_logger - INFO - 
2023-08-10 10:02:57,427 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-10 10:02:59,257 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:03:00,858 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:03:00,950 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:03:01,028 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:01,029 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-10 10:03:02,589 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:03:03,783 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:03:03,968 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:03:04,042 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:04,042 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-10 10:03:13,076 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.350191", "end": "2023-08-10 02:03:13.012261", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:03:04.662070", "stderr": "10 Aug 02:03:13 ntpdate[16410]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 02:03:13 ntpdate[16410]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 10:03:13,077 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:03:13,422 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.717336", "end": "2023-08-10 02:03:13.320340", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:03:04.603004", "stderr": "10 Aug 02:03:13 ntpdate[8494]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 02:03:13 ntpdate[8494]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 10:03:13,423 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:03:13,593 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.710810", "end": "2023-08-10 02:03:13.465683", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:03:04.754873", "stderr": "10 Aug 02:03:13 ntpdate[130168]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 02:03:13 ntpdate[130168]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 10:03:13,593 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:03:13,671 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:13,672 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-10 10:03:14,620 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:03:15,119 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:03:15,334 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:03:15,412 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:15,412 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-10 10:03:16,961 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:17,750 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:18,055 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:18,131 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:18,131 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-10 10:03:18,559 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 10:03:18,570 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 10:03:18,575 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 10:03:18,676 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:18,676 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:18,765 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:18,837 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:18,852 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:18,917 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:18,917 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:19,001 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:19,070 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:19,085 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:19,152 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:19,152 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:19,236 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:19,305 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:19,321 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:19,389 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:19,389 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-10 10:03:20,348 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-10 10:03:20,349 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-10 10:03:20,349 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-10 10:03:20,349 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-10 10:03:20,349 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:20,808 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:20,828 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:20,899 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:20,899 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 10:03:21,825 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:22,202 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:22,368 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:22,433 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:22,433 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 10:03:22,519 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:22,587 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:22,613 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:22,675 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:22,676 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-10 10:03:22,754 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:03:22,820 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:03:22,830 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:03:22,894 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:22,894 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-10 10:03:22,980 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:03:23,048 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:03:23,059 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:03:23,125 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:23,125 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:23,263 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:23,332 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:23,350 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:23,415 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:23,415 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:23,500 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:23,566 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:23,585 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:23,647 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:23,647 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:23,732 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:23,798 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:23,818 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:23,884 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:23,884 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-10 10:03:24,794 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:25,210 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:25,369 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:25,433 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:25,433 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 10:03:26,256 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:26,745 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:26,848 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:26,914 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:26,914 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 10:03:27,008 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:27,088 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:27,106 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:27,190 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:27,190 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-10 10:03:27,276 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:03:27,339 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:03:27,346 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:03:27,414 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:27,414 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-10 10:03:27,497 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:03:27,570 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:03:27,575 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:03:27,651 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:27,651 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:27,739 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:27,805 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:27,821 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:27,889 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:27,889 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:27,971 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:28,092 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:28,108 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:28,178 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:28,178 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:03:28,262 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:28,330 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:28,347 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:28,417 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:28,417 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-10 10:03:29,253 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:29,771 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:29,957 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:30,024 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:30,024 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 10:03:30,879 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:31,382 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:31,558 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:31,626 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:31,626 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 10:03:31,715 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:03:31,784 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:31,804 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:03:31,872 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:31,872 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-10 10:03:31,954 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:03:32,021 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:03:32,030 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:03:32,098 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:32,098 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-10 10:03:32,183 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:03:32,249 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:03:32,259 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:03:32,260 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:32,261 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-10 10:03:33,412 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-10 10:03:33,413 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-10 10:03:33,414 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-10 10:03:33,414 - bigdata_deploy_logger - INFO - this message.
2023-08-10 10:03:33,414 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:03:33,728 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:03:34,033 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:03:34,034 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:34,034 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-10 10:03:40,045 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:03:41,055 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:03:41,694 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:03:41,703 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:41,704 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-10 10:03:41,790 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:41,790 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:03:57,473 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:03:57,541 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:57,541 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-10 10:03:57,599 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-10 10:03:57,668 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:57,669 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-10 10:03:57,693 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:03:57,765 - bigdata_deploy_logger - INFO - 
2023-08-10 10:03:57,765 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-10 10:04:07,695 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-10 10:04:07,760 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:07,760 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-10 10:04:10,248 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:10,329 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:10,329 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-10 10:04:11,070 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:11,148 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:11,148 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-10 10:04:11,866 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:11,931 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:11,931 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-10 10:04:12,651 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:12,729 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:12,730 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-10 10:04:12,760 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:12,842 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:12,842 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-10 10:04:12,866 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:12,866 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-10 10:04:12,866 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:12,866 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-10 10:04:15,153 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:15,246 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:15,246 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-10 10:04:16,843 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:04:16,973 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:16,973 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-10 10:04:19,880 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:19,964 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:19,964 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-10 10:04:20,085 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:04:20,161 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:20,161 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-10 10:04:20,196 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:04:20,269 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:20,269 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-10 10:04:21,757 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:21,840 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:21,840 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:04:21,863 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:21,946 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:21,947 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-10 10:04:23,705 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:23,775 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:23,775 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:04:23,802 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:23,874 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:23,875 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-10 10:04:24,024 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:04:24,091 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:24,091 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-10 10:04:24,874 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:24,944 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:24,944 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-10 10:04:25,042 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:04:25,108 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:25,109 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-10 10:04:25,148 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:04:25,219 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:25,219 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-10 10:04:26,692 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:26,775 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:26,776 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:04:26,801 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:26,885 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:26,885 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-10 10:04:28,582 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:28,647 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:28,647 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:04:28,672 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:28,751 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:28,751 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-10 10:04:28,849 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:04:28,914 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:28,914 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-10 10:04:29,659 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:29,735 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:29,736 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-10 10:04:29,833 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:04:29,908 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:29,908 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-10 10:04:29,938 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:04:30,014 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:30,014 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-10 10:04:31,429 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:31,498 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:31,498 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:04:31,520 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:31,596 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:31,596 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-10 10:04:33,327 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:33,410 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:33,410 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:04:33,439 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:33,525 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:33,525 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-10 10:04:33,617 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:04:33,687 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:33,687 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-10 10:04:34,441 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:34,524 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:34,525 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-10 10:04:34,675 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:04:34,748 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:34,749 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-10 10:04:34,780 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:04:34,857 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:34,857 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-10 10:04:36,364 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:36,433 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:36,433 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:04:36,463 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:36,553 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:36,553 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-10 10:04:38,396 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:38,466 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:38,466 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:04:38,489 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:38,563 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:38,564 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-10 10:04:38,705 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:04:38,772 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:38,772 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-10 10:04:39,493 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:39,496 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:39,496 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-10 10:04:41,719 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:04:41,723 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:41,723 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-10 10:04:41,792 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:41,792 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:04:48,115 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:04:57,500 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:04:57,598 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:04:57,659 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:57,660 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-10 10:04:57,750 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 10:04:57,826 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 10:04:57,862 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 10:04:57,931 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:57,931 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-10 10:04:58,017 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:04:58,088 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:58,104 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:04:58,174 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:58,174 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-10 10:04:58,301 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:04:58,371 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:04:58,384 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:04:58,389 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:58,389 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-10 10:04:58,463 - bigdata_deploy_logger - INFO - 
2023-08-10 10:04:58,463 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:05:14,130 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:05:14,202 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,203 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-10 10:05:14,252 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-10 10:05:14,321 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,322 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-10 10:05:14,341 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:14,416 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,416 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-10 10:05:14,437 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:14,557 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,557 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-10 10:05:14,574 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:14,647 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,647 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-10 10:05:14,667 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:14,738 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,738 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-10 10:05:14,758 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:14,831 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,831 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-10 10:05:14,849 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:14,924 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:14,925 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-10 10:05:14,945 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:15,016 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,016 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-10 10:05:15,034 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:15,106 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,106 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-10 10:05:15,126 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:15,201 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,202 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-10 10:05:15,226 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:15,232 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,232 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:05:15,237 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,238 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:05:15,264 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:05:15,270 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,270 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:05:15,288 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:05:15,291 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,291 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:05:15,359 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,359 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:05:15,529 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:05:15,567 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:05:15,607 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:05:15,673 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,673 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:05:15,757 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:05:15,827 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:15,842 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:05:15,908 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:15,908 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:05:15,993 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:05:16,061 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:16,078 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:05:16,194 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:16,194 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:05:16,280 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:05:16,346 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:05:16,360 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:05:16,366 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:16,366 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-10 10:05:16,435 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:16,435 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:05:22,814 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:05:32,033 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:05:32,143 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:05:32,218 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:32,218 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-10 10:05:33,061 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:05:33,063 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:05:33,118 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:05:33,183 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:33,184 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-10 10:05:34,140 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:05:34,583 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:05:34,725 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:05:34,796 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:34,796 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-10 10:05:42,722 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:05:46,368 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:05:46,428 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:05:46,495 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:46,496 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-10 10:05:47,308 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:05:47,417 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:05:47,501 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:05:47,582 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:47,582 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-10 10:05:48,270 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:05:48,371 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:05:48,441 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:05:48,511 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:48,511 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-10 10:05:49,300 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:05:49,387 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:05:49,459 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:05:49,525 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:49,526 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-10 10:05:50,198 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:05:50,208 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:05:50,317 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:05:50,320 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:50,320 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-10 10:05:51,508 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:05:51,843 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:05:52,173 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:05:52,173 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:52,174 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-10 10:05:56,011 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:05:56,693 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:05:57,138 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:05:57,212 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:57,213 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-10 10:05:58,283 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:05:58,623 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:05:58,779 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:05:58,856 - bigdata_deploy_logger - INFO - 
2023-08-10 10:05:58,857 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-10 10:06:00,183 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:06:00,944 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:06:01,099 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:06:01,104 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:01,104 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-10 10:06:01,180 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:01,180 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:06:17,164 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:06:17,243 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:17,243 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-10 10:06:17,293 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-10 10:06:17,371 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:17,371 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-10 10:06:37,305 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:06:37,387 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:37,387 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-10 10:06:38,741 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.592292", "end": "2023-08-10 02:06:38.626006", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:06:38.033714", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-10 10:06:38,742 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:06:38,858 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:38,859 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-10 10:06:39,789 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:06:39,858 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:39,858 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-10 10:06:39,878 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:06:39,951 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:39,952 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-10 10:06:40,769 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:06:40,851 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:40,851 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-10 10:06:45,183 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-10 10:06:49,310 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-10 10:06:49,318 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:49,318 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-10 10:06:50,973 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:06:51,059 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:51,059 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-10 10:06:51,097 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-10 10:06:51,253 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:51,254 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-10 10:06:51,281 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:06:51,466 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:51,466 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-10 10:06:51,489 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:06:51,560 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:51,560 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-10 10:06:51,581 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:06:51,658 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:51,658 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-10 10:06:56,929 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-10 10:06:57,002 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:57,003 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-10 10:06:59,283 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:06:59,366 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:59,367 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-10 10:06:59,396 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:06:59,482 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:59,483 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-10 10:06:59,509 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:06:59,581 - bigdata_deploy_logger - INFO - 
2023-08-10 10:06:59,582 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-10 10:07:01,194 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:07:01,261 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:01,261 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-10 10:07:01,302 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:07:01,418 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:01,418 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-10 10:07:01,441 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:07:01,511 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:01,512 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-10 10:07:04,853 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:07:04,923 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:04,924 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-10 10:07:05,707 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:07:05,789 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:05,789 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-10 10:07:06,468 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:07:06,468 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:06,469 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-10 10:07:24,469 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:07:24,470 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:24,470 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-10 10:07:26,340 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:07:26,426 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:26,426 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-10 10:07:27,857 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:07:27,939 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:27,939 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-10 10:07:30,107 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:07:30,110 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:30,111 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:07:30,116 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:30,116 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:07:30,144 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:07:30,152 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:30,152 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:07:30,178 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:07:30,181 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:30,181 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:07:30,247 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:30,248 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:07:30,473 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:07:30,554 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:07:30,647 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:07:30,713 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:30,713 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:07:30,794 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:07:30,866 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:07:30,880 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:07:30,952 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:30,952 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:07:31,036 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:07:31,103 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:07:31,119 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:07:31,243 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:31,243 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:07:31,327 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:07:31,395 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:07:31,411 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:07:31,419 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:31,420 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-10 10:07:31,497 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:31,498 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:07:37,883 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:07:47,118 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:07:47,161 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:07:47,167 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:47,167 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-10 10:07:47,240 - bigdata_deploy_logger - INFO - 
2023-08-10 10:07:47,240 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:08:02,842 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:02,970 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:02,971 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-10 10:08:03,028 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-10 10:08:03,111 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:03,111 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-10 10:08:03,863 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:08:03,935 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:03,935 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-10 10:08:03,957 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:08:04,031 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:04,031 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-10 10:08:05,323 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:05,394 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:05,394 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-10 10:08:05,417 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:05,490 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:05,491 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-10 10:08:05,690 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:05,760 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:05,760 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-10 10:08:06,543 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:06,679 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:06,679 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-10 10:08:08,057 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-10 10:08:08,957 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-10 10:08:09,816 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-10 10:08:09,845 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:09,845 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-10 10:08:24,254 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:08:24,254 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:24,254 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-10 10:08:26,109 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:26,114 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:26,114 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:08:26,120 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:26,120 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:08:26,143 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:08:26,151 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:26,151 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:08:26,174 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:08:26,179 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:26,180 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:08:26,259 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:26,260 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:08:26,449 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:08:26,488 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:08:26,527 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:08:26,658 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:26,658 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:08:26,754 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:08:26,820 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:08:26,834 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:08:26,906 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:26,907 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:08:26,988 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:08:27,056 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:08:27,070 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:08:27,144 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:27,144 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:08:27,227 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:08:27,294 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:08:27,309 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:08:27,313 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:27,314 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-10 10:08:27,378 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:27,379 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:08:33,593 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:08:42,870 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:08:43,154 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:43,159 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:43,159 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-10 10:08:43,233 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:43,234 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:08:58,917 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:08:58,995 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:58,995 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-10 10:08:59,049 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-10 10:08:59,135 - bigdata_deploy_logger - INFO - 
2023-08-10 10:08:59,136 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-10 10:09:00,553 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:09:00,640 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:00,640 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-10 10:09:00,663 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:09:00,746 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:00,746 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-10 10:09:00,818 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:09:00,903 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:00,903 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-10 10:09:00,929 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:09:01,071 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:01,072 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-10 10:09:01,113 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:09:01,199 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:01,199 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-10 10:09:01,223 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:09:01,313 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:01,314 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-10 10:09:02,149 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:09:02,223 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:02,223 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-10 10:09:03,120 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:09:03,201 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:03,201 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-10 10:09:04,195 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:09:04,262 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:04,262 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-10 10:09:07,456 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:09:07,529 - bigdata_deploy_logger - INFO - 
2023-08-10 10:09:07,529 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-10 10:09:08,706 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-10 10:09:19,721 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-10 10:09:30,645 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-10 10:09:41,748 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-10 10:09:52,555 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-10 10:10:03,463 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-10 10:10:14,250 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-10 10:10:25,095 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-10 10:10:35,922 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-10 10:10:46,753 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-10 10:10:57,607 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-10 10:11:08,406 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-10 10:11:19,199 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-10 10:11:30,052 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-10 10:11:40,847 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-10 10:11:53,385 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-10 10:12:04,276 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-10 10:12:15,116 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-10 10:12:26,000 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-10 10:12:37,614 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-10 10:12:48,465 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-10 10:12:59,259 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-10 10:13:10,070 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-10 10:13:20,890 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-10 10:13:31,679 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-10 10:13:42,518 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-10 10:13:53,302 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-10 10:14:04,113 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-10 10:14:14,952 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-10 10:14:25,861 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-10 10:14:36,721 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-10 10:14:47,525 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-10 10:14:58,329 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-10 10:15:09,139 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-10 10:15:20,007 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-10 10:15:30,850 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-10 10:15:41,656 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-10 10:15:52,466 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-10 10:16:03,248 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-10 10:16:14,162 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-10 10:16:25,057 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-10 10:16:35,935 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-10 10:16:46,763 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-10 10:16:57,591 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-10 10:17:08,400 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-10 10:17:19,187 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-10 10:17:29,954 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-10 10:17:40,884 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-10 10:17:51,649 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-10 10:18:02,498 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-10 10:18:13,411 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-10 10:18:24,263 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-10 10:18:35,110 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-10 10:18:45,922 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-10 10:18:56,735 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-10 10:19:07,634 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-10 10:19:18,462 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-10 10:19:29,292 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:19:29,363 - bigdata_deploy_logger - INFO - 
2023-08-10 10:19:29,363 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-10 10:19:29,413 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-10 10:19:29,413 - bigdata_deploy_logger - INFO - 
2023-08-10 10:19:29,413 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-10 10:19:29,414 - bigdata_deploy_logger - INFO - 
2023-08-10 10:19:29,414 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-10 10:19:29,414 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-10 10:19:29,415 - bigdata_deploy_logger - INFO - sdp1                       : ok=159  changed=67   unreachable=0    failed=1    skipped=58   rescued=0    ignored=2
2023-08-10 10:19:29,415 - bigdata_deploy_logger - INFO - sdp2                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-10 10:19:29,415 - bigdata_deploy_logger - INFO - sdp3                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-10 10:19:29,415 - bigdata_deploy_logger - INFO - 
2023-08-10 10:19:29,514 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-10 10:32:45,074 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:32:45,076 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-10 10:32:45,085 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:32:45,086 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-10 10:32:45,097 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:32:45,129 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 10:32:45,137 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:32:45,170 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 10:32:45,171 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-10 10:32:45,181 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 10:32:45,182 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-10 10:32:45,212 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 10:32:45,216 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-10 10:32:45,225 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:32:45,229 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-10 10:32:45,238 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 10:32:45,241 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-10 10:32:45,249 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:32:45,259 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:32:45,268 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 10:32:45,276 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:32:45,279 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-10 10:32:45,287 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 10:32:45,287 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-10 10:32:45,297 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 10:32:45,299 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-10 10:32:45,313 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-10 10:32:46,143 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-10 10:32:46,144 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-10 10:32:47,791 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:47,791 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:32:47,823 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:47,823 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:32:47,880 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:32:47,884 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:47,885 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:32:47,939 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:32:47,943 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:47,943 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:32:47,949 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:47,949 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:32:48,264 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:32:48,268 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:32:48,330 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:32:48,333 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:48,333 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:32:48,381 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:32:48,392 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:32:48,399 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:32:48,404 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:48,404 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:32:48,454 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:32:48,461 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:32:48,473 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:32:48,478 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:48,478 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:32:48,527 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:32:48,533 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:32:48,543 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:32:48,548 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:48,548 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-10 10:32:48,577 - bigdata_deploy_logger - INFO - 
2023-08-10 10:32:48,578 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:32:55,390 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:04,760 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:05,178 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:05,190 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:05,190 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-10 10:33:06,009 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:06,026 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:06,164 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:06,176 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:06,176 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-10 10:33:06,229 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-10 10:33:06,230 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-10 10:33:06,230 - bigdata_deploy_logger - INFO - }
2023-08-10 10:33:06,249 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-10 10:33:06,249 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-10 10:33:06,249 - bigdata_deploy_logger - INFO - }
2023-08-10 10:33:06,268 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-10 10:33:06,268 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-10 10:33:06,268 - bigdata_deploy_logger - INFO - }
2023-08-10 10:33:06,276 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:06,276 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-10 10:33:06,324 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:33:06,344 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:33:06,360 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:33:06,372 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:06,372 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-10 10:33:06,448 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 10:33:06,474 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 10:33:06,482 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 10:33:06,520 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:06,520 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-10 10:33:07,248 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:07,278 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:07,399 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:07,416 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:07,416 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-10 10:33:08,036 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:08,081 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:08,226 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:08,242 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:08,242 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-10 10:33:10,565 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:11,032 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:11,523 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:11,537 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:11,537 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-10 10:33:12,575 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-10 10:33:12,576 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-10 10:33:12,576 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-10 10:33:12,576 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:12,902 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:13,014 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:13,030 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:13,030 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-10 10:33:14,286 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:14,731 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:14,845 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:14,861 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:14,861 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-10 10:33:16,087 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:16,794 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:16,984 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:17,001 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:17,001 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-10 10:33:17,928 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:18,044 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:18,061 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:18,079 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:18,079 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-10 10:33:19,136 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:19,381 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:19,553 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:19,571 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:19,572 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-10 10:33:21,103 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:22,158 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:22,319 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:22,330 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:22,330 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-10 10:33:22,423 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-10 10:33:22,452 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:22,453 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-10 10:33:24,687 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:24,859 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:24,929 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:24,988 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:24,988 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-10 10:33:25,676 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:25,745 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:25,881 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:25,948 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:25,949 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-10 10:33:27,603 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:33:28,306 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:33:28,513 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:33:28,579 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:28,580 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-10 10:33:31,447 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:31,584 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:31,974 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:32,051 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:32,051 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-10 10:33:32,936 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:33,448 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:33,553 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:33,623 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:33,623 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-10 10:33:33,704 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:33:33,770 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:33:33,783 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:33:33,854 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:33,855 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-10 10:33:34,823 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:35,213 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:35,374 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:35,453 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:35,453 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-10 10:33:36,355 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-10 10:33:36,356 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-10 10:33:36,356 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-10 10:33:36,357 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-10 10:33:36,357 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:36,797 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:36,959 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:37,029 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:37,030 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-10 10:33:37,989 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:38,309 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:38,453 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:38,530 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:38,531 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-10 10:33:40,000 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 10:33:40,660 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 10:33:40,745 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 10:33:40,824 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:40,824 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-10 10:33:41,766 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 10:33:42,141 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 10:33:42,274 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 10:33:42,335 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:42,335 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-10 10:33:43,230 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:43,614 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:43,739 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:43,808 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:43,809 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-10 10:33:44,697 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-10 10:33:44,803 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-10 10:33:44,853 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-10 10:33:45,324 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-10 10:33:45,576 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-10 10:33:45,796 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-10 10:33:46,003 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-10 10:33:46,396 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-10 10:33:46,726 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-10 10:33:46,805 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:46,805 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-10 10:33:46,900 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:33:46,968 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:33:46,981 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:33:47,091 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:47,091 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-10 10:33:47,758 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:47,802 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:47,946 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:48,012 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:48,012 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-10 10:33:48,707 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-10 10:33:48,725 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-10 10:33:48,873 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-10 10:33:48,943 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:48,943 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-10 10:33:49,826 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-10 10:33:49,826 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-10 10:33:49,827 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-10 10:33:49,827 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-10 10:33:49,828 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:33:50,344 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:33:50,509 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:33:50,633 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:50,634 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-10 10:33:51,570 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 10:33:52,074 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 10:33:52,156 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 10:33:52,232 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:52,233 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-10 10:33:53,053 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 10:33:53,082 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 10:33:53,160 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 10:33:53,557 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 10:33:53,704 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 10:33:53,908 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 10:33:53,977 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:53,977 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-10 10:33:55,444 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 10:33:55,770 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 10:33:55,955 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 10:33:56,027 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:56,027 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-10 10:33:56,292 - bigdata_deploy_logger - INFO - 
2023-08-10 10:33:56,292 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-10 10:34:18,672 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:34:33,007 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:34:39,741 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:34:39,820 - bigdata_deploy_logger - INFO - 
2023-08-10 10:34:39,820 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-10 10:34:40,687 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:34:40,782 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:34:40,879 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:34:40,946 - bigdata_deploy_logger - INFO - 
2023-08-10 10:34:40,946 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-10 10:34:42,478 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:34:43,202 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:34:43,550 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:34:43,614 - bigdata_deploy_logger - INFO - 
2023-08-10 10:34:43,614 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-10 10:34:43,700 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:34:43,793 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:34:46,231 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:34:46,293 - bigdata_deploy_logger - INFO - 
2023-08-10 10:34:46,293 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-10 10:34:48,104 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:34:49,595 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:34:49,725 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:34:49,794 - bigdata_deploy_logger - INFO - 
2023-08-10 10:34:49,794 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-10 10:34:51,261 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:34:52,386 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:34:52,550 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:34:52,615 - bigdata_deploy_logger - INFO - 
2023-08-10 10:34:52,615 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-10 10:35:01,658 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.336710", "end": "2023-08-10 02:35:01.596615", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:34:53.259905", "stderr": "10 Aug 02:35:01 ntpdate[53005]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 02:35:01 ntpdate[53005]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 10:35:01,658 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:35:02,058 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.704254", "end": "2023-08-10 02:35:01.968425", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:34:53.264171", "stderr": "10 Aug 02:35:01 ntpdate[30538]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 02:35:01 ntpdate[30538]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 10:35:02,058 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:35:02,178 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.699551", "end": "2023-08-10 02:35:02.085165", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:34:53.385614", "stderr": "10 Aug 02:35:02 ntpdate[43759]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 02:35:02 ntpdate[43759]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 10:35:02,178 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:35:02,252 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:02,253 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-10 10:35:03,178 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:35:03,585 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:35:03,713 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:35:03,789 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:03,789 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-10 10:35:05,288 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:06,044 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:06,300 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:06,374 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:06,374 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-10 10:35:06,807 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 10:35:06,815 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 10:35:06,822 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 10:35:06,922 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:06,923 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:07,007 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:07,074 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:07,090 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:07,163 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:07,163 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:07,250 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:07,315 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:07,331 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:07,397 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:07,397 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:07,483 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:07,549 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:07,564 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:07,634 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:07,634 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-10 10:35:08,620 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-10 10:35:08,620 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-10 10:35:08,620 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-10 10:35:08,621 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-10 10:35:08,621 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:08,936 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:09,147 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:09,209 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:09,209 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 10:35:10,132 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:10,542 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:10,665 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:10,731 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:10,731 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 10:35:10,831 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:10,907 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:10,927 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:10,992 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:10,993 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-10 10:35:11,073 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:35:11,137 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:35:11,144 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:35:11,212 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:11,213 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-10 10:35:11,345 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:35:11,412 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:35:11,425 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:35:11,495 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:11,495 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:11,581 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:11,649 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:11,664 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:11,735 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:11,735 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:11,819 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:11,892 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:11,907 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:11,977 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:11,977 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:12,059 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:12,127 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:12,144 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:12,214 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:12,214 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-10 10:35:13,164 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:13,602 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:13,793 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:13,912 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:13,912 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 10:35:14,861 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:15,282 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:15,340 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:15,417 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:15,417 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 10:35:15,522 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:15,604 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:15,625 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:15,698 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:15,698 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-10 10:35:15,778 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:35:15,843 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:35:15,856 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:35:15,923 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:15,923 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-10 10:35:16,007 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:35:16,076 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:35:16,087 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:35:16,156 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:16,157 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:16,247 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:16,367 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:16,389 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:16,452 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:16,453 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:16,539 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:16,608 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:16,629 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:16,697 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:16,697 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 10:35:16,783 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:16,853 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:16,878 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:16,945 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:16,946 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-10 10:35:17,896 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:18,288 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:18,448 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:18,525 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:18,525 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 10:35:19,371 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:19,812 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:19,978 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:20,098 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:20,098 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 10:35:20,193 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:35:20,268 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:20,287 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:35:20,358 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:20,358 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-10 10:35:20,443 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:35:20,511 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:35:20,520 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:35:20,587 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:20,587 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-10 10:35:20,670 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:35:20,737 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:35:20,744 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:35:20,745 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:20,746 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-10 10:35:21,975 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-10 10:35:21,975 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-10 10:35:21,976 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-10 10:35:21,976 - bigdata_deploy_logger - INFO - this message.
2023-08-10 10:35:21,977 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:35:22,050 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:35:22,502 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:35:22,502 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:22,503 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-10 10:35:29,493 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:35:30,156 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:35:30,991 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:35:30,995 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:30,995 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-10 10:35:31,071 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:31,071 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:35:46,924 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:35:46,991 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:46,991 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-10 10:35:47,044 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-10 10:35:47,112 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:47,112 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-10 10:35:47,136 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:35:47,222 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:47,222 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-10 10:35:57,126 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-10 10:35:57,195 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:57,195 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-10 10:35:59,787 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:35:59,861 - bigdata_deploy_logger - INFO - 
2023-08-10 10:35:59,861 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-10 10:36:00,603 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:00,686 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:00,686 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-10 10:36:01,449 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:01,527 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:01,527 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-10 10:36:02,314 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:02,394 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:02,394 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-10 10:36:02,420 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:02,505 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:02,505 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-10 10:36:02,529 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:02,531 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-10 10:36:02,531 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:02,532 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-10 10:36:04,810 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:04,938 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:04,939 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-10 10:36:06,519 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:36:06,588 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:06,588 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-10 10:36:09,512 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:09,581 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:09,581 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-10 10:36:09,690 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:36:09,754 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:09,755 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-10 10:36:09,792 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:36:09,867 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:09,867 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-10 10:36:11,468 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:11,599 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:11,600 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:36:11,631 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:11,716 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:11,716 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-10 10:36:13,583 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:13,664 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:13,665 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:36:13,688 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:13,771 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:13,771 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-10 10:36:13,871 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:36:13,944 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:13,944 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-10 10:36:14,731 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:14,811 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:14,811 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-10 10:36:14,911 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:36:14,981 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:14,981 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-10 10:36:15,014 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:36:15,145 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:15,146 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-10 10:36:16,662 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:16,735 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:16,735 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:36:16,760 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:16,831 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:16,832 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-10 10:36:18,586 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:18,658 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:18,659 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:36:18,682 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:18,758 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:18,758 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-10 10:36:18,853 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:36:18,918 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:18,918 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-10 10:36:19,691 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:19,821 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:19,821 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-10 10:36:19,921 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:36:19,991 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:19,991 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-10 10:36:20,024 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:36:20,098 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:20,098 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-10 10:36:21,567 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:21,642 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:21,642 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:36:21,665 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:21,743 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:21,743 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-10 10:36:23,410 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:23,482 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:23,482 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:36:23,505 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:23,582 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:23,582 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-10 10:36:23,679 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:36:23,796 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:23,797 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-10 10:36:24,537 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:24,614 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:24,615 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-10 10:36:24,719 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 10:36:24,794 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:24,795 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-10 10:36:24,831 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:36:24,903 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:24,904 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-10 10:36:26,404 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:26,484 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:26,484 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 10:36:26,506 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:26,583 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:26,583 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-10 10:36:28,480 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:28,596 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:28,596 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 10:36:28,627 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:28,713 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:28,713 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-10 10:36:28,821 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 10:36:28,885 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:28,885 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-10 10:36:29,714 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:29,715 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:29,716 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-10 10:36:32,005 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:36:32,012 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:32,012 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-10 10:36:32,088 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:32,088 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:36:38,559 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:36:47,881 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:36:47,919 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:36:47,993 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:47,993 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-10 10:36:48,163 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 10:36:48,238 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 10:36:48,269 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 10:36:48,335 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:48,335 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-10 10:36:48,417 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:36:48,483 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:48,498 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:36:48,564 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:48,564 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-10 10:36:48,645 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:36:48,710 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:36:48,721 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:36:48,725 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:48,725 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-10 10:36:48,797 - bigdata_deploy_logger - INFO - 
2023-08-10 10:36:48,797 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:37:04,533 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:37:04,606 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:04,606 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-10 10:37:04,652 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-10 10:37:04,721 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:04,721 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-10 10:37:04,745 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:04,818 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:04,818 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-10 10:37:04,836 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:04,908 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:04,908 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-10 10:37:04,932 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,003 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,003 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-10 10:37:05,025 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,093 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,093 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-10 10:37:05,115 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,184 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,184 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-10 10:37:05,204 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,275 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,275 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-10 10:37:05,296 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,409 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,410 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-10 10:37:05,428 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,502 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,502 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-10 10:37:05,521 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,592 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,592 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-10 10:37:05,613 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:05,620 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,620 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:37:05,626 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,627 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:37:05,647 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:37:05,653 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,653 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:37:05,679 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:37:05,684 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,684 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:37:05,748 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:05,748 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:37:05,911 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:37:05,961 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:37:05,993 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:37:06,067 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:06,067 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:37:06,158 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:37:06,225 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:06,246 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:37:06,312 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:06,312 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:37:06,411 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:37:06,478 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:06,499 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:37:06,568 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:06,568 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:37:06,657 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:37:06,728 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:37:06,749 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:37:06,756 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:06,756 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-10 10:37:06,829 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:06,829 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:37:13,335 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:37:22,397 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:37:22,532 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:37:22,600 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:22,600 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-10 10:37:23,356 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:37:23,504 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:37:23,506 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:37:23,583 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:23,583 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-10 10:37:24,572 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:37:24,900 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:37:25,042 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:37:25,183 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:25,183 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-10 10:37:33,208 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:37:36,432 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:37:39,004 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:37:39,077 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:39,077 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-10 10:37:39,828 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:37:39,923 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:37:40,015 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:37:40,092 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:40,092 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-10 10:37:40,865 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:37:40,931 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:37:41,043 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:37:41,156 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:41,156 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-10 10:37:41,857 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:37:41,968 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:37:42,046 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:37:42,123 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:42,124 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-10 10:37:42,776 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:37:42,878 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:37:43,056 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:37:43,060 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:43,060 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-10 10:37:44,201 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:37:44,671 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:37:44,812 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:37:44,816 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:44,816 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-10 10:37:48,706 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:37:49,439 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:37:49,965 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:37:50,042 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:50,042 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-10 10:37:51,150 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:37:51,464 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:37:51,623 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:37:51,701 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:51,702 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-10 10:37:52,989 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:37:53,759 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:37:53,816 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:37:53,822 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:53,822 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-10 10:37:53,900 - bigdata_deploy_logger - INFO - 
2023-08-10 10:37:53,900 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:38:09,515 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:38:09,582 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:09,582 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-10 10:38:09,631 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-10 10:38:09,700 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:09,700 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-10 10:38:29,536 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:38:29,615 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:29,615 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-10 10:38:30,993 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.609146", "end": "2023-08-10 02:38:30.890967", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 02:38:30.281821", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-10 10:38:30,994 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 10:38:31,055 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:31,055 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-10 10:38:31,919 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:38:31,987 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:31,988 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-10 10:38:32,007 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:38:32,079 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:32,079 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-10 10:38:32,863 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:38:32,942 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:32,942 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-10 10:38:37,046 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-10 10:38:41,076 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-10 10:38:41,082 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:41,083 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-10 10:38:42,690 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:38:42,758 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:42,759 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-10 10:38:42,789 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-10 10:38:42,920 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:42,920 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-10 10:38:42,941 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:38:43,132 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:43,132 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-10 10:38:43,157 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:38:43,236 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:43,237 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-10 10:38:43,262 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:38:43,349 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:43,349 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-10 10:38:48,621 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-10 10:38:48,700 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:48,700 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-10 10:38:51,072 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:38:51,140 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:51,141 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-10 10:38:51,168 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:38:51,240 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:51,241 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-10 10:38:51,261 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:38:51,333 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:51,333 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-10 10:38:53,048 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:38:53,110 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:53,110 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-10 10:38:53,141 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:38:53,213 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:53,213 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-10 10:38:53,238 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:38:53,308 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:53,309 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-10 10:38:56,876 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:38:56,948 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:56,948 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-10 10:38:57,855 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:38:57,937 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:57,937 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-10 10:38:58,844 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:38:58,846 - bigdata_deploy_logger - INFO - 
2023-08-10 10:38:58,847 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-10 10:39:14,150 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:39:14,150 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:14,150 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-10 10:39:16,046 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:16,126 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:16,126 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-10 10:39:17,656 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:17,738 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:17,738 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-10 10:39:19,818 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:19,823 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:19,824 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:39:19,828 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:19,828 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:39:19,850 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:39:19,858 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:19,858 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:39:19,877 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:39:19,882 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:19,882 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:39:19,949 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:19,949 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:39:20,162 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:39:20,243 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:39:20,345 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:39:20,413 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:20,413 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:39:20,512 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:39:20,585 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:39:20,604 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:39:20,721 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:20,722 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:39:20,804 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:39:20,870 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:39:20,889 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:39:20,960 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:20,961 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:39:21,044 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:39:21,111 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:39:21,130 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:39:21,139 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:21,139 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-10 10:39:21,203 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:21,203 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:39:27,456 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:39:36,774 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:39:37,046 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:37,054 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:37,054 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-10 10:39:37,132 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:37,133 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:39:52,935 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:53,009 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:53,009 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-10 10:39:53,056 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-10 10:39:53,137 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:53,137 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-10 10:39:53,906 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:39:53,978 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:53,978 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-10 10:39:53,998 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:39:54,068 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:54,068 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-10 10:39:55,513 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:55,644 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:55,644 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-10 10:39:55,670 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:55,753 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:55,753 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-10 10:39:55,951 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:56,027 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:56,027 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-10 10:39:56,908 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:39:56,988 - bigdata_deploy_logger - INFO - 
2023-08-10 10:39:56,988 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-10 10:39:58,434 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-10 10:39:59,362 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-10 10:40:00,230 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-10 10:40:00,248 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:00,248 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-10 10:40:14,839 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:40:14,839 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:14,840 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-10 10:40:16,709 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:16,716 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:16,716 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 10:40:16,722 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:16,722 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 10:40:16,753 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:40:16,758 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:16,759 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 10:40:16,782 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 10:40:16,788 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:16,788 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 10:40:16,867 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:16,868 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 10:40:17,038 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 10:40:17,154 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 10:40:17,154 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 10:40:17,210 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:17,210 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 10:40:17,293 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:40:17,359 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:40:17,380 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:40:17,444 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:17,445 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 10:40:17,526 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:40:17,591 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:40:17,610 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:40:17,678 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:17,679 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 10:40:17,762 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 10:40:17,828 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:40:17,847 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 10:40:17,855 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:17,855 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-10 10:40:17,921 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:17,922 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:40:24,338 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 10:40:33,648 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 10:40:33,914 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:33,918 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:33,918 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-10 10:40:33,985 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:33,986 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 10:40:49,740 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:49,812 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:49,812 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-10 10:40:49,857 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-10 10:40:49,929 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:49,929 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-10 10:40:51,367 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:51,447 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:51,448 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-10 10:40:51,470 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:40:51,600 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:51,600 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-10 10:40:51,666 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:51,746 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:51,747 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-10 10:40:51,771 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:40:51,851 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:51,851 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-10 10:40:51,893 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:51,974 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:51,975 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-10 10:40:51,999 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 10:40:52,083 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:52,084 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-10 10:40:52,935 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:53,007 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:53,008 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-10 10:40:53,969 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:54,049 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:54,049 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-10 10:40:55,118 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:55,190 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:55,190 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-10 10:40:58,407 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 10:40:58,476 - bigdata_deploy_logger - INFO - 
2023-08-10 10:40:58,476 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-10 10:40:59,546 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-10 10:41:10,422 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-10 10:41:21,241 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-10 10:41:32,016 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-10 10:41:42,823 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-10 10:41:54,120 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-10 10:42:04,963 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-10 10:42:15,798 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-10 10:42:26,565 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-10 10:42:37,393 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-10 10:42:48,205 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-10 10:42:59,080 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-10 10:43:09,920 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-10 10:43:26,109 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-10 10:43:39,430 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-10 10:43:52,657 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-10 10:44:03,472 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-10 10:44:14,312 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-10 10:44:25,147 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-10 10:44:35,921 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-10 10:44:46,829 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-10 10:44:57,702 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-10 10:45:08,543 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-10 10:45:19,352 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-10 10:45:30,204 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-10 10:45:40,983 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-10 10:45:51,773 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-10 10:46:02,588 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-10 10:46:13,387 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-10 10:46:24,199 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-10 10:46:35,041 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-10 10:46:46,223 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-10 10:46:57,065 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-10 10:47:07,842 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-10 10:47:18,703 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-10 10:47:29,554 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-10 10:47:40,420 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-10 10:47:51,230 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-10 10:48:02,072 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-10 10:48:12,853 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-10 10:48:23,655 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-10 10:48:34,580 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-10 10:48:45,336 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-10 10:48:56,223 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-10 10:49:07,179 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-10 10:49:17,979 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-10 10:49:28,747 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-10 10:49:39,602 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-10 10:49:50,390 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-10 10:50:01,202 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-10 10:50:11,994 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-10 10:50:22,800 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-10 10:50:33,644 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-10 10:50:44,528 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-10 10:50:55,363 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-10 10:51:06,163 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-10 10:51:16,963 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-10 10:51:27,828 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-10 10:51:38,700 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-10 10:51:49,594 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-10 10:52:00,442 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-10 10:52:11,292 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-10 10:52:22,109 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-10 10:52:32,951 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-10 10:52:43,754 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-10 10:52:55,350 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-10 10:53:06,170 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-10 10:53:16,977 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-10 10:53:27,873 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-10 10:53:38,682 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-10 10:53:49,492 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-10 10:54:00,320 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-10 10:54:11,156 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-10 10:54:21,950 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-10 10:54:32,794 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-10 10:54:43,639 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-10 10:54:54,440 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-10 10:55:05,589 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-10 10:55:16,352 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-10 10:55:27,117 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-10 10:55:37,923 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-10 10:55:48,692 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-10 10:55:59,467 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-10 10:56:10,317 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-10 10:56:21,154 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-10 10:56:32,115 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-10 10:56:42,943 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-10 10:56:53,833 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-10 10:57:04,696 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-10 10:57:15,610 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-10 10:57:26,507 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-10 10:57:37,567 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-10 10:57:48,314 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-10 10:57:59,154 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-10 10:58:10,069 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-10 10:58:20,918 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-10 10:58:31,794 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-10 10:58:42,592 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-10 10:58:53,446 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-10 10:59:04,379 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-10 10:59:15,408 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-10 10:59:26,302 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-10 10:59:37,165 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-10 10:59:48,093 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-10 10:59:58,974 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-10 11:00:09,825 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-10 11:00:20,640 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-10 11:00:31,502 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-10 11:00:42,364 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-10 11:00:53,223 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-10 11:01:05,208 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-10 11:01:16,160 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-10 11:01:27,036 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-10 11:01:37,819 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (247 retries left).
2023-08-10 11:01:48,625 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (246 retries left).
2023-08-10 11:01:59,528 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (245 retries left).
2023-08-10 11:02:10,391 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (244 retries left).
2023-08-10 11:02:21,230 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (243 retries left).
2023-08-10 11:02:32,066 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (242 retries left).
2023-08-10 11:02:42,939 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (241 retries left).
2023-08-10 11:02:53,787 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (240 retries left).
2023-08-10 11:03:04,621 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (239 retries left).
2023-08-10 11:03:15,511 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (238 retries left).
2023-08-10 11:03:26,349 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (237 retries left).
2023-08-10 11:03:37,301 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (236 retries left).
2023-08-10 11:03:48,153 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (235 retries left).
2023-08-10 11:03:58,993 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (234 retries left).
2023-08-10 11:04:11,127 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (233 retries left).
2023-08-10 11:04:21,946 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (232 retries left).
2023-08-10 11:04:32,811 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (231 retries left).
2023-08-10 11:04:43,634 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (230 retries left).
2023-08-10 11:04:56,428 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (229 retries left).
2023-08-10 11:05:07,271 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (228 retries left).
2023-08-10 11:05:18,083 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (227 retries left).
2023-08-10 11:05:28,980 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (226 retries left).
2023-08-10 11:05:39,819 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (225 retries left).
2023-08-10 11:05:50,642 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (224 retries left).
2023-08-10 11:06:01,492 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (223 retries left).
2023-08-10 11:06:12,305 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (222 retries left).
2023-08-10 11:06:23,117 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (221 retries left).
2023-08-10 11:06:33,945 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (220 retries left).
2023-08-10 11:06:44,749 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (219 retries left).
2023-08-10 11:06:55,631 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (218 retries left).
2023-08-10 11:07:06,500 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (217 retries left).
2023-08-10 11:07:17,367 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (216 retries left).
2023-08-10 11:07:28,260 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (215 retries left).
2023-08-10 11:07:39,184 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (214 retries left).
2023-08-10 11:07:50,006 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (213 retries left).
2023-08-10 11:08:00,827 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (212 retries left).
2023-08-10 11:08:11,685 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (211 retries left).
2023-08-10 11:08:22,531 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (210 retries left).
2023-08-10 11:08:33,433 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (209 retries left).
2023-08-10 11:08:44,276 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (208 retries left).
2023-08-10 11:08:55,111 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (207 retries left).
2023-08-10 11:09:06,021 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 11:09:06,089 - bigdata_deploy_logger - INFO - 
2023-08-10 11:09:06,089 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-10 11:09:06,135 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-10 11:09:06,136 - bigdata_deploy_logger - INFO - 
2023-08-10 11:09:06,136 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-10 11:09:06,137 - bigdata_deploy_logger - INFO - 
2023-08-10 11:09:06,137 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-10 11:09:06,137 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-10 11:09:06,138 - bigdata_deploy_logger - INFO - sdp1                       : ok=159  changed=67   unreachable=0    failed=1    skipped=58   rescued=0    ignored=2
2023-08-10 11:09:06,138 - bigdata_deploy_logger - INFO - sdp2                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-10 11:09:06,138 - bigdata_deploy_logger - INFO - sdp3                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-10 11:09:06,138 - bigdata_deploy_logger - INFO - 
2023-08-10 11:09:06,274 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-10 12:00:02,656 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 12:00:02,658 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-10 12:00:02,668 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 12:00:02,669 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-10 12:00:02,679 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 12:00:02,712 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 12:00:02,721 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 12:00:02,754 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 12:00:02,755 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-10 12:00:02,764 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 12:00:02,765 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-10 12:00:02,798 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-10 12:00:02,802 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-10 12:00:02,812 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 12:00:02,815 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-10 12:00:02,825 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 12:00:02,828 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-10 12:00:02,836 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 12:00:02,846 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 12:00:02,856 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-10 12:00:02,864 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 12:00:02,867 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-10 12:00:02,875 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-10 12:00:02,876 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-10 12:00:02,886 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-10 12:00:02,889 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-10 12:00:02,904 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-10 12:00:03,757 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-10 12:00:03,758 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-10 12:00:05,430 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:05,431 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 12:00:05,461 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:05,461 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 12:00:05,508 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:00:05,511 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:05,512 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 12:00:05,569 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:00:05,574 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:05,574 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 12:00:05,580 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:05,580 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 12:00:05,889 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:05,891 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:05,901 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:05,904 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:05,904 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 12:00:05,949 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:00:05,957 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:00:05,970 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:00:05,978 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:05,979 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 12:00:06,030 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:00:06,037 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:00:06,044 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:00:06,053 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:06,053 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 12:00:06,101 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:00:06,109 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:00:06,116 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:00:06,121 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:06,121 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-10 12:00:06,148 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:06,148 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:00:12,990 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:22,044 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:22,402 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:22,414 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:22,414 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-10 12:00:23,120 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:23,214 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:23,270 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:23,282 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:23,282 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-10 12:00:23,341 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-10 12:00:23,342 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-10 12:00:23,342 - bigdata_deploy_logger - INFO - }
2023-08-10 12:00:23,348 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-10 12:00:23,348 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-10 12:00:23,348 - bigdata_deploy_logger - INFO - }
2023-08-10 12:00:23,374 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-10 12:00:23,374 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-10 12:00:23,375 - bigdata_deploy_logger - INFO - }
2023-08-10 12:00:23,386 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:23,386 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-10 12:00:23,442 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:00:23,449 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:00:23,473 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:00:23,485 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:23,485 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-10 12:00:23,573 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 12:00:23,581 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 12:00:23,601 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-10 12:00:23,640 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:23,641 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-10 12:00:24,369 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:24,464 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:24,548 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:24,564 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:24,564 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-10 12:00:25,119 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:25,257 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:25,364 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:25,375 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:25,375 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-10 12:00:27,768 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:28,127 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:28,518 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:28,530 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:28,530 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-10 12:00:29,606 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-10 12:00:29,606 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-10 12:00:29,606 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-10 12:00:29,606 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:29,892 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:29,987 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:29,996 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:29,997 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-10 12:00:31,310 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:31,587 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:31,783 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:31,794 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:31,795 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-10 12:00:32,982 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:33,650 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:33,814 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:33,833 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:33,833 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-10 12:00:34,823 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:34,845 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:34,990 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:35,006 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:35,007 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-10 12:00:35,976 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:36,288 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:36,478 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:36,497 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:36,497 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-10 12:00:38,012 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:39,144 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:39,212 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:39,228 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:39,228 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-10 12:00:39,330 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-10 12:00:39,365 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:39,366 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-10 12:00:41,752 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:41,773 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:41,971 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:42,034 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:42,035 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-10 12:00:42,688 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:42,753 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:42,910 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:43,045 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:43,046 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-10 12:00:44,583 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:00:45,389 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:00:45,610 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:00:45,691 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:45,691 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-10 12:00:48,217 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:48,911 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:49,251 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:49,323 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:49,323 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-10 12:00:50,193 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:50,734 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:50,873 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:50,952 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:50,952 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-10 12:00:51,036 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:00:51,106 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:00:51,118 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:00:51,188 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:51,188 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-10 12:00:52,015 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:52,503 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:52,647 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:52,729 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:52,729 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-10 12:00:53,609 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-10 12:00:53,610 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-10 12:00:53,610 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-10 12:00:53,610 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-10 12:00:53,610 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:54,169 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:54,214 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:54,284 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:54,284 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-10 12:00:55,194 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:00:55,740 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:00:55,779 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:00:55,852 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:55,852 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-10 12:00:57,304 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 12:00:57,948 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 12:00:58,077 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-10 12:00:58,159 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:58,160 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-10 12:00:59,142 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 12:00:59,572 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 12:00:59,649 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-10 12:00:59,730 - bigdata_deploy_logger - INFO - 
2023-08-10 12:00:59,730 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-10 12:01:00,584 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:01:01,079 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:01:01,232 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:01:01,300 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:01,301 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-10 12:01:02,254 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-10 12:01:02,293 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-10 12:01:02,368 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-10 12:01:02,979 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-10 12:01:03,056 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-10 12:01:03,334 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-10 12:01:03,608 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-10 12:01:03,805 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-10 12:01:04,166 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-10 12:01:04,289 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:04,289 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-10 12:01:04,376 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:01:04,449 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:01:04,464 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:01:04,536 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:04,537 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-10 12:01:05,227 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:01:05,245 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:01:05,402 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:01:05,475 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:05,475 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-10 12:01:06,162 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-10 12:01:06,196 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-10 12:01:06,317 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-10 12:01:06,393 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:06,394 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-10 12:01:07,376 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-10 12:01:07,376 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-10 12:01:07,376 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-10 12:01:07,377 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-10 12:01:07,377 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:01:07,827 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:01:07,968 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:01:08,034 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:08,034 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-10 12:01:08,966 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 12:01:09,362 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 12:01:09,508 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-10 12:01:09,577 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:09,578 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-10 12:01:10,422 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 12:01:10,459 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 12:01:10,530 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-10 12:01:10,943 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 12:01:11,102 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 12:01:11,292 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-10 12:01:11,361 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:11,361 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-10 12:01:12,833 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 12:01:13,261 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 12:01:13,371 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-10 12:01:13,450 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:13,451 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-10 12:01:13,727 - bigdata_deploy_logger - INFO - 
2023-08-10 12:01:13,728 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-10 12:01:53,713 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:02:19,079 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:02:32,724 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:02:32,792 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:32,793 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-10 12:02:33,637 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:02:33,817 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:02:33,919 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:02:33,988 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:33,988 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-10 12:02:35,534 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:02:36,457 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:02:36,788 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:02:36,866 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:36,867 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-10 12:02:36,953 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:02:37,045 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:02:39,690 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:02:39,773 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:39,773 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-10 12:02:41,515 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:02:43,255 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:02:43,340 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:02:43,424 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:43,424 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-10 12:02:45,035 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:02:46,271 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:02:46,398 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:02:46,478 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:46,479 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-10 12:02:55,515 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.342708", "end": "2023-08-10 04:02:55.403421", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 04:02:47.060713", "stderr": "10 Aug 04:02:55 ntpdate[29568]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 04:02:55 ntpdate[29568]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 12:02:55,515 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 12:02:56,026 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.720507", "end": "2023-08-10 04:02:55.910296", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 04:02:47.189789", "stderr": "10 Aug 04:02:55 ntpdate[5860]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 04:02:55 ntpdate[5860]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 12:02:56,026 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 12:02:56,133 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.739680", "end": "2023-08-10 04:02:56.017944", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 04:02:47.278264", "stderr": "10 Aug 04:02:56 ntpdate[55708]: no server suitable for synchronization found", "stderr_lines": ["10 Aug 04:02:56 ntpdate[55708]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-10 12:02:56,133 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 12:02:56,215 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:56,215 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-10 12:02:57,047 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:02:57,657 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:02:57,740 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:02:57,878 - bigdata_deploy_logger - INFO - 
2023-08-10 12:02:57,878 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-10 12:02:59,419 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:00,244 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:00,528 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:00,608 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:00,609 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-10 12:03:01,024 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 12:03:01,032 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 12:03:01,039 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-10 12:03:01,195 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:01,196 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:01,286 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:01,359 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:01,378 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:01,451 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:01,451 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:01,544 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:01,621 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:01,640 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:01,713 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:01,713 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:01,806 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:01,881 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:01,901 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:01,975 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:01,976 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-10 12:03:02,958 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-10 12:03:02,958 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-10 12:03:02,958 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-10 12:03:02,958 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-10 12:03:02,959 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:03,402 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:03,542 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:03,611 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:03,611 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 12:03:04,573 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:05,067 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:05,208 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:05,278 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:05,279 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 12:03:05,373 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:05,447 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:05,465 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:05,539 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:05,540 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-10 12:03:05,626 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:03:05,694 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:05,700 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:03:05,771 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:05,772 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-10 12:03:05,855 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:03:05,921 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:05,930 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:03:06,004 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:06,005 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:06,091 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:06,216 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:06,232 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:06,303 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:06,303 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:06,389 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:06,462 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:06,477 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:06,550 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:06,551 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:06,638 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:06,710 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:06,726 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:06,798 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:06,798 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-10 12:03:07,773 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:08,236 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:08,446 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:08,524 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:08,525 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 12:03:09,424 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:09,953 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:10,057 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:10,139 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:10,139 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 12:03:10,236 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:10,311 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:10,334 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:10,410 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:10,410 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-10 12:03:10,496 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:03:10,566 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:10,573 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:03:10,647 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:10,648 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-10 12:03:10,732 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:03:10,800 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:10,807 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:03:10,878 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:10,879 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:10,964 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:11,037 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:11,053 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:11,124 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:11,125 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:11,266 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:11,345 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:11,362 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:11,433 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:11,434 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-10 12:03:11,522 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:11,597 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:11,614 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:11,687 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:11,687 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-10 12:03:12,655 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:13,076 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:13,234 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:13,310 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:13,310 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-10 12:03:14,208 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:14,663 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:14,845 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:14,924 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:14,924 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-10 12:03:15,024 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:03:15,097 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:15,116 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:03:15,189 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:15,189 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-10 12:03:15,272 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:03:15,339 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:15,349 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:03:15,421 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:15,422 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-10 12:03:15,507 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:03:15,575 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:15,587 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:03:15,589 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:15,589 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-10 12:03:16,778 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-10 12:03:16,779 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-10 12:03:16,779 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-10 12:03:16,779 - bigdata_deploy_logger - INFO - this message.
2023-08-10 12:03:16,779 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:03:16,990 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:03:17,379 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:03:17,380 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:17,380 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-10 12:03:23,536 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:03:24,555 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:03:25,045 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:03:25,053 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:25,054 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-10 12:03:25,141 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:25,142 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:03:41,118 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:03:41,187 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:41,188 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-10 12:03:41,240 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-10 12:03:41,311 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:41,311 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-10 12:03:41,339 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:41,473 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:41,473 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-10 12:03:51,388 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-10 12:03:51,456 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:51,456 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-10 12:03:54,102 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:03:54,183 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:54,183 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-10 12:03:54,958 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:03:55,041 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:55,041 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-10 12:03:55,811 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:03:55,906 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:55,906 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-10 12:03:56,697 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:03:56,780 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:56,780 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-10 12:03:56,804 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:56,889 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:56,889 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-10 12:03:56,912 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:03:56,913 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-10 12:03:56,913 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:56,913 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-10 12:03:59,761 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:03:59,903 - bigdata_deploy_logger - INFO - 
2023-08-10 12:03:59,904 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-10 12:04:01,572 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:04:01,649 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:01,649 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-10 12:04:04,588 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:04,663 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:04,663 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-10 12:04:04,768 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 12:04:04,836 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:04,836 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-10 12:04:04,865 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:04:04,939 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:04,940 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-10 12:04:06,451 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:06,526 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:06,526 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 12:04:06,560 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:06,656 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:06,656 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-10 12:04:08,486 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:08,552 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:08,552 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 12:04:08,581 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:08,673 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:08,673 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-10 12:04:08,790 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 12:04:08,864 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:08,864 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-10 12:04:09,664 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:09,733 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:09,733 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-10 12:04:09,834 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 12:04:09,902 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:09,902 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-10 12:04:09,941 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:04:10,009 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:10,010 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-10 12:04:14,700 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:14,780 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:14,780 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 12:04:14,802 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:14,882 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:14,882 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-10 12:04:16,636 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:16,708 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:16,708 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 12:04:16,732 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:16,806 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:16,806 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-10 12:04:16,902 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 12:04:17,016 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:17,016 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-10 12:04:17,745 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:17,820 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:17,820 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-10 12:04:17,924 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 12:04:17,998 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:17,998 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-10 12:04:18,029 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:04:18,110 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:18,110 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-10 12:04:19,544 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:19,622 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:19,622 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 12:04:19,646 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:19,734 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:19,734 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-10 12:04:21,428 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:21,498 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:21,498 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 12:04:21,522 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:21,600 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:21,600 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-10 12:04:21,694 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 12:04:21,763 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:21,763 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-10 12:04:22,524 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:22,596 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:22,596 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-10 12:04:22,695 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-10 12:04:22,772 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:22,773 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-10 12:04:22,803 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:04:22,882 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:22,883 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-10 12:04:24,375 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:24,446 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:24,446 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-10 12:04:24,469 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:24,544 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:24,544 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-10 12:04:29,954 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:30,032 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:30,033 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-10 12:04:30,060 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:30,135 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:30,135 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-10 12:04:30,242 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-10 12:04:30,312 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:30,312 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-10 12:04:31,079 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:31,080 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:31,080 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-10 12:04:33,388 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:04:33,393 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:33,393 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-10 12:04:33,468 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:33,468 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:04:40,070 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:04:49,371 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:04:49,380 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:04:49,457 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:49,457 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-10 12:04:49,558 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 12:04:49,634 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 12:04:49,672 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-10 12:04:49,803 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:49,804 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-10 12:04:49,889 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:04:49,961 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:49,976 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:04:50,049 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:50,050 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-10 12:04:50,133 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:04:50,203 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:04:50,217 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:04:50,224 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:50,224 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-10 12:04:50,301 - bigdata_deploy_logger - INFO - 
2023-08-10 12:04:50,301 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:05:06,012 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:05:06,085 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,086 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-10 12:05:06,126 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-10 12:05:06,201 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,201 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-10 12:05:06,223 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:06,350 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,350 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-10 12:05:06,370 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:06,445 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,446 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-10 12:05:06,464 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:06,539 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,539 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-10 12:05:06,559 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:06,636 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,636 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-10 12:05:06,654 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:06,728 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,728 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-10 12:05:06,749 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:06,822 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,823 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-10 12:05:06,842 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:06,913 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:06,913 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-10 12:05:06,933 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:07,008 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,008 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-10 12:05:07,026 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:07,098 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,098 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-10 12:05:07,116 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:07,119 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,119 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 12:05:07,124 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,125 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 12:05:07,145 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:05:07,151 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,151 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 12:05:07,170 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:05:07,173 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,173 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 12:05:07,244 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,245 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 12:05:07,420 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:05:07,464 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:05:07,502 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:05:07,575 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,576 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 12:05:07,662 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:05:07,733 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:07,748 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:05:07,871 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:07,871 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 12:05:07,957 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:05:08,027 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:08,042 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:05:08,114 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:08,114 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 12:05:08,202 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:05:08,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:05:08,290 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:05:08,295 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:08,295 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-10 12:05:08,367 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:08,368 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:05:14,772 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:05:23,943 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:05:24,173 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:05:24,287 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:24,287 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-10 12:05:25,014 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:05:25,126 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:05:25,128 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:05:25,199 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:25,199 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-10 12:05:26,119 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:05:26,596 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:05:26,742 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:05:26,821 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:26,821 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-10 12:05:34,720 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:05:38,029 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:05:40,833 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:05:40,900 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:40,901 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-10 12:05:41,645 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:05:41,649 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:05:41,775 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:05:41,843 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:41,843 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-10 12:05:42,641 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:05:42,687 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:05:42,751 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:05:42,825 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:42,825 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-10 12:05:43,598 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:05:43,672 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:05:43,721 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:05:43,806 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:43,806 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-10 12:05:44,482 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:05:44,527 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:05:44,622 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:05:44,623 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:44,624 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-10 12:05:45,743 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:05:46,175 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:05:46,297 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:05:46,297 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:46,298 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-10 12:05:50,275 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:05:50,952 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:05:51,379 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:05:51,460 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:51,460 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-10 12:05:52,541 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:05:52,910 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:05:53,014 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:05:53,097 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:53,097 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-10 12:05:54,415 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:05:55,208 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:05:55,352 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:05:55,357 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:55,357 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-10 12:05:55,438 - bigdata_deploy_logger - INFO - 
2023-08-10 12:05:55,438 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:06:11,281 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:06:11,371 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:11,372 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-10 12:06:11,428 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-10 12:06:11,498 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:11,499 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-10 12:06:31,514 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:06:31,594 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:31,594 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-10 12:06:33,044 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.607100", "end": "2023-08-10 04:06:32.923338", "msg": "non-zero return code", "rc": 1, "start": "2023-08-10 04:06:32.316238", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-10 12:06:33,045 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-10 12:06:33,127 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:33,127 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-10 12:06:34,176 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:06:34,253 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:34,253 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-10 12:06:34,279 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:06:34,361 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:34,361 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-10 12:06:35,189 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:06:35,260 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:35,260 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-10 12:06:39,404 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-10 12:06:43,457 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-10 12:06:43,463 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:43,463 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-10 12:06:44,969 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:06:45,042 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:45,042 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-10 12:06:45,074 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-10 12:06:45,211 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:45,211 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-10 12:06:45,231 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:06:45,416 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:45,417 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-10 12:06:45,438 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:06:45,509 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:45,509 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-10 12:06:45,534 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:06:45,607 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:45,607 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-10 12:06:50,883 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-10 12:06:50,958 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:50,959 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-10 12:06:53,248 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:06:53,331 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:53,332 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-10 12:06:53,356 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:06:53,440 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:53,441 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-10 12:06:53,465 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:06:53,547 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:53,547 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-10 12:06:55,218 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:06:55,287 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:55,287 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-10 12:06:55,323 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:06:55,446 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:55,446 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-10 12:06:55,477 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:06:55,547 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:55,547 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-10 12:06:59,060 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:06:59,138 - bigdata_deploy_logger - INFO - 
2023-08-10 12:06:59,138 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-10 12:06:59,929 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:07:00,011 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:00,012 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-10 12:07:00,777 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:07:00,778 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:00,778 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-10 12:07:18,812 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:07:18,812 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:18,812 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-10 12:07:20,635 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:07:20,718 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:20,719 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-10 12:07:22,170 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:07:22,246 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:22,246 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-10 12:07:24,329 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:07:24,333 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:24,333 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 12:07:24,338 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:24,338 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 12:07:24,366 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:07:24,369 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:24,369 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 12:07:24,397 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:07:24,403 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:24,403 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 12:07:24,474 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:24,474 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 12:07:24,714 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:07:24,768 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:07:24,912 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:07:24,985 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:24,985 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 12:07:25,073 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:07:25,141 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:07:25,155 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:07:25,271 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:25,271 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 12:07:25,375 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:07:25,446 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:07:25,462 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:07:25,534 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:25,534 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 12:07:25,625 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:07:25,696 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:07:25,712 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:07:25,717 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:25,717 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-10 12:07:25,788 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:25,788 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:07:32,191 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:07:41,533 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:07:41,647 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:07:41,651 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:41,651 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-10 12:07:41,719 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:41,719 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:07:57,429 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:07:57,511 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:57,511 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-10 12:07:57,556 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-10 12:07:57,633 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:57,633 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-10 12:07:58,394 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:07:58,468 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:58,468 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-10 12:07:58,489 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:07:58,612 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:58,612 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-10 12:07:59,885 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:07:59,957 - bigdata_deploy_logger - INFO - 
2023-08-10 12:07:59,957 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-10 12:07:59,980 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:00,053 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:00,053 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-10 12:08:00,264 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:00,352 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:00,352 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-10 12:08:01,252 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:01,325 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:01,326 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-10 12:08:02,821 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-10 12:08:03,691 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-10 12:08:04,537 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-10 12:08:04,561 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:04,561 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-10 12:08:18,933 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:08:18,933 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:18,934 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-10 12:08:20,819 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:20,823 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:20,824 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 12:08:20,829 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:20,829 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 12:08:20,856 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:08:20,860 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:20,860 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 12:08:20,888 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:08:20,895 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:20,895 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 12:08:20,963 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:20,964 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 12:08:21,133 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:08:21,182 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:08:21,218 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:08:21,287 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:21,287 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 12:08:21,373 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:08:21,443 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:08:21,457 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:08:21,526 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:21,526 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 12:08:21,611 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:08:21,680 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:08:21,694 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:08:21,763 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:21,764 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 12:08:21,900 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:08:21,969 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:08:21,984 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:08:21,989 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:21,989 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-10 12:08:22,061 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:22,061 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:08:28,460 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:08:37,735 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:08:37,863 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:37,867 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:37,868 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-10 12:08:37,952 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:37,953 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:08:53,509 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:53,631 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:53,631 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-10 12:08:53,672 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-10 12:08:53,749 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:53,749 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-10 12:08:55,131 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:55,207 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:55,207 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-10 12:08:55,226 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:08:55,299 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:55,299 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-10 12:08:55,365 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:55,441 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:55,441 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-10 12:08:55,460 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:08:55,534 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:55,534 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-10 12:08:55,565 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:55,636 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:55,636 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-10 12:08:55,657 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:08:55,731 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:55,731 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-10 12:08:56,582 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:56,718 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:56,719 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-10 12:08:57,756 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:57,830 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:57,830 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-10 12:08:58,851 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:08:58,933 - bigdata_deploy_logger - INFO - 
2023-08-10 12:08:58,933 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-10 12:09:02,259 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:09:02,341 - bigdata_deploy_logger - INFO - 
2023-08-10 12:09:02,341 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-10 12:09:03,494 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-10 12:09:14,438 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-10 12:09:25,246 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-10 12:09:36,105 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-10 12:09:46,905 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-10 12:09:57,778 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-10 12:10:08,602 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-10 12:10:19,364 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-10 12:10:30,095 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-10 12:10:40,953 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-10 12:10:51,744 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-10 12:11:02,588 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-10 12:11:13,382 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-10 12:11:24,110 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-10 12:11:34,999 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-10 12:11:45,736 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-10 12:11:56,585 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-10 12:12:07,395 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-10 12:12:18,225 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-10 12:12:29,057 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-10 12:12:39,874 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-10 12:12:50,621 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-10 12:13:01,539 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-10 12:13:12,366 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-10 12:13:23,176 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-10 12:13:34,022 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-10 12:13:44,867 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-10 12:13:57,606 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-10 12:14:08,460 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-10 12:14:19,298 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-10 12:14:30,072 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-10 12:14:40,971 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-10 12:14:51,820 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-10 12:15:02,591 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-10 12:15:13,450 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-10 12:15:24,203 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-10 12:15:35,020 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-10 12:15:45,842 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-10 12:15:56,593 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-10 12:16:07,452 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-10 12:16:18,283 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-10 12:16:29,110 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-10 12:16:39,915 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-10 12:16:50,791 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-10 12:17:01,632 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-10 12:17:12,476 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-10 12:17:23,333 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-10 12:17:34,087 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-10 12:17:44,913 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-10 12:17:55,707 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-10 12:18:06,585 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-10 12:18:17,472 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-10 12:18:28,294 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-10 12:18:39,121 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-10 12:18:50,011 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-10 12:19:00,805 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-10 12:19:11,603 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-10 12:19:22,384 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-10 12:19:33,173 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-10 12:19:43,971 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-10 12:19:54,811 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-10 12:20:05,593 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-10 12:20:16,386 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-10 12:20:27,227 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-10 12:20:38,087 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-10 12:20:48,903 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-10 12:20:59,664 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-10 12:21:10,545 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-10 12:21:21,344 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-10 12:21:32,147 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-10 12:21:42,978 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-10 12:21:53,785 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-10 12:22:04,607 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-10 12:22:15,443 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-10 12:22:26,234 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-10 12:22:37,027 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-10 12:22:47,907 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-10 12:22:58,693 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-10 12:23:09,520 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-10 12:23:24,527 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-10 12:23:35,414 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-10 12:23:47,253 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-10 12:23:58,097 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-10 12:24:10,622 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-10 12:24:21,437 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-10 12:24:32,277 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-10 12:24:45,267 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-10 12:24:56,094 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-10 12:25:06,986 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-10 12:25:18,247 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-10 12:25:29,055 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-10 12:25:39,917 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-10 12:25:50,738 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-10 12:26:01,668 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-10 12:26:12,495 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-10 12:26:23,308 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-10 12:26:34,368 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-10 12:26:45,377 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-10 12:26:56,164 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-10 12:27:07,695 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-10 12:27:18,541 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-10 12:27:29,397 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-10 12:27:40,295 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-10 12:27:51,155 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-10 12:28:02,249 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-10 12:28:13,397 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-10 12:28:24,311 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-10 12:28:35,109 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-10 12:28:46,067 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-10 12:28:56,883 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-10 12:29:07,759 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-10 12:29:18,640 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-10 12:29:29,461 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-10 12:29:40,436 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:29:40,505 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:40,505 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-10 12:29:40,541 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:29:40,545 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:40,545 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-10 12:29:40,550 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:40,550 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-10 12:29:40,577 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:29:40,581 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:40,581 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-10 12:29:40,605 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-10 12:29:40,609 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:40,609 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-10 12:29:40,681 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:40,681 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-10 12:29:40,941 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-10 12:29:40,968 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-10 12:29:41,172 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-10 12:29:41,243 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:41,243 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-10 12:29:41,331 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:29:41,404 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:29:41,424 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:29:41,493 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:41,493 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-10 12:29:41,580 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:29:41,654 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:29:41,671 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:29:41,743 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:41,743 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-10 12:29:41,831 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:29:41,902 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:29:41,916 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:29:41,922 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:41,922 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-10 12:29:41,995 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:41,995 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-10 12:29:48,033 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-10 12:29:57,751 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-10 12:29:57,943 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-10 12:29:58,018 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:58,018 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-10 12:29:58,119 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-10 12:29:58,200 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-10 12:29:58,220 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-10 12:29:58,224 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:58,224 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-10 12:29:58,224 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-10 12:29:58,225 - bigdata_deploy_logger - INFO - sdp1                       : ok=161  changed=68   unreachable=0    failed=0    skipped=63   rescued=0    ignored=2
2023-08-10 12:29:58,225 - bigdata_deploy_logger - INFO - sdp2                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-10 12:29:58,225 - bigdata_deploy_logger - INFO - sdp3                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-10 12:29:58,225 - bigdata_deploy_logger - INFO - 
2023-08-10 12:29:58,328 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-08-11 11:49:30,973 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-11 11:49:30,976 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-11 11:49:30,986 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-11 11:49:30,987 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-11 11:49:30,997 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-11 11:49:31,031 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-11 11:49:31,039 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-11 11:49:31,073 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-11 11:49:31,074 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-11 11:49:31,083 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-11 11:49:31,084 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-11 11:49:31,117 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-11 11:49:31,120 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-11 11:49:31,130 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-11 11:49:31,134 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-11 11:49:31,144 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-11 11:49:31,148 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-11 11:49:31,156 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-11 11:49:31,166 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-11 11:49:31,176 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-11 11:49:31,184 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-11 11:49:31,188 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-11 11:49:31,197 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-11 11:49:31,197 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-11 11:49:31,208 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-11 11:49:31,210 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-11 11:49:31,225 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-11 11:49:32,062 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-11 11:49:32,062 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-11 11:49:33,718 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:33,718 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-11 11:49:33,748 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:33,748 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-11 11:49:33,796 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:49:33,804 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:33,804 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-11 11:49:33,851 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:49:33,857 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:33,858 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-11 11:49:33,863 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:33,864 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-11 11:49:34,163 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:49:34,174 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:49:34,177 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:49:34,184 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:34,184 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-11 11:49:34,237 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:49:34,239 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:49:34,248 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:49:34,254 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:34,255 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-11 11:49:34,306 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:49:34,316 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:49:34,326 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:49:34,334 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:34,334 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-11 11:49:34,389 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:49:34,390 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:49:34,407 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:49:34,413 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:34,413 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-11 11:49:34,441 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:34,441 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:49:41,493 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:49:50,662 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:49:50,936 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:49:50,947 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:50,947 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-11 11:49:51,691 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:49:51,785 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:49:51,806 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:49:51,819 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:51,819 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-11 11:49:51,880 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-11 11:49:51,881 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-11 11:49:51,881 - bigdata_deploy_logger - INFO - }
2023-08-11 11:49:51,892 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-11 11:49:51,893 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-11 11:49:51,893 - bigdata_deploy_logger - INFO - }
2023-08-11 11:49:51,915 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-11 11:49:51,915 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-11 11:49:51,915 - bigdata_deploy_logger - INFO - }
2023-08-11 11:49:51,926 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:51,926 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-11 11:49:51,980 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:49:51,994 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:49:52,014 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:49:52,025 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:52,025 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-11 11:49:52,116 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-11 11:49:52,124 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-11 11:49:52,145 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-11 11:49:52,185 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:52,185 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-11 11:49:52,881 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:49:53,010 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:49:53,061 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:49:53,078 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:53,079 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-11 11:49:53,622 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:49:53,740 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:49:53,773 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:49:53,793 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:53,793 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-11 11:49:56,211 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:49:56,467 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:49:56,923 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:49:56,939 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:56,939 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-11 11:49:57,931 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-11 11:49:57,932 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-11 11:49:57,932 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-11 11:49:57,932 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:49:58,208 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:49:58,354 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:49:58,372 - bigdata_deploy_logger - INFO - 
2023-08-11 11:49:58,373 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-11 11:49:59,600 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:49:59,923 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:50:00,027 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:50:00,040 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:00,041 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-11 11:50:01,229 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:50:01,987 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:50:02,197 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:50:02,214 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:02,214 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-11 11:50:03,148 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:50:03,233 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:50:03,296 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:50:03,304 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:03,304 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-11 11:50:04,341 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:04,581 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:04,702 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:04,719 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:04,719 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-11 11:50:06,269 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:50:07,311 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:50:07,521 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:50:07,536 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:07,536 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-11 11:50:07,631 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-11 11:50:07,661 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:07,661 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-11 11:50:09,960 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:50:10,062 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:50:10,173 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:50:10,237 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:10,237 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-11 11:50:10,955 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:50:10,972 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:50:11,058 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:50:11,171 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:11,171 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-11 11:50:12,787 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:50:13,549 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:50:13,740 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:50:13,813 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:13,814 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-11 11:50:16,359 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:17,237 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:17,384 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:17,464 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:17,464 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-11 11:50:18,374 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:18,857 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:18,915 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:18,985 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:18,985 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-11 11:50:19,071 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:50:19,138 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:50:19,150 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:50:19,223 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:19,223 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-11 11:50:20,142 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:20,569 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:20,699 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:20,782 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:20,782 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-11 11:50:21,720 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-11 11:50:21,721 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-11 11:50:21,721 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-11 11:50:21,722 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-11 11:50:21,722 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:22,268 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:22,372 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:22,441 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:22,441 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-11 11:50:23,400 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:23,771 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:23,909 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:23,979 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:23,979 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-11 11:50:25,384 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-11 11:50:26,134 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-11 11:50:26,208 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-11 11:50:26,291 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:26,291 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-11 11:50:27,242 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-11 11:50:27,678 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-11 11:50:27,751 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-11 11:50:27,834 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:27,834 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-11 11:50:28,786 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:29,139 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:29,260 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:29,343 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:29,343 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-11 11:50:30,273 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-11 11:50:30,325 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-11 11:50:30,401 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-11 11:50:30,988 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-11 11:50:31,142 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-11 11:50:31,261 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-11 11:50:31,609 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-11 11:50:31,990 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-11 11:50:32,146 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-11 11:50:32,232 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:32,233 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-11 11:50:32,383 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:50:32,460 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:50:32,472 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:50:32,555 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:32,555 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-11 11:50:33,221 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:33,367 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:33,474 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:33,559 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:33,559 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-11 11:50:34,205 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-11 11:50:34,330 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-11 11:50:34,454 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-11 11:50:34,538 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:34,538 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-11 11:50:35,457 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-11 11:50:35,458 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-11 11:50:35,458 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-11 11:50:35,459 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-11 11:50:35,459 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:50:35,968 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:50:36,108 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:50:36,172 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:36,172 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-11 11:50:37,108 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-11 11:50:37,519 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-11 11:50:37,617 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-11 11:50:37,701 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:37,701 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-11 11:50:38,459 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-11 11:50:38,557 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-11 11:50:38,587 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-11 11:50:38,984 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-11 11:50:39,179 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-11 11:50:39,332 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-11 11:50:39,406 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:39,406 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-11 11:50:40,751 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-11 11:50:41,242 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-11 11:50:41,423 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-11 11:50:41,506 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:41,507 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-11 11:50:41,783 - bigdata_deploy_logger - INFO - 
2023-08-11 11:50:41,784 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-11 11:51:21,225 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:51:47,285 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:02,485 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:52:02,560 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:02,560 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-11 11:52:03,430 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:03,441 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:03,599 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:03,678 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:03,679 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-11 11:52:05,261 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:06,102 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:06,359 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:06,443 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:06,443 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-11 11:52:06,542 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:52:06,645 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:52:09,094 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:09,181 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:09,181 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-11 11:52:10,993 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:52:12,489 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:52:12,624 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:12,750 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:12,750 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-11 11:52:14,308 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:52:15,451 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:52:15,541 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:15,618 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:15,619 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-11 11:52:24,639 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.344565", "end": "2023-08-11 03:52:24.528366", "msg": "non-zero return code", "rc": 1, "start": "2023-08-11 03:52:16.183801", "stderr": "11 Aug 03:52:24 ntpdate[96924]: no server suitable for synchronization found", "stderr_lines": ["11 Aug 03:52:24 ntpdate[96924]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-11 11:52:24,639 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-11 11:52:25,058 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.710605", "end": "2023-08-11 03:52:24.985690", "msg": "non-zero return code", "rc": 1, "start": "2023-08-11 03:52:16.275085", "stderr": "11 Aug 03:52:24 ntpdate[126577]: no server suitable for synchronization found", "stderr_lines": ["11 Aug 03:52:24 ntpdate[126577]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-11 11:52:25,058 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-11 11:52:25,185 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.703953", "end": "2023-08-11 03:52:25.066735", "msg": "non-zero return code", "rc": 1, "start": "2023-08-11 03:52:16.362782", "stderr": "11 Aug 03:52:25 ntpdate[3335]: no server suitable for synchronization found", "stderr_lines": ["11 Aug 03:52:25 ntpdate[3335]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-11 11:52:25,186 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-11 11:52:25,259 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:25,260 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-11 11:52:26,178 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:52:26,734 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:52:26,737 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:26,816 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:26,816 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-11 11:52:28,305 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:29,113 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:29,304 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:29,382 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:29,382 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-11 11:52:29,821 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-11 11:52:29,828 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-11 11:52:29,835 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-11 11:52:29,936 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:29,936 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:30,025 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:30,095 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:30,114 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:30,184 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:30,184 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:30,269 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:30,340 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:30,357 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:30,427 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:30,427 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:30,515 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:30,586 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:30,605 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:30,676 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:30,676 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-11 11:52:31,637 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-11 11:52:31,637 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-11 11:52:31,638 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-11 11:52:31,638 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-11 11:52:31,639 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:32,012 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:32,188 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:32,256 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:32,257 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-11 11:52:33,162 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:33,583 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:33,738 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:33,812 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:33,812 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-11 11:52:33,900 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:33,968 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:33,988 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:34,064 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:34,064 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-11 11:52:34,148 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:52:34,213 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:52:34,222 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:52:34,293 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:34,293 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-11 11:52:34,427 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:52:34,496 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:52:34,504 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:52:34,575 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:34,575 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:34,663 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:34,732 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:34,750 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:34,820 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:34,820 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:34,905 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:34,975 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:34,992 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:35,065 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:35,065 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:35,151 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:35,218 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:35,234 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:35,311 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:35,311 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-11 11:52:36,258 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:36,730 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:36,845 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:36,977 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:36,977 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-11 11:52:37,896 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:38,320 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:38,393 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:38,473 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:38,473 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-11 11:52:38,571 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:38,654 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:38,675 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:38,761 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:38,762 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-11 11:52:38,856 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:52:38,932 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:52:38,943 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:52:39,025 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:39,026 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-11 11:52:39,119 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:52:39,183 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:52:39,190 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:52:39,259 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:39,259 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:39,397 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:39,467 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:39,483 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:39,562 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:39,562 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:39,649 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:39,717 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:39,733 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:39,811 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:39,811 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-11 11:52:39,896 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:39,967 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:39,983 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:40,055 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:40,055 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-11 11:52:40,975 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:41,414 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:41,524 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:41,601 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:41,602 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-11 11:52:42,496 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:42,931 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:43,057 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:43,134 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:43,134 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-11 11:52:43,233 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:52:43,312 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:52:43,333 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:52:43,420 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:43,420 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-11 11:52:43,516 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:52:43,583 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:52:43,594 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:52:43,671 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:43,671 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-11 11:52:43,756 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:52:43,822 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:52:43,833 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:52:43,834 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:43,834 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-11 11:52:45,047 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-11 11:52:45,048 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-11 11:52:45,048 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-11 11:52:45,049 - bigdata_deploy_logger - INFO - this message.
2023-08-11 11:52:45,049 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:52:45,222 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:52:45,600 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:45,600 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:45,601 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-11 11:52:51,669 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:52:53,017 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:52:53,264 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:52:53,268 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:53,269 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-11 11:52:53,340 - bigdata_deploy_logger - INFO - 
2023-08-11 11:52:53,340 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:53:09,018 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:53:09,084 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:09,084 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-11 11:53:09,139 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-11 11:53:09,212 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:09,212 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-11 11:53:09,245 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:09,374 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:09,374 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-11 11:53:19,505 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-11 11:53:19,593 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:19,593 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-11 11:53:22,106 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:22,191 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:22,192 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-11 11:53:22,974 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:23,057 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:23,057 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-11 11:53:23,804 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:23,879 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:23,880 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-11 11:53:24,616 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:24,698 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:24,698 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-11 11:53:24,725 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:24,799 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:24,799 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-11 11:53:24,824 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:24,824 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-11 11:53:24,825 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:24,825 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-11 11:53:27,041 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:27,115 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:27,115 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-11 11:53:28,705 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:53:28,782 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:28,782 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-11 11:53:31,593 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:31,678 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:31,678 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-11 11:53:31,798 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-11 11:53:31,878 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:31,878 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-11 11:53:31,917 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:53:32,010 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:32,010 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-11 11:53:33,599 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:33,671 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:33,672 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-11 11:53:33,699 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:33,823 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:33,823 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-11 11:53:35,602 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:35,685 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:35,686 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-11 11:53:35,716 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:35,802 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:35,803 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-11 11:53:35,923 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-11 11:53:36,001 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:36,002 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-11 11:53:36,843 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:36,927 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:36,927 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-11 11:53:37,045 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-11 11:53:37,128 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:37,128 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-11 11:53:37,158 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:53:37,287 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:37,287 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-11 11:53:38,752 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:38,837 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:38,837 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-11 11:53:38,865 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:38,952 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:38,953 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-11 11:53:40,732 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:40,809 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:40,809 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-11 11:53:40,834 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:40,913 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:40,913 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-11 11:53:41,012 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-11 11:53:41,078 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:41,078 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-11 11:53:41,849 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:41,922 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:41,922 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-11 11:53:42,028 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-11 11:53:42,164 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:42,164 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-11 11:53:42,199 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:53:42,276 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:42,276 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-11 11:53:44,811 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:44,879 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:44,879 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-11 11:53:44,902 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:44,976 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:44,976 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-11 11:53:46,772 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:46,857 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:46,858 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-11 11:53:46,880 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:46,966 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:46,967 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-11 11:53:47,072 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-11 11:53:47,151 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:47,151 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-11 11:53:47,948 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:48,015 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:48,015 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-11 11:53:48,132 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-11 11:53:48,207 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:48,207 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-11 11:53:48,239 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:53:48,319 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:48,319 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-11 11:53:49,879 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:49,951 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:49,952 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-11 11:53:49,973 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:50,048 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:50,048 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-11 11:53:51,779 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:51,910 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:51,910 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-11 11:53:51,940 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:53:52,023 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:52,023 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-11 11:53:52,126 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-11 11:53:52,194 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:52,195 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-11 11:53:52,983 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:52,984 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:52,985 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-11 11:53:55,265 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:53:55,270 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:55,270 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-11 11:53:55,349 - bigdata_deploy_logger - INFO - 
2023-08-11 11:53:55,350 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:54:01,920 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:54:11,119 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:54:11,213 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:54:11,273 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:11,274 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-11 11:54:11,369 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-11 11:54:11,445 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-11 11:54:11,484 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-11 11:54:11,550 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:11,550 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-11 11:54:11,634 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:54:11,704 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:11,723 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:54:11,786 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:11,786 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-11 11:54:11,873 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:54:11,943 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:11,960 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:54:11,965 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:11,965 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-11 11:54:12,041 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:12,041 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:54:27,627 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:54:27,694 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:27,694 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-11 11:54:27,736 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-11 11:54:27,812 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:27,813 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-11 11:54:27,835 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:27,912 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:27,912 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-11 11:54:27,933 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,008 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,009 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm EXAMPLE.COM] *****************
2023-08-11 11:54:28,026 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,105 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,106 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm EXAMPLE.COM] *****************
2023-08-11 11:54:28,125 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,248 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,248 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-11 11:54:28,270 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,345 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,345 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-11 11:54:28,365 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,437 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,437 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-11 11:54:28,464 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,556 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,556 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-11 11:54:28,583 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,666 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,666 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-11 11:54:28,692 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,765 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,766 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-11 11:54:28,791 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:28,796 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,796 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-11 11:54:28,801 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,802 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-11 11:54:28,829 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:54:28,832 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,832 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-11 11:54:28,853 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:54:28,857 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,857 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-11 11:54:28,931 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:28,931 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-11 11:54:29,106 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:54:29,160 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:54:29,194 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:54:29,264 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:29,264 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-11 11:54:29,355 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:54:29,426 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:29,443 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:54:29,515 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:29,516 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-11 11:54:29,608 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:54:29,680 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:29,701 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:54:29,773 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:29,773 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-11 11:54:29,916 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:54:29,987 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:54:30,005 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:54:30,014 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:30,014 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-11 11:54:30,087 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:30,088 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:54:36,544 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:54:45,862 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:54:45,871 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:54:45,947 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:45,947 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-11 11:54:46,754 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:54:46,807 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:54:46,841 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:54:46,917 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:46,918 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-11 11:54:47,902 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:54:48,369 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:54:48,483 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:54:48,564 - bigdata_deploy_logger - INFO - 
2023-08-11 11:54:48,564 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-11 11:54:56,613 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:54:59,764 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:02,636 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:55:02,719 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:02,719 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-11 11:55:03,470 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:55:03,559 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:55:03,621 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:03,738 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:03,738 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-11 11:55:04,443 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:55:04,490 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:55:04,566 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:04,637 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:04,637 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-11 11:55:05,371 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:55:05,423 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:55:05,454 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:05,525 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:05,525 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-11 11:55:06,201 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:55:06,270 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:55:06,355 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:06,356 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:06,356 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-11 11:55:07,487 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:55:08,014 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:55:08,051 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:55:08,051 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:08,052 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-11 11:55:11,857 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:55:12,608 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:55:13,013 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:13,092 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:13,093 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-11 11:55:14,169 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:55:14,510 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:55:14,652 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:55:14,723 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:14,723 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-11 11:55:15,959 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:55:16,803 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:55:16,911 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:55:16,918 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:16,918 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-11 11:55:17,000 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:17,000 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:55:32,672 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:55:32,756 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:32,756 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-11 11:55:32,806 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-11 11:55:32,890 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:32,890 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-11 11:55:52,499 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:52,582 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:52,582 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-11 11:55:53,897 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.592945", "end": "2023-08-11 03:55:53.805708", "msg": "non-zero return code", "rc": 1, "start": "2023-08-11 03:55:53.212763", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-11 11:55:53,898 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-11 11:55:53,980 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:53,980 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-11 11:55:54,929 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:55:55,064 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:55,064 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-11 11:55:55,092 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:55:55,177 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:55,177 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-11 11:55:55,932 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:55:56,015 - bigdata_deploy_logger - INFO - 
2023-08-11 11:55:56,016 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-11 11:56:00,030 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-11 11:56:04,098 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-11 11:56:04,101 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:04,101 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-11 11:56:05,715 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:56:05,794 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:05,794 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-11 11:56:05,822 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-11 11:56:06,004 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:06,004 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-11 11:56:06,026 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:06,166 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:06,166 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-11 11:56:06,187 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:06,276 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:06,276 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-11 11:56:06,300 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:06,394 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:06,394 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-11 11:56:11,665 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-11 11:56:11,797 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:11,797 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-11 11:56:13,951 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:56:14,036 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:14,036 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-11 11:56:14,065 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:14,148 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:14,148 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-11 11:56:14,175 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:14,262 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:14,262 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-11 11:56:15,920 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:56:16,004 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:16,004 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-11 11:56:16,038 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:56:16,125 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:16,125 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-11 11:56:16,149 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:56:16,233 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:16,234 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-11 11:56:19,612 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:56:19,694 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:19,694 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-11 11:56:20,436 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:56:20,515 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:20,515 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-11 11:56:21,219 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:56:21,220 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:21,220 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-11 11:56:36,297 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:56:36,297 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:36,297 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-11 11:56:38,195 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:56:38,267 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:38,267 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-11 11:56:39,755 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:56:39,838 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:39,838 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-11 11:56:41,904 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:56:41,910 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:41,910 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-11 11:56:41,915 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:41,916 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-11 11:56:41,940 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:56:41,948 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:41,948 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-11 11:56:41,970 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:56:41,977 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:41,977 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-11 11:56:42,058 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:42,058 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-11 11:56:42,335 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:56:42,369 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:56:42,568 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:56:42,652 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:42,652 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-11 11:56:42,743 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:56:42,813 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:42,828 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:56:42,899 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:42,899 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-11 11:56:42,988 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:56:43,061 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:43,076 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:56:43,144 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:43,144 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-11 11:56:43,233 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:56:43,306 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:56:43,320 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:56:43,324 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:43,324 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-11 11:56:43,395 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:43,395 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:56:49,764 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:56:59,151 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:56:59,272 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:56:59,281 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:59,281 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-11 11:56:59,358 - bigdata_deploy_logger - INFO - 
2023-08-11 11:56:59,358 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:57:15,075 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:57:15,149 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:15,149 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-11 11:57:15,203 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-11 11:57:15,276 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:15,277 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-11 11:57:16,046 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:57:16,121 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:16,122 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-11 11:57:16,145 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:57:16,220 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:16,221 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-11 11:57:17,535 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:57:17,614 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:17,614 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-11 11:57:17,639 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:57:17,722 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:17,722 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-11 11:57:18,049 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:57:18,114 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:18,114 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-11 11:57:18,899 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:57:18,987 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:18,988 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-11 11:57:20,374 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-11 11:57:21,270 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-11 11:57:22,150 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-11 11:57:22,169 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:22,170 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-11 11:57:36,564 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:57:36,564 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:36,565 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-11 11:57:38,393 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:57:38,399 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:38,399 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-11 11:57:38,404 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:38,404 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-11 11:57:38,426 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:57:38,434 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:38,434 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-11 11:57:38,455 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 11:57:38,462 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:38,462 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-11 11:57:38,587 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:38,587 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-11 11:57:38,758 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 11:57:38,801 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 11:57:38,852 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 11:57:38,923 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:38,923 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-11 11:57:39,010 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:57:39,080 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:57:39,100 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:57:39,172 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:39,173 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-11 11:57:39,256 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:57:39,327 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:57:39,343 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:57:39,416 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:39,416 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-11 11:57:39,504 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 11:57:39,575 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:57:39,593 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 11:57:39,598 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:39,599 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-11 11:57:39,668 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:39,669 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:57:46,048 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 11:57:55,245 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 11:57:55,456 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:57:55,460 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:55,460 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-11 11:57:55,530 - bigdata_deploy_logger - INFO - 
2023-08-11 11:57:55,530 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 11:58:11,302 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:11,392 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:11,392 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-11 11:58:11,437 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-11 11:58:11,528 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:11,528 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-11 11:58:12,951 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:13,038 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:13,039 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-11 11:58:13,063 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:58:13,199 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:13,199 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-11 11:58:13,264 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:13,336 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:13,336 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-11 11:58:13,361 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:58:13,431 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:13,431 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-11 11:58:13,469 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:13,542 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:13,542 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-11 11:58:13,569 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 11:58:13,645 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:13,645 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called udhThree_blueprint] ***
2023-08-11 11:58:14,439 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:14,513 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:14,513 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint udhThree_blueprint to the Ambari server] ***
2023-08-11 11:58:15,453 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:15,525 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:15,526 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-11 11:58:16,499 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:16,570 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:16,570 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-11 11:58:20,061 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 11:58:20,128 - bigdata_deploy_logger - INFO - 
2023-08-11 11:58:20,128 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-11 11:58:21,149 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-11 11:58:31,982 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-11 11:58:42,986 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-11 11:58:53,757 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-11 11:59:04,667 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-11 11:59:15,528 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-11 11:59:26,436 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-11 11:59:37,243 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-11 11:59:48,057 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-11 11:59:58,878 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-11 12:00:09,680 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-11 12:00:21,678 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-11 12:00:32,492 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-11 12:00:43,304 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-11 12:00:54,107 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-11 12:01:04,877 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-11 12:01:15,739 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-11 12:01:26,578 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-11 12:01:37,369 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-11 12:01:48,113 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-11 12:01:58,908 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-11 12:02:09,789 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-11 12:02:20,665 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-11 12:02:31,509 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-11 12:02:42,320 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-11 12:02:53,122 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-11 12:03:03,914 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-11 12:03:14,756 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-11 12:03:25,544 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-11 12:03:36,349 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-11 12:03:47,164 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-11 12:03:57,969 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-11 12:04:08,778 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-11 12:04:19,657 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-11 12:04:30,495 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-11 12:04:41,353 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-11 12:04:52,168 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-11 12:05:02,987 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-11 12:05:13,816 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-11 12:05:24,641 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-11 12:05:35,456 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-11 12:05:46,268 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-11 12:05:57,064 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-11 12:06:07,826 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-11 12:06:18,679 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-11 12:06:29,456 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-11 12:06:40,379 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-11 12:06:51,188 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-11 12:07:02,034 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-11 12:07:12,857 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-11 12:07:23,741 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-11 12:07:34,507 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-11 12:07:45,295 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-11 12:07:56,128 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-11 12:08:06,976 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-11 12:08:17,797 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-11 12:08:28,679 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-11 12:08:40,166 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-11 12:08:50,967 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-11 12:09:01,829 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-11 12:09:12,665 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-11 12:09:23,519 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-11 12:09:34,418 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-11 12:09:45,213 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-11 12:09:56,000 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-11 12:10:06,818 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-11 12:10:17,667 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-11 12:10:28,490 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-11 12:10:39,295 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-11 12:10:50,088 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-11 12:11:00,997 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-11 12:11:11,799 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-11 12:11:22,610 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-11 12:11:33,440 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-11 12:11:44,259 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-11 12:11:55,075 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-11 12:12:05,902 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-11 12:12:16,767 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-11 12:12:27,605 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-11 12:12:38,408 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-11 12:12:49,249 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-11 12:13:00,099 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-11 12:13:10,957 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-11 12:13:21,807 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-11 12:13:32,628 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-11 12:13:43,487 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-11 12:13:54,369 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-11 12:14:05,211 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-11 12:14:16,187 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-11 12:14:27,364 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-11 12:14:38,144 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-11 12:14:49,014 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-11 12:14:59,846 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-11 12:15:10,743 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-11 12:15:21,729 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-11 12:15:32,773 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-11 12:15:43,870 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-11 12:15:54,675 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-11 12:16:05,518 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-11 12:16:16,392 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-11 12:16:27,349 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-11 12:16:38,155 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-11 12:16:49,129 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-11 12:17:00,269 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-11 12:17:11,079 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-11 12:17:21,901 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-11 12:17:33,084 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-11 12:17:43,892 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-11 12:17:54,779 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-11 12:18:05,646 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-11 12:18:16,488 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-11 12:18:27,504 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-11 12:18:38,278 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-11 12:18:49,203 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 12:18:49,278 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:49,278 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-11 12:18:49,311 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 12:18:49,319 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:49,319 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-11 12:18:49,324 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:49,324 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-11 12:18:49,349 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 12:18:49,354 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:49,354 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-11 12:18:49,376 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-11 12:18:49,381 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:49,381 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-11 12:18:49,456 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:49,456 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-11 12:18:49,707 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-11 12:18:49,732 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-11 12:18:49,901 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-11 12:18:49,972 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:49,973 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-11 12:18:50,059 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 12:18:50,129 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 12:18:50,143 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 12:18:50,217 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:50,218 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-11 12:18:50,301 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 12:18:50,372 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 12:18:50,386 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 12:18:50,460 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:50,461 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-11 12:18:50,548 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 12:18:50,618 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 12:18:50,634 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 12:18:50,642 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:50,642 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-11 12:18:50,714 - bigdata_deploy_logger - INFO - 
2023-08-11 12:18:50,715 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-11 12:18:57,207 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-11 12:19:06,537 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-11 12:19:06,658 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-11 12:19:06,723 - bigdata_deploy_logger - INFO - 
2023-08-11 12:19:06,723 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-11 12:19:06,814 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-11 12:19:06,885 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-11 12:19:06,897 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-11 12:19:06,900 - bigdata_deploy_logger - INFO - 
2023-08-11 12:19:06,900 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-11 12:19:06,900 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-11 12:19:06,901 - bigdata_deploy_logger - INFO - sdp1                       : ok=161  changed=68   unreachable=0    failed=0    skipped=63   rescued=0    ignored=2
2023-08-11 12:19:06,901 - bigdata_deploy_logger - INFO - sdp2                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-11 12:19:06,901 - bigdata_deploy_logger - INFO - sdp3                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-11 12:19:06,901 - bigdata_deploy_logger - INFO - 
2023-08-11 12:19:06,997 - bigdata_deploy_logger - INFO - playbook return_code is 0
Traceback (most recent call last):
  File "install_cluster.py", line 98, in <module>
    main()
  File "install_cluster.py", line 84, in main
    cf_util = ConfUtils()
  File "/home/jialiang/sdp/prjs/bigdata-deploy/install_utils/conf_utils.py", line 86, in __init__
    self.raw_conf = self.load_conf()
  File "/home/jialiang/sdp/prjs/bigdata-deploy/install_utils/conf_utils.py", line 332, in load_conf
    data = yaml.load(f)
  File "/usr/lib64/python2.7/site-packages/yaml/__init__.py", line 71, in load
    return loader.get_single_data()
  File "/usr/lib64/python2.7/site-packages/yaml/constructor.py", line 37, in get_single_data
    node = self.get_single_node()
  File "/usr/lib64/python2.7/site-packages/yaml/composer.py", line 36, in get_single_node
    document = self.compose_document()
  File "/usr/lib64/python2.7/site-packages/yaml/composer.py", line 55, in compose_document
    node = self.compose_node(None, None)
  File "/usr/lib64/python2.7/site-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib64/python2.7/site-packages/yaml/composer.py", line 127, in compose_mapping_node
    while not self.check_event(MappingEndEvent):
  File "/usr/lib64/python2.7/site-packages/yaml/parser.py", line 98, in check_event
    self.current_event = self.state()
  File "/usr/lib64/python2.7/site-packages/yaml/parser.py", line 439, in parse_block_mapping_key
    "expected <block end>, but found %r" % token.id, token.start_mark)
yaml.parser.ParserError: while parsing a block mapping
  in "/home/jialiang/sdp/prjs/bigdata-deploy/conf.yml", line 3, column 1
expected <block end>, but found '<block mapping start>'
  in "/home/jialiang/sdp/prjs/bigdata-deploy/conf.yml", line 80, column 3
2023-08-14 11:14:27,796 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:14:27,798 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 11:14:27,808 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:14:27,809 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 11:14:27,819 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:14:27,852 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:14:27,860 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:14:27,902 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:14:27,904 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 11:14:27,916 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:14:27,917 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:14:27,956 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:14:27,961 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:14:27,975 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:14:27,980 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:14:27,992 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:14:27,996 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:14:28,005 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:14:28,016 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:14:28,027 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:14:28,035 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:14:28,038 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:14:28,046 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:14:28,047 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:14:28,059 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:14:28,062 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 11:14:28,084 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 11:14:30,704 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 11:14:30,704 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 11:14:33,372 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:33,373 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 11:14:33,517 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:33,517 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 11:14:33,621 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:14:33,624 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:33,625 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 11:14:33,673 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:14:33,677 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:33,677 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 11:14:33,690 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:33,690 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 11:14:33,985 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:14:33,993 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:14:34,004 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:14:34,008 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:34,009 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 11:14:34,065 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:14:34,070 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:14:34,074 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:14:34,078 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:34,078 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 11:14:34,125 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:14:34,132 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:14:34,142 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:14:34,147 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:34,147 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 11:14:34,195 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:14:34,206 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:14:34,211 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:14:34,217 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:34,217 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 11:14:34,242 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:34,242 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:14:41,560 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:14:50,588 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:14:50,813 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:14:50,829 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:50,829 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 11:14:51,509 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:14:51,541 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:14:51,648 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:14:51,678 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:51,679 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 11:14:51,729 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 11:14:51,729 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 11:14:51,729 - bigdata_deploy_logger - INFO - }
2023-08-14 11:14:51,744 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 11:14:51,744 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 11:14:51,745 - bigdata_deploy_logger - INFO - }
2023-08-14 11:14:51,765 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 11:14:51,766 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 11:14:51,766 - bigdata_deploy_logger - INFO - }
2023-08-14 11:14:51,778 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:51,779 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 11:14:51,826 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:14:51,840 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:14:51,858 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:14:51,871 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:51,872 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 11:14:51,964 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:14:51,964 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:14:51,981 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:14:52,020 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:52,020 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 11:14:52,687 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:14:52,712 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:14:52,826 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:14:52,845 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:52,845 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 11:14:53,327 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:14:53,391 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:14:53,548 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:14:53,560 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:53,560 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 11:14:55,711 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:14:56,221 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:14:56,633 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:14:56,645 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:56,645 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 11:14:57,516 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 11:14:57,516 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 11:14:57,516 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 11:14:57,516 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:14:57,866 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:14:57,989 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:14:58,006 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:58,006 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 11:14:59,116 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:14:59,512 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:14:59,635 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:14:59,649 - bigdata_deploy_logger - INFO - 
2023-08-14 11:14:59,649 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 11:15:00,683 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:15:01,527 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:15:01,729 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:15:01,742 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:01,743 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 11:15:02,738 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:15:02,758 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:15:02,867 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:15:02,881 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:02,882 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 11:15:03,809 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:04,139 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:04,285 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:04,297 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:04,297 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 11:15:05,783 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:15:07,014 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:15:07,054 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:15:07,068 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:07,068 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 11:15:07,186 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 11:15:07,216 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:07,217 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 11:15:09,593 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:15:09,626 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:15:09,828 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:15:09,895 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:09,896 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 11:15:10,471 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:15:10,602 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:15:10,712 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:15:10,896 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:10,897 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 11:15:12,342 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:15:13,117 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:15:13,309 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:15:13,388 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:13,389 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 11:15:15,989 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:16,284 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:16,422 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:16,500 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:16,501 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 11:15:17,342 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:17,926 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:17,977 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:18,049 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:18,050 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 11:15:18,140 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:15:18,214 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:15:18,226 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:15:18,300 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:18,301 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 11:15:19,167 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:19,595 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:19,730 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:19,813 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:19,814 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 11:15:20,705 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 11:15:20,705 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 11:15:20,706 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 11:15:20,706 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 11:15:20,706 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:21,115 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:21,244 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:21,338 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:21,339 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 11:15:22,202 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:22,611 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:22,700 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:22,815 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:22,816 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 11:15:24,348 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:15:25,026 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:15:25,105 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:15:25,278 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:25,279 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 11:15:26,141 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:15:26,629 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:15:26,729 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:15:26,808 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:26,809 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 11:15:27,633 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:28,055 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:28,271 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:28,342 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:28,342 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 11:15:29,264 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 11:15:29,374 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 11:15:29,439 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 11:15:29,924 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 11:15:30,154 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 11:15:30,291 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 11:15:30,505 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 11:15:30,867 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 11:15:31,138 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 11:15:31,209 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:31,209 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 11:15:31,323 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:15:31,397 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:15:31,410 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:15:31,485 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:31,486 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 11:15:32,096 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:32,167 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:32,308 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:32,394 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:32,394 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 11:15:33,089 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:15:33,196 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:15:33,322 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:15:33,397 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:33,397 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 11:15:34,163 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 11:15:34,163 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 11:15:34,163 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 11:15:34,163 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 11:15:34,163 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:15:34,695 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:15:34,923 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:15:35,014 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:35,015 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 11:15:35,766 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:15:36,306 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:15:36,452 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:15:36,612 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:36,613 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 11:15:37,318 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://server0:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:15:37,329 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://server0:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:15:37,444 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://server0:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:15:37,519 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:37,519 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:15:39,084 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:15:39,342 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:15:39,566 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:15:39,645 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:39,646 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:15:39,968 - bigdata_deploy_logger - INFO - 
2023-08-14 11:15:39,969 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 11:16:25,940 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:16:39,406 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:16:47,756 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:16:47,845 - bigdata_deploy_logger - INFO - 
2023-08-14 11:16:47,845 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 11:16:48,660 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:16:48,660 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:16:48,815 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:16:48,894 - bigdata_deploy_logger - INFO - 
2023-08-14 11:16:48,894 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 11:16:50,430 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:16:51,059 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:16:51,472 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:16:51,554 - bigdata_deploy_logger - INFO - 
2023-08-14 11:16:51,555 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 11:16:51,643 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:16:51,737 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:16:54,113 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:16:54,184 - bigdata_deploy_logger - INFO - 
2023-08-14 11:16:54,185 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 11:16:55,959 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:16:57,517 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:16:57,703 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:16:57,778 - bigdata_deploy_logger - INFO - 
2023-08-14 11:16:57,778 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 11:16:59,255 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:17:00,484 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:17:00,534 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:17:00,626 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:00,627 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:17:09,609 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.351489", "end": "2023-08-14 03:17:09.491118", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:17:01.139629", "stderr": "14 Aug 03:17:09 ntpdate[55337]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:17:09 ntpdate[55337]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:17:09,609 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:17:10,037 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.717445", "end": "2023-08-14 03:17:09.938443", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:17:01.220998", "stderr": "14 Aug 03:17:09 ntpdate[26332]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:17:09 ntpdate[26332]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:17:10,037 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:17:10,177 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.723106", "end": "2023-08-14 03:17:10.053028", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:17:01.329922", "stderr": "14 Aug 03:17:10 ntpdate[54686]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:17:10 ntpdate[54686]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:17:10,177 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:17:10,319 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:10,319 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:17:11,118 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:17:11,637 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:17:11,854 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:17:11,932 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:11,933 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 11:17:13,402 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:14,201 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:14,400 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:14,471 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:14,472 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 11:17:14,982 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:17:14,993 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:17:15,001 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:17:15,147 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:15,148 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:15,266 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:15,338 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:15,353 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:15,428 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:15,429 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:15,520 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:15,593 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:15,610 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:15,692 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:15,692 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:15,785 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:15,858 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:15,875 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:15,955 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:15,956 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 11:17:16,881 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 11:17:16,881 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 11:17:16,882 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 11:17:16,882 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 11:17:16,882 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:17,296 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:17,549 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:17,624 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:17,624 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:17:18,513 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:18,909 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:19,067 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:19,150 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:19,151 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:17:19,249 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:19,318 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:19,338 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:19,414 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:19,415 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 11:17:19,498 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:17:19,566 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:17:19,573 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:17:19,647 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:19,648 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 11:17:19,734 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:17:19,890 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:17:19,898 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:17:19,975 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:19,976 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:20,065 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:20,142 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:20,158 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:20,257 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:20,257 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:20,357 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:20,446 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:20,461 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:20,534 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:20,535 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:20,629 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:20,705 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:20,726 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:20,799 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:20,800 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 11:17:21,700 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:22,158 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:22,253 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:22,407 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:22,408 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:17:23,257 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:23,648 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:23,820 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:23,906 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:23,906 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:17:24,009 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:24,089 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:24,108 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:24,184 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:24,185 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 11:17:24,275 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:17:24,356 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:17:24,365 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:17:24,444 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:24,445 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 11:17:24,533 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:17:24,605 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:17:24,613 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:17:24,686 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:24,687 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:24,854 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:24,928 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:24,943 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:25,022 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:25,023 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:25,119 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:25,194 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:25,211 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:25,285 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:25,286 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:17:25,388 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:25,464 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:25,485 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:25,576 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:25,577 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 11:17:26,433 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:26,897 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:27,030 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:27,106 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:27,107 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:17:28,007 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:28,472 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:28,505 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:28,585 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:28,585 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:17:28,684 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:17:28,760 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:17:28,783 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:17:28,861 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:28,861 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 11:17:28,953 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:17:29,027 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:17:29,040 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:17:29,114 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:29,115 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 11:17:29,207 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:17:29,281 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:17:29,291 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:17:29,292 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:29,293 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 11:17:30,479 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 11:17:30,479 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 11:17:30,479 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 11:17:30,480 - bigdata_deploy_logger - INFO - this message.
2023-08-14 11:17:30,480 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:17:30,660 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:17:31,084 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:17:31,084 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:31,084 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 11:17:32,327 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": ["yum", "makecache"], "delta": "0:00:00.402578", "end": "2023-08-14 03:17:32.206132", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:17:31.803554", "stderr": "http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"\nTrying other mirror.\n\n\n One of the configured repositories failed (ambari_repository),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Run the command with the repository temporarily disabled\n            yum --disablerepo=ambari_repo ...\n\n     4. Disable the repository permanently, so yum won't use it by default. Yum\n        will then just ignore the repository until you permanently enable it\n        again or use --enablerepo for temporary usage:\n\n            yum-config-manager --disable ambari_repo\n        or\n            subscription-manager repos --disable=ambari_repo\n\n     5. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=ambari_repo.skip_if_unavailable=true\n\nfailure: repodata/repomd.xml from ambari_repo: [Errno 256] No more mirrors to try.\nhttp://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"", "stderr_lines": ["http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"", "Trying other mirror.", "", "", " One of the configured repositories failed (ambari_repository),", " and yum doesn't have enough cached data to continue. At this point the only", " safe thing yum can do is fail. There are a few ways to work \"fix\" this:", "", "     1. Contact the upstream for the repository and get them to fix the problem.", "", "     2. Reconfigure the baseurl/etc. for the repository, to point to a working", "        upstream. This is most often useful if you are using a newer", "        distribution release than is supported by the repository (and the", "        packages for the previous distribution release still work).", "", "     3. Run the command with the repository temporarily disabled", "            yum --disablerepo=ambari_repo ...", "", "     4. Disable the repository permanently, so yum won't use it by default. Yum", "        will then just ignore the repository until you permanently enable it", "        again or use --enablerepo for temporary usage:", "", "            yum-config-manager --disable ambari_repo", "        or", "            subscription-manager repos --disable=ambari_repo", "", "     5. Configure the failing repository to be skipped, if it is unavailable.", "        Note that yum will try to contact the repo. when it runs most commands,", "        so will have to try and fail each time (and thus. yum will be be much", "        slower). If it is a very temporary problem though, this is often a nice", "        compromise:", "", "            yum-config-manager --save --setopt=ambari_repo.skip_if_unavailable=true", "", "failure: repodata/repomd.xml from ambari_repo: [Errno 256] No more mirrors to try.", "http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\""], "stdout": "Loaded plugins: fastestmirror, priorities\nDetermining fastest mirrors", "stdout_lines": ["Loaded plugins: fastestmirror, priorities", "Determining fastest mirrors"]}
2023-08-14 11:17:32,380 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": ["yum", "makecache"], "delta": "0:00:00.754521", "end": "2023-08-14 03:17:32.290151", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:17:31.535630", "stderr": "http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"\nTrying other mirror.\n\n\n One of the configured repositories failed (ambari_repository),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Run the command with the repository temporarily disabled\n            yum --disablerepo=ambari_repo ...\n\n     4. Disable the repository permanently, so yum won't use it by default. Yum\n        will then just ignore the repository until you permanently enable it\n        again or use --enablerepo for temporary usage:\n\n            yum-config-manager --disable ambari_repo\n        or\n            subscription-manager repos --disable=ambari_repo\n\n     5. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=ambari_repo.skip_if_unavailable=true\n\nfailure: repodata/repomd.xml from ambari_repo: [Errno 256] No more mirrors to try.\nhttp://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"", "stderr_lines": ["http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"", "Trying other mirror.", "", "", " One of the configured repositories failed (ambari_repository),", " and yum doesn't have enough cached data to continue. At this point the only", " safe thing yum can do is fail. There are a few ways to work \"fix\" this:", "", "     1. Contact the upstream for the repository and get them to fix the problem.", "", "     2. Reconfigure the baseurl/etc. for the repository, to point to a working", "        upstream. This is most often useful if you are using a newer", "        distribution release than is supported by the repository (and the", "        packages for the previous distribution release still work).", "", "     3. Run the command with the repository temporarily disabled", "            yum --disablerepo=ambari_repo ...", "", "     4. Disable the repository permanently, so yum won't use it by default. Yum", "        will then just ignore the repository until you permanently enable it", "        again or use --enablerepo for temporary usage:", "", "            yum-config-manager --disable ambari_repo", "        or", "            subscription-manager repos --disable=ambari_repo", "", "     5. Configure the failing repository to be skipped, if it is unavailable.", "        Note that yum will try to contact the repo. when it runs most commands,", "        so will have to try and fail each time (and thus. yum will be be much", "        slower). If it is a very temporary problem though, this is often a nice", "        compromise:", "", "            yum-config-manager --save --setopt=ambari_repo.skip_if_unavailable=true", "", "failure: repodata/repomd.xml from ambari_repo: [Errno 256] No more mirrors to try.", "http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\""], "stdout": "Loaded plugins: fastestmirror, priorities\nDetermining fastest mirrors", "stdout_lines": ["Loaded plugins: fastestmirror, priorities", "Determining fastest mirrors"]}
2023-08-14 11:17:32,795 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": ["yum", "makecache"], "delta": "0:00:00.762549", "end": "2023-08-14 03:17:32.667005", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:17:31.904456", "stderr": "http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"\nTrying other mirror.\n\n\n One of the configured repositories failed (ambari_repository),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Run the command with the repository temporarily disabled\n            yum --disablerepo=ambari_repo ...\n\n     4. Disable the repository permanently, so yum won't use it by default. Yum\n        will then just ignore the repository until you permanently enable it\n        again or use --enablerepo for temporary usage:\n\n            yum-config-manager --disable ambari_repo\n        or\n            subscription-manager repos --disable=ambari_repo\n\n     5. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=ambari_repo.skip_if_unavailable=true\n\nfailure: repodata/repomd.xml from ambari_repo: [Errno 256] No more mirrors to try.\nhttp://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"", "stderr_lines": ["http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\"", "Trying other mirror.", "", "", " One of the configured repositories failed (ambari_repository),", " and yum doesn't have enough cached data to continue. At this point the only", " safe thing yum can do is fail. There are a few ways to work \"fix\" this:", "", "     1. Contact the upstream for the repository and get them to fix the problem.", "", "     2. Reconfigure the baseurl/etc. for the repository, to point to a working", "        upstream. This is most often useful if you are using a newer", "        distribution release than is supported by the repository (and the", "        packages for the previous distribution release still work).", "", "     3. Run the command with the repository temporarily disabled", "            yum --disablerepo=ambari_repo ...", "", "     4. Disable the repository permanently, so yum won't use it by default. Yum", "        will then just ignore the repository until you permanently enable it", "        again or use --enablerepo for temporary usage:", "", "            yum-config-manager --disable ambari_repo", "        or", "            subscription-manager repos --disable=ambari_repo", "", "     5. Configure the failing repository to be skipped, if it is unavailable.", "        Note that yum will try to contact the repo. when it runs most commands,", "        so will have to try and fail each time (and thus. yum will be be much", "        slower). If it is a very temporary problem though, this is often a nice", "        compromise:", "", "            yum-config-manager --save --setopt=ambari_repo.skip_if_unavailable=true", "", "failure: repodata/repomd.xml from ambari_repo: [Errno 256] No more mirrors to try.", "http://server0:8081/repository/yum/sdp_3.1/repodata/repomd.xml: [Errno 14] curl#6 - \"Could not resolve host: server0; Unknown error\""], "stdout": "Loaded plugins: fastestmirror, priorities\nDetermining fastest mirrors", "stdout_lines": ["Loaded plugins: fastestmirror, priorities", "Determining fastest mirrors"]}
2023-08-14 11:17:32,795 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:32,796 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 11:17:32,796 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:32,796 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 11:17:32,796 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 11:17:32,796 - bigdata_deploy_logger - INFO - sdp1                       : ok=64   changed=26   unreachable=0    failed=1    skipped=13   rescued=0    ignored=1
2023-08-14 11:17:32,797 - bigdata_deploy_logger - INFO - sdp2                       : ok=63   changed=24   unreachable=0    failed=1    skipped=14   rescued=0    ignored=1
2023-08-14 11:17:32,797 - bigdata_deploy_logger - INFO - sdp3                       : ok=63   changed=24   unreachable=0    failed=1    skipped=14   rescued=0    ignored=1
2023-08-14 11:17:32,797 - bigdata_deploy_logger - INFO - 
2023-08-14 11:17:32,903 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 11:18:41,153 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:18:41,156 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 11:18:41,165 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:18:41,166 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 11:18:41,175 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:18:41,207 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:18:41,215 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:18:41,247 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:18:41,249 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 11:18:41,257 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:18:41,258 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:18:41,289 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:18:41,292 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:18:41,301 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:18:41,305 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:18:41,313 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:18:41,316 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:18:41,323 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:18:41,333 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:18:41,341 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:18:41,350 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:18:41,353 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:18:41,361 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:18:41,361 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:18:41,371 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:18:41,373 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 11:18:41,387 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 11:18:42,313 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 11:18:42,314 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 11:18:43,917 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:43,917 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 11:18:43,949 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:43,949 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 11:18:43,995 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:18:43,999 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:43,999 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 11:18:44,044 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:18:44,048 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:44,048 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 11:18:44,055 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:44,055 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 11:18:44,338 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:18:44,343 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:18:44,356 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:18:44,360 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:44,360 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 11:18:44,407 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:18:44,414 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:18:44,426 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:18:44,431 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:44,431 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 11:18:44,481 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:18:44,496 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:18:44,497 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:18:44,502 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:44,503 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 11:18:44,551 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:18:44,561 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:18:44,579 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:18:44,587 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:44,587 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 11:18:44,612 - bigdata_deploy_logger - INFO - 
2023-08-14 11:18:44,612 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:18:51,379 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:00,315 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:00,587 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:00,600 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:00,601 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 11:19:01,335 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:01,428 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:01,474 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:01,489 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:01,490 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 11:19:01,547 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 11:19:01,548 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 11:19:01,548 - bigdata_deploy_logger - INFO - }
2023-08-14 11:19:01,568 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 11:19:01,568 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 11:19:01,568 - bigdata_deploy_logger - INFO - }
2023-08-14 11:19:01,588 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 11:19:01,588 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 11:19:01,588 - bigdata_deploy_logger - INFO - }
2023-08-14 11:19:01,601 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:01,601 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 11:19:01,646 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:19:01,665 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:19:01,687 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:19:01,702 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:01,703 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 11:19:01,777 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:19:01,791 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:19:01,808 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:19:01,847 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:01,848 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 11:19:02,628 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:02,672 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:02,711 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:02,726 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:02,727 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 11:19:03,219 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:03,362 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:03,415 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:03,430 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:03,431 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 11:19:05,713 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:06,079 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:06,442 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:06,454 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:06,455 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 11:19:07,454 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 11:19:07,454 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 11:19:07,454 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 11:19:07,454 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:07,684 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:07,832 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:07,845 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:07,846 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 11:19:09,096 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:09,370 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:09,497 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:09,508 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:09,508 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 11:19:10,669 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:11,355 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:11,536 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:11,553 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:11,554 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 11:19:12,556 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:12,596 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:12,639 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:12,651 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:12,652 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 11:19:13,671 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:14,022 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:14,097 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:14,111 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:14,112 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 11:19:15,700 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:16,820 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:16,993 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:17,003 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:17,004 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 11:19:17,104 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 11:19:17,134 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:17,134 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 11:19:19,539 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:19,562 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:19,748 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:19,830 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:19,830 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 11:19:20,478 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:20,557 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:20,735 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:20,810 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:20,811 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 11:19:22,312 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:19:23,148 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:19:23,450 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:19:23,521 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:23,522 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 11:19:26,320 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:26,590 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:26,754 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:26,820 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:26,821 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 11:19:27,669 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:28,160 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:28,236 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:28,324 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:28,324 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 11:19:28,427 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:19:28,582 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:19:28,596 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:19:28,662 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:28,663 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 11:19:29,537 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:29,953 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:30,088 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:30,154 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:30,155 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 11:19:31,038 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 11:19:31,039 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 11:19:31,039 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 11:19:31,039 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 11:19:31,039 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:31,477 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:31,681 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:31,754 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:31,755 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 11:19:32,610 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:33,013 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:33,155 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:33,220 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:33,221 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 11:19:34,613 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:19:35,343 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:19:35,436 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:19:35,511 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:35,511 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 11:19:36,406 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:19:36,777 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:19:36,904 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:19:36,979 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:36,980 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 11:19:37,880 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:38,237 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:38,352 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:38,499 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:38,500 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 11:19:39,317 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 11:19:39,439 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 11:19:39,486 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 11:19:39,891 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 11:19:40,173 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 11:19:40,254 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 11:19:40,428 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 11:19:40,879 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 11:19:41,032 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 11:19:41,111 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:41,112 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 11:19:41,206 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:19:41,277 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:19:41,291 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:19:41,362 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:41,363 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 11:19:41,989 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:41,997 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:42,120 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:42,192 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:42,192 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 11:19:42,858 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:19:42,899 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:19:43,017 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:19:43,086 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:43,086 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 11:19:43,944 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 11:19:43,945 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 11:19:43,946 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 11:19:43,946 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 11:19:43,946 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:19:44,318 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:19:44,426 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:19:44,497 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:44,498 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 11:19:45,360 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:19:45,750 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:19:45,851 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:19:45,933 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:45,934 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 11:19:46,794 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:19:46,806 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:19:46,851 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:19:46,923 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:46,924 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:19:48,389 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:19:48,681 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:19:48,824 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:19:48,893 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:48,894 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:19:49,131 - bigdata_deploy_logger - INFO - 
2023-08-14 11:19:49,132 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 11:20:11,946 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:20:17,878 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:20:18,508 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:20:18,576 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:18,577 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 11:20:19,338 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:19,411 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:19,547 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:19,628 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:19,629 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 11:20:20,991 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:21,912 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:22,238 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:20:22,340 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:22,341 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 11:20:22,442 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:20:22,532 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:20:25,026 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:20:25,118 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:25,118 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 11:20:26,833 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:20:28,507 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:20:28,684 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:20:28,760 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:28,761 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 11:20:30,209 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:20:31,438 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:20:31,534 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:20:31,604 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:31,605 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:20:40,541 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.335937", "end": "2023-08-14 03:20:40.428980", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:20:32.093043", "stderr": "14 Aug 03:20:40 ntpdate[61671]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:20:40 ntpdate[61671]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:20:40,542 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:20:41,079 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.750800", "end": "2023-08-14 03:20:41.000061", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:20:32.249261", "stderr": "14 Aug 03:20:40 ntpdate[30532]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:20:40 ntpdate[30532]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:20:41,079 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:20:41,143 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.714506", "end": "2023-08-14 03:20:41.030414", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:20:32.315908", "stderr": "14 Aug 03:20:41 ntpdate[61251]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:20:41 ntpdate[61251]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:20:41,143 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:20:41,205 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:41,205 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:20:42,069 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:20:42,465 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:20:42,544 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:20:42,608 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:42,609 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 11:20:44,074 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:44,771 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:44,977 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:45,060 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:45,060 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 11:20:45,527 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:20:45,536 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:20:45,543 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:20:45,656 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:45,656 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:45,750 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:45,818 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:45,833 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:45,903 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:45,904 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:45,995 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:46,065 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:46,083 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:46,151 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:46,152 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:46,238 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:46,306 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:46,323 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:46,421 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:46,422 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 11:20:47,337 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 11:20:47,337 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 11:20:47,338 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 11:20:47,338 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 11:20:47,338 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:47,709 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:47,810 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:47,886 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:47,887 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:20:48,722 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:49,146 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:49,260 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:49,346 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:49,347 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:20:49,452 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:49,521 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:49,547 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:49,621 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:49,622 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 11:20:49,712 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:20:49,791 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:20:49,798 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:20:49,875 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:49,876 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 11:20:49,966 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:20:50,040 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:20:50,046 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:20:50,196 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:50,197 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:50,285 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:50,360 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:50,382 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:50,463 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:50,463 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:50,561 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:50,659 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:50,676 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:50,751 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:50,752 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:50,843 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:50,918 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:50,937 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:51,012 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:51,013 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 11:20:51,919 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:52,393 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:52,474 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:52,550 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:52,551 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:20:53,452 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:54,019 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:54,070 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:54,152 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:54,153 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:20:54,255 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:54,327 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:54,351 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:54,434 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:54,434 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 11:20:54,520 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:20:54,588 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:20:54,595 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:20:54,666 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:54,666 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 11:20:54,756 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:20:54,832 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:20:54,841 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:20:54,914 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:54,914 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:55,007 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:55,079 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:55,096 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:55,164 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:55,165 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:55,328 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:55,397 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:55,415 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:55,486 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:55,486 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:20:55,573 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:55,644 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:55,664 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:55,738 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:55,739 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 11:20:56,640 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:57,110 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:57,284 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:57,354 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:57,355 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:20:58,209 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:58,655 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:58,741 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:58,816 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:58,817 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:20:58,978 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:20:59,052 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:20:59,071 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:20:59,140 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:59,140 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 11:20:59,224 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:20:59,295 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:20:59,304 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:20:59,391 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:59,392 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 11:20:59,496 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:20:59,565 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:20:59,574 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:20:59,575 - bigdata_deploy_logger - INFO - 
2023-08-14 11:20:59,576 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 11:21:00,722 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 11:21:00,723 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 11:21:00,723 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 11:21:00,723 - bigdata_deploy_logger - INFO - this message.
2023-08-14 11:21:00,723 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:21:00,914 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:21:01,258 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:21:01,259 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:01,259 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 11:21:02,838 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:21:03,084 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:21:03,493 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:21:03,497 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:03,498 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 11:21:03,577 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:03,578 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:21:19,213 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:21:19,280 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:19,280 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 11:21:19,339 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 11:21:19,409 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:19,410 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 11:21:19,433 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:21:19,509 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:19,510 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 11:21:21,408 - bigdata_deploy_logger - INFO - failed: [sdp1] (item=mysql-community-server,MySQL-python) => {"ansible_loop_var": "item", "changed": false, "item": "mysql-community-server,MySQL-python", "msg": "No package matching 'mysql-community-server' found available, installed or updated", "rc": 126, "results": ["No package matching 'mysql-community-server' found available, installed or updated"]}
2023-08-14 11:21:21,408 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:21,408 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 11:21:21,409 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:21,409 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 11:21:21,409 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 11:21:21,410 - bigdata_deploy_logger - INFO - sdp1                       : ok=67   changed=27   unreachable=0    failed=1    skipped=14   rescued=0    ignored=1
2023-08-14 11:21:21,410 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:21:21,410 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:21:21,410 - bigdata_deploy_logger - INFO - 
2023-08-14 11:21:21,527 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 11:25:18,790 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:25:18,792 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 11:25:18,802 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:25:18,803 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 11:25:18,813 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:25:18,846 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:25:18,855 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:25:18,889 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:25:18,891 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 11:25:18,903 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:25:18,905 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:25:18,937 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:25:18,941 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:25:18,950 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:25:18,954 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:25:18,963 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:25:18,966 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:25:18,974 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:25:18,985 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:25:18,994 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:25:19,004 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:25:19,008 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:25:19,017 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:25:19,018 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:25:19,028 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:25:19,030 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 11:25:19,044 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 11:25:19,949 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 11:25:19,950 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 11:25:21,583 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:21,583 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 11:25:21,613 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:21,614 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 11:25:21,659 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:25:21,663 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:21,664 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 11:25:21,713 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:25:21,717 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:21,717 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 11:25:21,723 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:21,723 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 11:25:22,013 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:25:22,029 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:25:22,030 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:25:22,033 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:22,034 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 11:25:22,083 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:25:22,091 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:25:22,096 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:25:22,098 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:22,098 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 11:25:22,153 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:25:22,160 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:25:22,169 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:25:22,173 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:22,173 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 11:25:22,226 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:25:22,231 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:25:22,243 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:25:22,248 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:22,249 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 11:25:22,273 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:22,274 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:25:28,980 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:38,165 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:38,429 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:38,442 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:38,443 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 11:25:39,142 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:39,233 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:39,259 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:39,272 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:39,273 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 11:25:39,328 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 11:25:39,328 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 11:25:39,328 - bigdata_deploy_logger - INFO - }
2023-08-14 11:25:39,339 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 11:25:39,339 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 11:25:39,339 - bigdata_deploy_logger - INFO - }
2023-08-14 11:25:39,362 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 11:25:39,362 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 11:25:39,362 - bigdata_deploy_logger - INFO - }
2023-08-14 11:25:39,373 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:39,373 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 11:25:39,416 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:25:39,431 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:25:39,454 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:25:39,464 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:39,465 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 11:25:39,538 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:25:39,552 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:25:39,573 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:25:39,613 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:39,614 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 11:25:40,277 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:25:40,371 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:25:40,400 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:25:40,414 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:40,415 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 11:25:40,909 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:25:41,015 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:25:41,133 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:25:41,148 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:41,149 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 11:25:43,392 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:25:43,684 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:25:44,070 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:25:44,092 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:44,093 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 11:25:45,115 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 11:25:45,116 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 11:25:45,116 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 11:25:45,116 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:45,390 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:45,522 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:45,535 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:45,536 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 11:25:46,747 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:47,035 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:47,172 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:47,185 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:47,185 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 11:25:48,375 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:48,959 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:49,170 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:49,181 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:49,182 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 11:25:50,102 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:50,208 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:50,231 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:50,247 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:50,248 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 11:25:51,266 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:25:51,519 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:25:51,637 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:25:51,651 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:51,652 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 11:25:53,207 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:54,214 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:54,301 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:54,313 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:54,314 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 11:25:54,418 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 11:25:54,450 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:54,451 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 11:25:56,677 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:56,813 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:56,877 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:56,938 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:56,939 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 11:25:57,590 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:25:57,593 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:25:57,704 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:25:57,775 - bigdata_deploy_logger - INFO - 
2023-08-14 11:25:57,776 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 11:25:59,383 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:26:00,064 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:26:00,243 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:26:00,315 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:00,316 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 11:26:02,770 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:03,047 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:03,208 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:03,282 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:03,283 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 11:26:04,118 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:04,515 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:04,652 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:04,719 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:04,720 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 11:26:04,871 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:26:04,943 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:26:04,959 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:26:05,031 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:05,032 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 11:26:05,885 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:06,348 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:06,425 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:06,499 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:06,499 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 11:26:07,372 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 11:26:07,373 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 11:26:07,373 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 11:26:07,373 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 11:26:07,373 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:07,773 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:07,920 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:07,990 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:07,990 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 11:26:08,859 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:09,433 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:09,463 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:09,533 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:09,534 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 11:26:10,999 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:26:11,711 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:26:11,863 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:26:11,950 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:11,951 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 11:26:12,852 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:26:13,250 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:26:13,338 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:26:13,411 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:13,411 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 11:26:14,281 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:14,770 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:14,786 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:14,863 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:14,864 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 11:26:15,734 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 11:26:15,734 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 11:26:15,821 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 11:26:16,343 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 11:26:16,557 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 11:26:16,664 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 11:26:16,967 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 11:26:17,281 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 11:26:17,493 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 11:26:17,563 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:17,564 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 11:26:17,650 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:26:17,718 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:26:17,730 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:26:17,799 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:17,800 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 11:26:18,412 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:18,526 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:18,597 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:18,669 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:18,669 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 11:26:19,261 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:26:19,376 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:26:19,517 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:26:19,591 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:19,591 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 11:26:20,493 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 11:26:20,493 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 11:26:20,493 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 11:26:20,493 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 11:26:20,493 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:20,865 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:20,987 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:21,063 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:21,064 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 11:26:21,942 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:26:22,442 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:26:22,476 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:26:22,547 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:22,548 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 11:26:23,230 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:26:23,318 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:26:23,413 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:26:23,756 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:26:23,936 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:26:24,123 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:26:24,198 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:24,199 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:26:25,692 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:26:26,105 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:26:26,283 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:26:26,362 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:26,362 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:26:26,658 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:26,658 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 11:26:49,629 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:26:55,620 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:26:56,085 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:56,160 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:56,161 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 11:26:56,962 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:26:57,083 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:26:57,196 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:26:57,277 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:57,277 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 11:26:58,801 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:26:59,541 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:26:59,834 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:26:59,911 - bigdata_deploy_logger - INFO - 
2023-08-14 11:26:59,912 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 11:27:00,010 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:27:00,101 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:27:02,430 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:27:02,508 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:02,509 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 11:27:04,332 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:27:05,859 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:27:05,990 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:27:06,064 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:06,065 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 11:27:07,581 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:27:08,621 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:27:08,771 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:27:08,845 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:08,846 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:27:17,815 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.351121", "end": "2023-08-14 03:27:17.711677", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:27:09.360556", "stderr": "14 Aug 03:27:17 ntpdate[68144]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:27:17 ntpdate[68144]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:27:17,816 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:27:18,216 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.720609", "end": "2023-08-14 03:27:18.144733", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:27:09.424124", "stderr": "14 Aug 03:27:18 ntpdate[34868]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:27:18 ntpdate[34868]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:27:18,216 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:27:18,339 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.706978", "end": "2023-08-14 03:27:18.228740", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:27:09.521762", "stderr": "14 Aug 03:27:18 ntpdate[68546]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:27:18 ntpdate[68546]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:27:18,339 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:27:18,407 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:18,407 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:27:19,239 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:27:19,653 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:27:19,775 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:27:19,845 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:19,845 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 11:27:21,310 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:22,016 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:22,211 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:22,279 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:22,280 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 11:27:22,735 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:27:22,742 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:27:22,749 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:27:22,850 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:22,851 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:22,947 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:23,019 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:23,038 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:23,107 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:23,108 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:23,193 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:23,261 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:23,280 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:23,351 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:23,351 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:23,437 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:23,507 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:23,527 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:23,602 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:23,603 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 11:27:24,481 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 11:27:24,482 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 11:27:24,482 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 11:27:24,482 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 11:27:24,482 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:24,869 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:24,985 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:25,060 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:25,060 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:27:25,877 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:26,337 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:26,408 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:26,490 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:26,491 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:27:26,582 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:26,652 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:26,679 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:26,749 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:26,750 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 11:27:26,833 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:27:26,900 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:27:26,907 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:27:26,974 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:26,975 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 11:27:27,057 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:27:27,126 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:27:27,132 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:27:27,269 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:27,269 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:27,359 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:27,430 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:27,445 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:27,515 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:27,516 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:27,607 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:27,676 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:27,694 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:27,765 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:27,766 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:27,849 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:27,918 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:27,934 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:28,010 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:28,010 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 11:27:28,894 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:29,316 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:29,448 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:29,514 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:29,515 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:27:30,383 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:30,865 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:30,995 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:31,064 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:31,065 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:27:31,174 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:31,246 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:31,266 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:31,343 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:31,344 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 11:27:31,430 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:27:31,499 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:27:31,505 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:27:31,587 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:31,588 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 11:27:31,673 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:27:31,742 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:27:31,749 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:27:31,823 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:31,823 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:31,911 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:31,980 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:31,997 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:32,148 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:32,149 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:32,236 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:32,309 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:32,325 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:32,395 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:32,396 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:27:32,494 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:32,568 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:32,584 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:32,657 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:32,657 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 11:27:33,545 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:33,977 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:34,095 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:34,167 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:34,168 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:27:35,038 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:35,379 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:35,591 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:35,668 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:35,668 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:27:35,765 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:27:35,834 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:27:35,853 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:27:35,926 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:35,926 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 11:27:36,008 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:27:36,076 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:27:36,089 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:27:36,162 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:36,163 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 11:27:36,246 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:27:36,312 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:27:36,324 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:27:36,324 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:36,324 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 11:27:37,471 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 11:27:37,471 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 11:27:37,472 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 11:27:37,472 - bigdata_deploy_logger - INFO - this message.
2023-08-14 11:27:37,472 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:27:37,734 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:27:38,166 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:27:38,167 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:38,167 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 11:27:44,770 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:27:45,445 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:27:45,887 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:27:45,892 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:45,893 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 11:27:45,969 - bigdata_deploy_logger - INFO - 
2023-08-14 11:27:45,970 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:28:01,525 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:28:01,602 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:01,603 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 11:28:01,676 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 11:28:01,752 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:01,753 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 11:28:01,779 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:28:01,850 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:01,851 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 11:28:57,019 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,MySQL-python)
2023-08-14 11:28:57,086 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:57,087 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 11:28:57,108 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:28:57,185 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:57,185 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 11:28:57,210 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:28:57,279 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:57,280 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 11:28:57,301 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:28:57,371 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:57,372 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 11:28:57,399 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:28:57,472 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:57,473 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 11:28:58,414 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:28:58,489 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:58,490 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 11:28:59,209 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 11:28:59,209 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 11:28:59,209 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 11:28:59,209 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:28:59,210 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 11:28:59,210 - bigdata_deploy_logger - INFO - 
2023-08-14 11:28:59,210 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 11:29:00,731 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Could not find the requested service mysql: host"}
2023-08-14 11:29:00,732 - bigdata_deploy_logger - INFO - 
2023-08-14 11:29:00,732 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 11:29:00,733 - bigdata_deploy_logger - INFO - 
2023-08-14 11:29:00,733 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 11:29:00,734 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 11:29:00,734 - bigdata_deploy_logger - INFO - sdp1                       : ok=70   changed=30   unreachable=0    failed=1    skipped=18   rescued=0    ignored=1
2023-08-14 11:29:00,734 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:29:00,734 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:29:00,734 - bigdata_deploy_logger - INFO - 
2023-08-14 11:29:00,840 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 11:37:49,655 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:37:49,658 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 11:37:49,667 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:37:49,668 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 11:37:49,677 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:37:49,708 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:37:49,716 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:37:49,749 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:37:49,750 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 11:37:49,759 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:37:49,761 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:37:49,792 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:37:49,795 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:37:49,806 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:37:49,809 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:37:49,818 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:37:49,821 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:37:49,828 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:37:49,838 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:37:49,848 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:37:49,856 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:37:49,859 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:37:49,867 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:37:49,868 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:37:49,878 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:37:49,880 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 11:37:49,896 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 11:37:50,795 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 11:37:50,795 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 11:37:52,425 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:52,426 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 11:37:52,456 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:52,457 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 11:37:52,508 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:37:52,512 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:52,512 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 11:37:52,561 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:37:52,566 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:52,566 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 11:37:52,572 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:52,572 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 11:37:52,864 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:37:52,887 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:37:52,905 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:37:52,909 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:52,909 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 11:37:52,958 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:37:52,964 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:37:52,976 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:37:52,980 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:52,980 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 11:37:53,028 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:37:53,036 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:37:53,044 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:37:53,048 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:53,048 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 11:37:53,096 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:37:53,112 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:37:53,113 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:37:53,117 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:53,117 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 11:37:53,143 - bigdata_deploy_logger - INFO - 
2023-08-14 11:37:53,143 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:38:00,084 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:08,952 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:09,276 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:09,289 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:09,290 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 11:38:09,999 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:10,120 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:10,126 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:10,138 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:10,138 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 11:38:10,188 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 11:38:10,188 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 11:38:10,188 - bigdata_deploy_logger - INFO - }
2023-08-14 11:38:10,207 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 11:38:10,207 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 11:38:10,207 - bigdata_deploy_logger - INFO - }
2023-08-14 11:38:10,228 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 11:38:10,228 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 11:38:10,228 - bigdata_deploy_logger - INFO - }
2023-08-14 11:38:10,239 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:10,240 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 11:38:10,292 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:38:10,302 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:38:10,330 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:38:10,342 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:10,343 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 11:38:10,417 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:38:10,441 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:38:10,456 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:38:10,494 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:10,494 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 11:38:11,181 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:11,271 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:11,301 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:11,318 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:11,319 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 11:38:11,898 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:11,938 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:11,992 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:12,003 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:12,004 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 11:38:14,265 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:14,613 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:15,069 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:15,086 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:15,086 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 11:38:16,055 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 11:38:16,055 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 11:38:16,055 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 11:38:16,055 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:16,331 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:16,468 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:16,480 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:16,481 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 11:38:17,740 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:17,996 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:18,139 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:18,150 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:18,151 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 11:38:19,360 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:19,977 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:20,182 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:20,197 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:20,198 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 11:38:21,165 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:21,273 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:21,317 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:21,329 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:21,329 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 11:38:22,364 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:22,669 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:22,808 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:22,821 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:22,822 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 11:38:24,342 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:25,434 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:25,646 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:25,658 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:25,658 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 11:38:25,761 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 11:38:25,790 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:25,791 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 11:38:28,056 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:28,237 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:28,286 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:28,351 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:28,352 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 11:38:28,997 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:29,060 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:29,161 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:29,313 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:29,315 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 11:38:30,808 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:38:31,537 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:38:31,753 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:38:31,824 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:31,824 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 11:38:34,700 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:34,949 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:35,126 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:35,213 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:35,213 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 11:38:36,114 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:36,533 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:36,660 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:36,736 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:36,736 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 11:38:36,888 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:38:36,955 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:38:36,968 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:38:37,038 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:37,038 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 11:38:37,913 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:38,394 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:38,483 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:38,555 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:38,556 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 11:38:39,423 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 11:38:39,423 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 11:38:39,423 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 11:38:39,424 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 11:38:39,424 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:39,830 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:39,972 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:40,056 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:40,057 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 11:38:40,934 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:41,391 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:41,414 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:41,503 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:41,504 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 11:38:42,905 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:38:43,569 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:38:43,695 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:38:43,783 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:43,783 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 11:38:44,665 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:38:45,042 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:38:45,125 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:38:45,208 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:45,209 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 11:38:46,066 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:46,453 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:46,551 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:46,634 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:46,635 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 11:38:47,513 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 11:38:47,600 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 11:38:47,613 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 11:38:48,105 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 11:38:48,384 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 11:38:48,422 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 11:38:48,659 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 11:38:49,116 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 11:38:49,151 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 11:38:49,229 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:49,229 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 11:38:49,314 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:38:49,384 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:38:49,398 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:38:49,468 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:49,469 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 11:38:50,116 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:50,118 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:50,272 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:50,338 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:50,339 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 11:38:51,004 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:38:51,100 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:38:51,214 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:38:51,301 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:51,302 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 11:38:52,218 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 11:38:52,219 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 11:38:52,219 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 11:38:52,219 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 11:38:52,219 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:38:52,669 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:38:52,729 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:38:52,815 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:52,816 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 11:38:53,716 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:38:54,062 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:38:54,175 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:38:54,249 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:54,250 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 11:38:55,026 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:38:55,095 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:38:55,106 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:38:55,489 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:38:55,712 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:38:55,855 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:38:55,930 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:55,931 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:38:57,423 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:38:57,780 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:38:57,913 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:38:57,989 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:57,990 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:38:58,235 - bigdata_deploy_logger - INFO - 
2023-08-14 11:38:58,236 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 11:39:21,921 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:39:28,387 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:39:29,002 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:39:29,075 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:29,076 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 11:39:29,846 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:29,900 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:30,009 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:30,085 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:30,086 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 11:39:31,533 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:32,270 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:32,642 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:39:32,716 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:32,717 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 11:39:32,882 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:39:32,971 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:39:35,370 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:39:35,440 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:35,440 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 11:39:37,153 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:39:38,699 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:39:38,866 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:39:38,953 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:38,953 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 11:39:40,470 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:39:41,530 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:39:41,646 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:39:41,730 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:41,731 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:39:50,672 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.313234", "end": "2023-08-14 03:39:50.563778", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:39:42.250544", "stderr": "14 Aug 03:39:50 ntpdate[74707]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:39:50 ntpdate[74707]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:39:50,673 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:39:51,177 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.710153", "end": "2023-08-14 03:39:51.098736", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:39:42.388583", "stderr": "14 Aug 03:39:51 ntpdate[39712]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:39:51 ntpdate[39712]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:39:51,178 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:39:51,191 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.726617", "end": "2023-08-14 03:39:51.082349", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:39:42.355732", "stderr": "14 Aug 03:39:51 ntpdate[76169]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:39:51 ntpdate[76169]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:39:51,191 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:39:51,263 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:51,263 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:39:52,116 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:39:52,498 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:39:52,615 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:39:52,690 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:52,691 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 11:39:54,152 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:54,934 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:55,202 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:55,287 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:55,287 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 11:39:55,746 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:39:55,754 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:39:55,759 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:39:55,862 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:55,862 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:39:55,946 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:56,012 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:56,030 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:56,098 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:56,099 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:39:56,183 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:56,255 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:56,271 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:56,345 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:56,346 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:39:56,430 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:56,501 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:56,520 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:56,589 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:56,590 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 11:39:57,480 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 11:39:57,480 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 11:39:57,481 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 11:39:57,481 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 11:39:57,481 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:57,913 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:58,055 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:58,119 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:58,119 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:39:58,993 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:59,458 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:59,607 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:59,691 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:59,692 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:39:59,796 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:39:59,870 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:39:59,895 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:39:59,967 - bigdata_deploy_logger - INFO - 
2023-08-14 11:39:59,968 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 11:40:00,060 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:40:00,131 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:40:00,139 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:40:00,214 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:00,214 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 11:40:00,341 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:40:00,498 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:40:00,507 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:40:00,590 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:00,591 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:40:00,685 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:00,757 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:00,775 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:00,845 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:00,845 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:40:00,933 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:01,008 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:01,025 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:01,097 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:01,098 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:40:01,204 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:01,278 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:01,299 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:01,380 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:01,380 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 11:40:02,304 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:02,691 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:02,776 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:02,849 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:02,850 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:40:03,711 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:04,239 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:04,324 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:04,398 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:04,399 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:40:04,497 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:04,570 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:04,590 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:04,661 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:04,662 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 11:40:04,774 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:40:04,866 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:40:04,873 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:40:04,944 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:04,944 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 11:40:05,027 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:40:05,093 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:40:05,099 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:40:05,179 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:05,180 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:40:05,268 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:05,335 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:05,351 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:05,500 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:05,501 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:40:05,588 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:05,658 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:05,674 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:05,753 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:05,753 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:40:05,837 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:05,906 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:05,923 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:05,999 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:06,000 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 11:40:06,927 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:07,362 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:07,407 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:07,487 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:07,487 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:40:08,383 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:08,828 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:08,870 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:08,940 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:08,940 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:40:09,030 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:40:09,097 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:09,117 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:40:09,189 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:09,190 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 11:40:09,273 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:40:09,342 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:40:09,349 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:40:09,423 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:09,423 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 11:40:09,506 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:40:09,572 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:40:09,579 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:40:09,580 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:09,580 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 11:40:10,748 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 11:40:10,748 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 11:40:10,749 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 11:40:10,749 - bigdata_deploy_logger - INFO - this message.
2023-08-14 11:40:10,749 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:40:10,957 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:40:11,282 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:40:11,282 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:11,282 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 11:40:17,700 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:40:18,604 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:40:18,929 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:40:18,935 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:18,936 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 11:40:19,013 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:19,013 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:40:34,643 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:40:34,723 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:34,724 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 11:40:34,780 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 11:40:34,850 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:34,851 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 11:40:34,875 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:40:35,020 - bigdata_deploy_logger - INFO - 
2023-08-14 11:40:35,021 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 11:41:08,495 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,MySQL-python)
2023-08-14 11:41:08,578 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:08,579 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 11:41:08,601 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:41:08,673 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:08,673 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 11:41:08,695 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:41:08,767 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:08,767 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 11:41:08,789 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:41:08,860 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:08,861 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 11:41:08,883 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:41:08,951 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:08,951 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 11:41:09,849 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:41:09,988 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:09,989 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 11:41:10,662 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 11:41:10,663 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 11:41:10,663 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 11:41:10,663 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:41:10,735 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:10,736 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 11:41:12,228 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Could not find the requested service mysql: host"}
2023-08-14 11:41:12,229 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:12,229 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 11:41:12,230 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:12,230 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 11:41:12,230 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 11:41:12,231 - bigdata_deploy_logger - INFO - sdp1                       : ok=70   changed=30   unreachable=0    failed=1    skipped=18   rescued=0    ignored=1
2023-08-14 11:41:12,231 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:41:12,231 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:41:12,231 - bigdata_deploy_logger - INFO - 
2023-08-14 11:41:12,334 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 11:43:19,518 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:43:19,522 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 11:43:19,538 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:43:19,541 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 11:43:19,557 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:43:19,595 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:43:19,603 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:43:19,638 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:43:19,640 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 11:43:19,650 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:43:19,651 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:43:19,684 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:43:19,687 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:43:19,696 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:43:19,700 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:43:19,708 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:43:19,711 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:43:19,719 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:43:19,729 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:43:19,738 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:43:19,746 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:43:19,749 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:43:19,757 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:43:19,758 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:43:19,767 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:43:19,769 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 11:43:19,783 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 11:43:20,761 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 11:43:20,761 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 11:43:22,417 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:22,417 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 11:43:22,447 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:22,448 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 11:43:22,494 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:43:22,498 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:22,499 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 11:43:22,546 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:43:22,551 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:22,551 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 11:43:22,558 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:22,559 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 11:43:22,857 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:43:22,864 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:43:22,867 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:43:22,870 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:22,871 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 11:43:22,920 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:43:22,929 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:43:22,940 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:43:22,943 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:22,943 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 11:43:22,993 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:43:23,001 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:43:23,008 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:43:23,012 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:23,012 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 11:43:23,061 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:43:23,078 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:43:23,086 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:43:23,095 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:23,095 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 11:43:23,120 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:23,120 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:43:30,036 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:38,889 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:39,273 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:39,284 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:39,285 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 11:43:39,995 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:40,076 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:40,108 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:40,121 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:40,121 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 11:43:40,182 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 11:43:40,182 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 11:43:40,182 - bigdata_deploy_logger - INFO - }
2023-08-14 11:43:40,194 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 11:43:40,194 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 11:43:40,194 - bigdata_deploy_logger - INFO - }
2023-08-14 11:43:40,214 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 11:43:40,215 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 11:43:40,215 - bigdata_deploy_logger - INFO - }
2023-08-14 11:43:40,226 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:40,226 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 11:43:40,280 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:43:40,295 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:43:40,309 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:43:40,323 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:40,323 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 11:43:40,401 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:43:40,419 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:43:40,448 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:43:40,492 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:40,492 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 11:43:41,178 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:43:41,265 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:43:41,293 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:43:41,310 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:41,311 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 11:43:41,834 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:43:41,895 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:43:42,011 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:43:42,022 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:42,023 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 11:43:44,326 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:43:44,508 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:43:45,182 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:43:45,195 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:45,196 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 11:43:46,164 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 11:43:46,164 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 11:43:46,164 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 11:43:46,165 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:46,427 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:47,528 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:47,547 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:47,548 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 11:43:48,795 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:49,109 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:49,188 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:49,200 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:49,201 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 11:43:50,407 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:51,085 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:51,279 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:51,289 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:51,290 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 11:43:52,317 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:52,372 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:52,442 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:52,456 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:52,456 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 11:43:53,505 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:43:53,769 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:43:53,882 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:43:53,893 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:53,894 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 11:43:55,409 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:56,475 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:56,569 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:56,578 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:56,579 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 11:43:56,682 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 11:43:56,711 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:56,712 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 11:43:59,032 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:43:59,089 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:59,209 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:43:59,271 - bigdata_deploy_logger - INFO - 
2023-08-14 11:43:59,272 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 11:43:59,935 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:43:59,962 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:44:00,067 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:44:00,137 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:00,137 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 11:44:01,611 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:44:02,451 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:44:02,705 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:44:02,786 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:02,787 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 11:44:05,098 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:05,366 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:05,532 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:05,610 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:05,611 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 11:44:06,469 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:06,883 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:06,965 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:07,049 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:07,050 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 11:44:07,138 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:44:07,278 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:44:07,293 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:44:07,377 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:07,378 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 11:44:08,214 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:08,677 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:08,774 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:08,842 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:08,843 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 11:44:09,700 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 11:44:09,700 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 11:44:09,700 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 11:44:09,700 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 11:44:09,701 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:10,172 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:10,262 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:10,330 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:10,331 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 11:44:11,221 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:11,673 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:11,723 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:11,798 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:11,799 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 11:44:13,257 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:44:13,894 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:44:14,087 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:44:14,165 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:14,165 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 11:44:15,026 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:44:15,503 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:44:15,622 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:44:15,690 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:15,690 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 11:44:16,542 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:16,926 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:17,061 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:17,134 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:17,135 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 11:44:18,021 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 11:44:18,082 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 11:44:18,136 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 11:44:18,633 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 11:44:18,940 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 11:44:18,956 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 11:44:19,230 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 11:44:19,664 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 11:44:19,770 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 11:44:19,844 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:19,844 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 11:44:19,929 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:44:19,996 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:44:20,010 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:44:20,079 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:20,079 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 11:44:20,713 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:20,753 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:20,893 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:21,045 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:21,046 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 11:44:21,685 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:44:21,739 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:44:21,898 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:44:21,964 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:21,965 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 11:44:22,827 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 11:44:22,827 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 11:44:22,827 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 11:44:22,828 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 11:44:22,828 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:23,445 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:44:23,564 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:44:23,639 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:23,639 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 11:44:24,504 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:44:24,926 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:44:25,037 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:44:25,099 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:25,099 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 11:44:25,772 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:44:25,837 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:44:25,918 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:44:26,276 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:44:26,423 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:44:26,606 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:44:26,682 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:26,683 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:44:28,215 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:44:28,538 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:44:28,580 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:44:28,727 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:28,727 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:44:28,984 - bigdata_deploy_logger - INFO - 
2023-08-14 11:44:28,985 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 11:44:52,770 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:44:59,097 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:45:02,442 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:02,520 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:02,521 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 11:45:03,279 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:03,403 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:03,490 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:03,575 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:03,576 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 11:45:05,045 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:05,767 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:06,163 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:06,233 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:06,234 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 11:45:06,324 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:45:06,410 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:45:08,778 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:08,918 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:08,919 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 11:45:10,608 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:45:12,130 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:45:12,305 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:12,371 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:12,372 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 11:45:13,818 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:45:14,962 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:45:15,072 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:15,147 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:15,148 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:45:24,089 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.343645", "end": "2023-08-14 03:45:23.992231", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:45:15.648586", "stderr": "14 Aug 03:45:23 ntpdate[81193]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:45:23 ntpdate[81193]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:45:24,090 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:45:24,599 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.720585", "end": "2023-08-14 03:45:24.529333", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:45:15.808748", "stderr": "14 Aug 03:45:24 ntpdate[44016]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:45:24 ntpdate[44016]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:45:24,599 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:45:24,667 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.700498", "end": "2023-08-14 03:45:24.558774", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:45:15.858276", "stderr": "14 Aug 03:45:24 ntpdate[83655]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:45:24 ntpdate[83655]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:45:24,667 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:45:24,743 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:24,744 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:45:25,604 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:45:26,027 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:45:26,219 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:26,294 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:26,295 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 11:45:27,749 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:28,607 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:28,891 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:28,964 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:28,965 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 11:45:29,454 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:45:29,468 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:45:29,475 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:45:29,576 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:29,577 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:29,663 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:29,743 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:29,762 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:29,842 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:29,843 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:29,929 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:30,003 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:30,018 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:30,087 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:30,087 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:30,174 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:30,244 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:30,260 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:30,330 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:30,330 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 11:45:31,226 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 11:45:31,226 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 11:45:31,227 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 11:45:31,227 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 11:45:31,227 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:31,714 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:31,729 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:31,798 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:31,798 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:45:32,667 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:33,136 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:33,213 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:33,289 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:33,290 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:45:33,380 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:33,456 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:33,475 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:33,552 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:33,552 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 11:45:33,639 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:45:33,709 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:45:33,716 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:45:33,788 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:33,788 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 11:45:33,872 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:45:33,942 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:45:33,949 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:45:34,020 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:34,020 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:34,187 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:34,263 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:34,280 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:34,351 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:34,351 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:34,447 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:34,516 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:34,534 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:34,604 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:34,604 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:34,693 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:34,761 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:34,779 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:34,867 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:34,867 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 11:45:35,788 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:36,232 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:36,390 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:36,460 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:36,461 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:45:37,335 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:37,770 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:37,944 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:38,012 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:38,013 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:45:38,102 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:38,174 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:38,193 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:38,267 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:38,267 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 11:45:38,360 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:45:38,431 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:45:38,438 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:45:38,517 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:38,518 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 11:45:38,610 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:45:38,677 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:45:38,684 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:45:38,753 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:38,754 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:38,841 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:38,910 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:38,925 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:38,998 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:38,999 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:39,156 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:39,225 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:39,242 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:39,320 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:39,320 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:45:39,406 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:39,478 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:39,494 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:39,573 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:39,574 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 11:45:40,463 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:40,869 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:40,963 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:41,036 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:41,036 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:45:41,938 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:42,280 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:42,369 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:42,535 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:42,536 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:45:42,624 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:45:42,691 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:45:42,710 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:45:42,783 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:42,784 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 11:45:42,866 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:45:42,929 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:45:42,937 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:45:43,012 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:43,013 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 11:45:43,096 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:45:43,163 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:45:43,170 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:45:43,171 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:43,172 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 11:45:44,348 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 11:45:44,348 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 11:45:44,348 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 11:45:44,348 - bigdata_deploy_logger - INFO - this message.
2023-08-14 11:45:44,348 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:45:44,493 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:45:44,841 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:44,842 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:44,842 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 11:45:51,410 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:45:52,092 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:45:52,420 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:45:52,425 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:52,425 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 11:45:52,501 - bigdata_deploy_logger - INFO - 
2023-08-14 11:45:52,502 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:46:08,040 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:46:08,138 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:08,138 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 11:46:08,198 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 11:46:08,272 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:08,273 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 11:46:08,298 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:46:08,372 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:08,373 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 11:46:42,573 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,MySQL-python)
2023-08-14 11:46:42,651 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:42,652 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 11:46:42,677 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:46:42,832 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:42,833 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 11:46:42,856 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:46:42,948 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:42,949 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 11:46:42,972 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:46:43,042 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:43,042 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 11:46:43,065 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:46:43,139 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:43,140 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 11:46:43,910 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:46:43,984 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:43,985 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 11:46:44,665 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 11:46:44,665 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 11:46:44,665 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 11:46:44,665 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:46:44,751 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:44,752 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 11:46:46,234 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Could not find the requested service mysql: host"}
2023-08-14 11:46:46,234 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:46:46,321 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:46,322 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 11:46:47,818 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Could not find the requested service mysql: host"}
2023-08-14 11:46:47,818 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:47,818 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 11:46:47,819 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:47,820 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 11:46:47,820 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 11:46:47,820 - bigdata_deploy_logger - INFO - sdp1                       : ok=71   changed=30   unreachable=0    failed=1    skipped=18   rescued=0    ignored=2
2023-08-14 11:46:47,821 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:46:47,821 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 11:46:47,821 - bigdata_deploy_logger - INFO - 
2023-08-14 11:46:47,950 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 11:56:57,981 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:56:57,983 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 11:56:57,992 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:56:57,993 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 11:56:58,002 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:56:58,033 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:56:58,041 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:56:58,072 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:56:58,074 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 11:56:58,082 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:56:58,083 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:56:58,115 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 11:56:58,118 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:56:58,128 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:56:58,132 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:56:58,141 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:56:58,145 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 11:56:58,159 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:56:58,172 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:56:58,181 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 11:56:58,189 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:56:58,193 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 11:56:58,201 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 11:56:58,202 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 11:56:58,211 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 11:56:58,214 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 11:56:58,229 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 11:56:59,162 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 11:56:59,163 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 11:57:00,761 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:00,761 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 11:57:00,791 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:00,791 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 11:57:00,841 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:57:00,845 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:00,845 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 11:57:00,904 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 11:57:00,908 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:00,909 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 11:57:00,914 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:00,915 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 11:57:01,191 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:01,225 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:01,228 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:01,232 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:01,232 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 11:57:01,282 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:57:01,294 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:57:01,297 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:57:01,300 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:01,301 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 11:57:01,350 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:57:01,359 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:57:01,364 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:57:01,370 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:01,370 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 11:57:01,421 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:57:01,432 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:57:01,441 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:57:01,446 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:01,446 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 11:57:01,473 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:01,474 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:57:08,212 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:17,322 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:17,586 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:17,600 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:17,601 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 11:57:18,339 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:18,410 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:18,442 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:18,456 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:18,457 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 11:57:18,510 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 11:57:18,511 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 11:57:18,511 - bigdata_deploy_logger - INFO - }
2023-08-14 11:57:18,531 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 11:57:18,532 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 11:57:18,532 - bigdata_deploy_logger - INFO - }
2023-08-14 11:57:18,553 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 11:57:18,553 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 11:57:18,553 - bigdata_deploy_logger - INFO - }
2023-08-14 11:57:18,568 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:18,569 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 11:57:18,626 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:57:18,641 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:57:18,663 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:57:18,675 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:18,676 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 11:57:18,759 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:57:18,776 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:57:18,801 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 11:57:18,848 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:18,848 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 11:57:19,537 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:19,635 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:19,677 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:19,691 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:19,691 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 11:57:20,186 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:20,327 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:20,342 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:20,354 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:20,354 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 11:57:22,675 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:22,885 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:23,303 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:23,316 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:23,317 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 11:57:24,362 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 11:57:24,363 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 11:57:24,363 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 11:57:24,363 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:24,634 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:24,750 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:24,761 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:24,762 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 11:57:26,008 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:26,263 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:26,397 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:26,409 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:26,409 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 11:57:27,562 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:28,225 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:28,367 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:28,380 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:28,381 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 11:57:29,384 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:29,481 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:29,507 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:29,521 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:29,521 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 11:57:30,515 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:30,819 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:30,940 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:30,953 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:30,953 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 11:57:32,507 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:33,483 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:33,619 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:33,630 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:33,630 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 11:57:33,731 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 11:57:33,762 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:33,763 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 11:57:36,169 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:36,194 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:36,278 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:36,335 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:36,336 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 11:57:36,952 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:36,984 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:37,106 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:37,175 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:37,175 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 11:57:38,756 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:57:39,447 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:57:39,660 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:57:39,748 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:39,749 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 11:57:42,080 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:42,311 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:42,508 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:42,580 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:42,581 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 11:57:43,451 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:43,856 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:43,945 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:44,022 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:44,023 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 11:57:44,114 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:57:44,181 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:57:44,194 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:57:44,264 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:44,265 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 11:57:45,102 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:45,514 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:45,640 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:45,715 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:45,716 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 11:57:46,680 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 11:57:46,680 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 11:57:46,680 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 11:57:46,680 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 11:57:46,681 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:46,974 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:47,072 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:47,137 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:47,138 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 11:57:48,019 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:48,402 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:48,499 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:48,572 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:48,573 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 11:57:50,667 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:57:50,682 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:57:50,796 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 11:57:50,865 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:50,866 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 11:57:51,778 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:57:52,173 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:57:52,254 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 11:57:52,326 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:52,327 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 11:57:53,195 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:53,777 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:53,839 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:53,911 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:53,911 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 11:57:54,814 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 11:57:54,922 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 11:57:54,931 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 11:57:55,386 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 11:57:55,671 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 11:57:55,702 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 11:57:55,944 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 11:57:56,394 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 11:57:56,520 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 11:57:56,594 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:56,594 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 11:57:56,685 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:57:56,756 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:57:56,768 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:57:56,842 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:56,842 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 11:57:57,443 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:57:57,613 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:57:57,741 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:57:57,812 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:57,813 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 11:57:58,479 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:57:58,497 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:57:58,600 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 11:57:58,674 - bigdata_deploy_logger - INFO - 
2023-08-14 11:57:58,675 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 11:57:59,617 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 11:57:59,618 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 11:57:59,618 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 11:57:59,618 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 11:57:59,618 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:58:00,087 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:58:00,197 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:58:00,263 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:00,264 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 11:58:01,168 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:58:01,623 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:58:01,759 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 11:58:01,842 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:01,843 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 11:58:02,545 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:58:02,612 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:58:02,635 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 11:58:03,019 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:58:03,193 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:58:03,285 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 11:58:03,360 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:03,360 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:58:04,847 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:58:05,138 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:58:05,256 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 11:58:05,324 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:05,325 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 11:58:05,631 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:05,632 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 11:58:29,311 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:58:35,654 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:58:38,951 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:58:39,029 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:39,029 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 11:58:39,820 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:58:39,903 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:58:40,012 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:58:40,090 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:40,091 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 11:58:41,556 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:58:42,314 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:58:42,680 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:58:42,751 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:42,752 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 11:58:42,845 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:58:42,935 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:58:45,248 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:58:45,317 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:45,318 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 11:58:47,170 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:58:48,628 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:58:48,776 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:58:48,842 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:48,843 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 11:58:50,274 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:58:51,402 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:58:51,504 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:58:51,613 - bigdata_deploy_logger - INFO - 
2023-08-14 11:58:51,613 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:59:00,586 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.348386", "end": "2023-08-14 03:59:00.484463", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:58:52.136077", "stderr": "14 Aug 03:59:00 ntpdate[87808]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:59:00 ntpdate[87808]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:59:00,586 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:59:00,997 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.702571", "end": "2023-08-14 03:59:00.911112", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:58:52.208541", "stderr": "14 Aug 03:59:00 ntpdate[48520]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:59:00 ntpdate[48520]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:59:00,997 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:59:01,070 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.692037", "end": "2023-08-14 03:59:00.963204", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 03:58:52.271167", "stderr": "14 Aug 03:59:00 ntpdate[91384]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 03:59:00 ntpdate[91384]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 11:59:01,070 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 11:59:01,142 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:01,142 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 11:59:01,998 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:59:02,499 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:59:02,657 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:59:02,740 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:02,741 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 11:59:04,222 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:04,873 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:05,181 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:05,257 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:05,258 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 11:59:05,754 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:59:05,764 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:59:05,772 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 11:59:05,873 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:05,873 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:05,963 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:06,041 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:06,058 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:06,133 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:06,134 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:06,222 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:06,290 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:06,308 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:06,386 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:06,387 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:06,476 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:06,543 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:06,560 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:06,633 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:06,634 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 11:59:07,546 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 11:59:07,546 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 11:59:07,546 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 11:59:07,547 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 11:59:07,547 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:07,985 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:08,145 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:08,208 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:08,209 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:59:09,027 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:09,453 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:09,596 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:09,672 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:09,673 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:59:09,763 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:09,839 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:09,863 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:09,939 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:09,939 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 11:59:10,027 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:59:10,099 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:59:10,107 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:59:10,178 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:10,179 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 11:59:10,277 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:59:10,354 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:59:10,360 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:59:10,430 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:10,430 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:10,592 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:10,667 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:10,684 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:10,756 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:10,757 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:10,845 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:10,919 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:10,935 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:11,009 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:11,010 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:11,109 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:11,181 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:11,199 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:11,268 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:11,268 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 11:59:12,186 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:12,725 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:12,834 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:12,898 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:12,898 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:59:13,769 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:14,135 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:14,256 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:14,336 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:14,337 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:59:14,430 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:14,500 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:14,522 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:14,604 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:14,605 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 11:59:14,697 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:59:14,776 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:59:14,783 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:59:14,859 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:14,859 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 11:59:14,946 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:59:15,014 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:59:15,021 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:59:15,092 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:15,093 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:15,179 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:15,249 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:15,266 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:15,341 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:15,342 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:15,448 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:15,615 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:15,631 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:15,712 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:15,712 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 11:59:15,799 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:15,870 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:15,892 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:15,973 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:15,974 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 11:59:16,918 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:17,283 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:17,391 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:17,460 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:17,461 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 11:59:18,304 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:18,813 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:18,914 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:19,057 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:19,057 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 11:59:19,149 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 11:59:19,222 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:19,241 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 11:59:19,322 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:19,323 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 11:59:19,406 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:59:19,476 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:59:19,483 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:59:19,555 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:19,556 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 11:59:19,642 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 11:59:19,709 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:59:19,717 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 11:59:19,718 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:19,718 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 11:59:20,890 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 11:59:20,890 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 11:59:20,890 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 11:59:20,890 - bigdata_deploy_logger - INFO - this message.
2023-08-14 11:59:20,891 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:59:21,053 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:59:21,437 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:59:21,439 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:21,439 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 11:59:27,882 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 11:59:28,714 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 11:59:29,185 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 11:59:29,192 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:29,192 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 11:59:29,275 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:29,276 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 11:59:44,885 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 11:59:44,972 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:44,973 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 11:59:45,025 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 11:59:45,113 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:45,114 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 11:59:45,140 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 11:59:45,219 - bigdata_deploy_logger - INFO - 
2023-08-14 11:59:45,220 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 12:00:19,594 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,MySQL-python)
2023-08-14 12:00:19,674 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:19,675 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 12:00:19,700 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:00:19,854 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:19,855 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 12:00:19,878 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:00:19,951 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:19,951 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 12:00:19,973 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:00:20,047 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:20,047 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 12:00:20,070 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:00:20,141 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:20,142 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 12:00:20,979 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:00:21,051 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:21,052 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 12:00:21,754 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 12:00:21,755 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 12:00:21,755 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 12:00:21,755 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:00:21,832 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:21,833 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 12:00:23,955 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:00:24,028 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:24,029 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 12:00:30,962 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:00:30,963 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 12:00:30,963 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:30,963 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 12:00:35,156 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:00:35,293 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:35,294 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 12:00:35,412 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 12:00:35,478 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:35,479 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (mysql)] **************************************
2023-08-14 12:00:36,341 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "unable to find /root/.my.cnf. Exception message: (1045, \"Access denied for user 'root'@'localhost' (using password: NO)\")"}
2023-08-14 12:00:36,341 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:36,341 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 12:00:36,342 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:36,343 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 12:00:36,343 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 12:00:36,343 - bigdata_deploy_logger - INFO - sdp1                       : ok=74   changed=32   unreachable=0    failed=1    skipped=18   rescued=0    ignored=1
2023-08-14 12:00:36,343 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 12:00:36,344 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 12:00:36,344 - bigdata_deploy_logger - INFO - 
2023-08-14 12:00:36,457 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 12:18:09,508 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:18:09,511 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 12:18:09,522 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:18:09,524 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 12:18:09,534 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:18:09,577 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 12:18:09,585 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:18:09,623 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 12:18:09,624 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 12:18:09,634 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 12:18:09,635 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 12:18:09,680 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 12:18:09,683 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 12:18:09,694 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:18:09,697 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 12:18:09,707 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 12:18:09,711 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 12:18:09,718 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:18:09,732 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:18:09,741 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 12:18:09,749 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:18:09,753 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 12:18:09,763 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:18:09,765 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 12:18:09,776 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:18:09,778 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 12:18:09,794 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 12:18:10,698 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 12:18:10,698 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 12:18:12,304 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,305 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 12:18:12,335 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,336 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 12:18:12,389 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 12:18:12,394 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,394 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 12:18:12,442 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 12:18:12,447 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,447 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 12:18:12,453 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,454 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 12:18:12,747 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:18:12,760 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:18:12,770 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:18:12,773 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,773 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 12:18:12,822 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:18:12,829 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:18:12,839 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:18:12,843 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,843 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 12:18:12,889 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:18:12,897 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:18:12,904 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:18:12,908 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,909 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 12:18:12,956 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:18:12,963 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:18:12,972 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:18:12,976 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:12,976 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 12:18:13,001 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:13,001 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 12:18:19,820 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:29,242 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:30,564 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:30,577 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:30,578 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 12:18:31,413 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:31,518 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:31,770 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:31,783 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:31,784 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 12:18:31,833 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 12:18:31,833 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 12:18:31,833 - bigdata_deploy_logger - INFO - }
2023-08-14 12:18:31,850 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 12:18:31,851 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 12:18:31,851 - bigdata_deploy_logger - INFO - }
2023-08-14 12:18:31,881 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 12:18:31,882 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 12:18:31,882 - bigdata_deploy_logger - INFO - }
2023-08-14 12:18:31,893 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:31,894 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 12:18:31,941 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:18:31,959 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:18:31,980 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:18:31,993 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:31,994 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 12:18:32,068 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 12:18:32,085 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 12:18:32,114 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 12:18:32,167 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:32,168 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 12:18:32,926 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:18:32,972 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:18:33,065 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:18:33,079 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:33,080 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 12:18:33,684 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:18:33,698 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:18:33,874 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:18:33,886 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:33,886 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 12:18:36,239 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:18:36,560 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:18:37,089 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:18:37,102 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:37,103 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 12:18:38,011 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 12:18:38,011 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 12:18:38,011 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 12:18:38,011 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:38,391 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:38,535 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:38,548 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:38,549 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 12:18:39,865 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:40,143 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:40,252 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:40,262 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:40,263 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 12:18:41,450 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:42,128 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:42,286 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:42,304 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:42,304 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 12:18:43,286 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:43,388 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:43,413 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:43,430 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:43,431 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 12:18:44,474 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:18:44,702 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:18:44,862 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:18:44,882 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:44,883 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 12:18:46,448 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:47,497 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:47,593 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:47,605 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:47,606 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 12:18:47,707 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 12:18:47,737 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:47,738 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 12:18:50,068 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:50,253 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:50,280 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:50,346 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:50,347 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 12:18:51,031 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:51,108 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:51,224 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:51,297 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:51,298 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 12:18:52,815 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:18:53,762 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:18:53,872 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:18:53,947 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:53,948 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 12:18:56,552 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:18:56,751 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:18:57,000 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:18:57,087 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:57,087 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 12:18:57,965 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:18:58,452 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:18:58,558 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:18:58,627 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:58,627 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 12:18:58,783 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:18:58,850 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:18:58,863 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:18:58,934 - bigdata_deploy_logger - INFO - 
2023-08-14 12:18:58,935 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 12:18:59,794 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:19:00,274 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:19:00,407 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:19:00,491 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:00,492 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 12:19:01,369 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 12:19:01,369 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 12:19:01,370 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 12:19:01,370 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 12:19:01,370 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:19:01,901 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:19:02,074 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:19:02,146 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:02,147 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 12:19:03,025 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:19:03,650 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:19:03,725 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:19:03,795 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:03,796 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 12:19:05,257 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 12:19:05,937 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 12:19:06,638 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 12:19:06,711 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:06,712 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 12:19:07,565 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 12:19:08,125 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 12:19:08,258 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 12:19:08,334 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:08,335 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 12:19:09,191 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:19:09,712 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:19:09,852 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:19:09,917 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:09,917 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 12:19:10,841 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 12:19:10,848 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 12:19:10,962 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 12:19:11,590 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 12:19:11,735 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 12:19:11,894 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 12:19:12,247 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 12:19:12,489 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 12:19:12,814 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 12:19:12,892 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:12,893 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 12:19:12,990 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:19:13,060 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:19:13,075 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:19:13,145 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:13,146 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 12:19:13,764 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:19:13,941 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:19:14,115 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:19:14,181 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:14,182 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 12:19:14,836 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 12:19:14,966 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 12:19:15,069 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 12:19:15,141 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:15,142 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 12:19:16,024 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 12:19:16,024 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 12:19:16,025 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 12:19:16,025 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 12:19:16,025 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:19:16,561 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:19:16,736 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:19:16,813 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:16,814 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 12:19:17,656 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 12:19:18,275 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 12:19:18,372 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 12:19:18,453 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:18,454 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 12:19:19,239 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 12:19:19,244 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 12:19:19,347 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 12:19:19,814 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 12:19:19,860 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 12:19:20,151 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 12:19:20,225 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:20,226 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 12:19:21,675 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 12:19:22,237 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 12:19:22,353 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 12:19:22,436 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:22,436 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 12:19:22,759 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:22,760 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 12:19:46,499 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:19:54,209 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:19:59,052 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:19:59,122 - bigdata_deploy_logger - INFO - 
2023-08-14 12:19:59,123 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 12:19:59,892 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:00,069 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:00,232 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:00,302 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:00,303 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 12:20:01,797 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:02,737 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:03,232 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:20:03,305 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:03,305 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 12:20:03,395 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:20:03,480 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:20:06,064 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:20:06,140 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:06,141 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 12:20:07,893 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:20:09,495 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:20:09,724 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:20:09,803 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:09,804 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 12:20:11,266 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:20:12,487 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:20:12,699 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:20:12,846 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:12,847 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 12:20:21,827 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.357957", "end": "2023-08-14 04:20:21.721623", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 04:20:13.363666", "stderr": "14 Aug 04:20:21 ntpdate[94570]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 04:20:21 ntpdate[94570]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 12:20:21,827 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 12:20:22,309 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.732900", "end": "2023-08-14 04:20:22.223649", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 04:20:13.490749", "stderr": "14 Aug 04:20:22 ntpdate[53195]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 04:20:22 ntpdate[53195]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 12:20:22,309 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 12:20:22,525 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.759764", "end": "2023-08-14 04:20:22.411910", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 04:20:13.652146", "stderr": "14 Aug 04:20:22 ntpdate[99677]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 04:20:22 ntpdate[99677]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 12:20:22,525 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 12:20:22,600 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:22,601 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 12:20:23,435 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:20:23,921 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:20:24,114 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:20:24,184 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:24,185 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 12:20:25,661 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:26,443 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:26,824 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:26,990 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:26,990 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 12:20:27,396 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 12:20:27,404 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 12:20:27,411 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 12:20:27,521 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:27,522 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:27,610 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:27,680 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:27,695 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:27,766 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:27,767 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:27,871 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:27,944 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:27,961 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:28,031 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:28,032 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:28,123 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:28,195 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:28,212 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:28,283 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:28,283 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 12:20:29,214 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 12:20:29,214 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 12:20:29,215 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 12:20:29,215 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 12:20:29,215 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:29,781 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:29,834 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:29,925 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:29,926 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 12:20:30,827 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:31,348 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:31,460 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:31,527 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:31,528 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 12:20:31,617 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:31,687 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:31,707 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:31,780 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:31,780 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 12:20:31,866 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:20:31,935 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:20:31,943 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:20:32,086 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:32,087 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 12:20:32,175 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:20:32,241 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:20:32,249 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:20:32,322 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:32,323 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:32,412 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:32,479 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:32,502 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:32,581 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:32,582 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:32,671 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:32,744 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:32,761 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:32,833 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:32,833 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:32,920 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:32,992 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:33,009 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:33,086 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:33,087 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 12:20:33,996 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:34,525 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:34,626 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:34,695 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:34,696 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 12:20:35,492 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:36,087 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:36,175 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:36,252 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:36,253 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 12:20:36,342 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:36,410 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:36,430 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:36,507 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:36,508 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 12:20:36,594 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:20:36,658 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:20:36,666 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:20:36,739 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:36,739 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 12:20:36,830 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:20:36,898 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:20:36,905 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:20:37,050 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:37,051 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:37,139 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:37,211 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:37,228 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:37,304 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:37,305 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:37,399 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:37,470 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:37,486 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:37,562 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:37,562 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:20:37,657 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:37,727 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:37,744 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:37,845 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:37,846 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 12:20:38,727 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:39,272 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:39,378 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:39,446 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:39,447 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 12:20:40,350 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:40,883 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:40,885 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:40,967 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:40,968 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 12:20:41,060 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:20:41,128 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:20:41,150 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:20:41,219 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:41,219 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 12:20:41,304 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:20:41,371 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:20:41,379 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:20:41,451 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:41,452 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 12:20:41,532 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:20:41,598 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:20:41,607 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:20:41,609 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:41,609 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 12:20:42,805 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 12:20:42,806 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 12:20:42,806 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 12:20:42,806 - bigdata_deploy_logger - INFO - this message.
2023-08-14 12:20:42,806 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:20:43,114 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:20:43,423 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:20:43,423 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:43,424 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 12:20:49,602 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:20:50,523 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:20:51,070 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:20:51,078 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:51,078 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 12:20:51,164 - bigdata_deploy_logger - INFO - 
2023-08-14 12:20:51,165 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 12:21:07,190 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:21:07,268 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:07,269 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 12:21:07,326 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 12:21:07,397 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:07,398 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 12:21:07,423 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:21:07,504 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:07,505 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 12:21:44,249 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,MySQL-python)
2023-08-14 12:21:44,326 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:44,327 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 12:21:44,352 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:21:44,429 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:44,430 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 12:21:44,453 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:21:44,549 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:44,549 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 12:21:44,578 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:21:44,665 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:44,666 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 12:21:44,695 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:21:44,786 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:44,787 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 12:21:45,690 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:21:45,768 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:45,769 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 12:21:46,448 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 12:21:46,448 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 12:21:46,448 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 12:21:46,448 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:21:46,516 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:46,517 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 12:21:48,593 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:21:48,674 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:48,675 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 12:21:51,330 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:21:51,331 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 12:21:51,332 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:51,332 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 12:21:55,740 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:21:55,817 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:55,818 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 12:21:55,920 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 12:21:55,995 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:55,996 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (mysql)] **************************************
2023-08-14 12:21:56,998 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "unable to find /root/.my.cnf. Exception message: (1045, \"Access denied for user 'root'@'localhost' (using password: NO)\")"}
2023-08-14 12:21:56,998 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:56,998 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 12:21:56,999 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:57,000 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 12:21:57,000 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 12:21:57,000 - bigdata_deploy_logger - INFO - sdp1                       : ok=74   changed=32   unreachable=0    failed=1    skipped=18   rescued=0    ignored=1
2023-08-14 12:21:57,000 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 12:21:57,001 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 12:21:57,001 - bigdata_deploy_logger - INFO - 
2023-08-14 12:21:57,110 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 12:30:59,667 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:30:59,670 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 12:30:59,680 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:30:59,681 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 12:30:59,690 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:30:59,723 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 12:30:59,731 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:30:59,765 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 12:30:59,766 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 12:30:59,776 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 12:30:59,778 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 12:30:59,820 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 12:30:59,824 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 12:30:59,833 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:30:59,837 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 12:30:59,846 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 12:30:59,849 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 12:30:59,857 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:30:59,867 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:30:59,877 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 12:30:59,885 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:30:59,889 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 12:30:59,897 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 12:30:59,898 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 12:30:59,907 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 12:30:59,909 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 12:30:59,925 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 12:31:00,763 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 12:31:00,763 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 12:31:02,379 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:02,380 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 12:31:02,409 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:02,409 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 12:31:02,459 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 12:31:02,468 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:02,468 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 12:31:02,516 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 12:31:02,519 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:02,520 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 12:31:02,526 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:02,526 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 12:31:02,819 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:02,830 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:02,866 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:02,872 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:02,872 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 12:31:02,917 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:31:02,926 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:31:02,932 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:31:02,936 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:02,936 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 12:31:02,987 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:31:02,999 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:31:03,007 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:31:03,011 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:03,011 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 12:31:03,059 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:31:03,067 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:31:03,076 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:31:03,080 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:03,080 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 12:31:03,107 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:03,107 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 12:31:09,853 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:19,470 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:19,677 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:19,688 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:19,689 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 12:31:20,504 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:20,514 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:20,660 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:20,676 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:20,676 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 12:31:20,724 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 12:31:20,725 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 12:31:20,725 - bigdata_deploy_logger - INFO - }
2023-08-14 12:31:20,752 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 12:31:20,752 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 12:31:20,752 - bigdata_deploy_logger - INFO - }
2023-08-14 12:31:20,768 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 12:31:20,769 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 12:31:20,769 - bigdata_deploy_logger - INFO - }
2023-08-14 12:31:20,782 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:20,783 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 12:31:20,828 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:31:20,846 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:31:20,868 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:31:20,880 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:20,881 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 12:31:20,953 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 12:31:20,971 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 12:31:20,993 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 12:31:21,032 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:21,033 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 12:31:21,792 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:21,825 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:21,950 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:21,968 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:21,968 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 12:31:22,560 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:22,583 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:22,802 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:22,822 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:22,823 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 12:31:25,275 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:25,639 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:26,103 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:26,120 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:26,121 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 12:31:27,133 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 12:31:27,134 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 12:31:27,134 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 12:31:27,134 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:27,545 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:27,643 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:27,662 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:27,663 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 12:31:28,912 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:29,342 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:29,547 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:29,560 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:29,561 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 12:31:30,745 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:31,520 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:31,701 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:31,716 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:31,717 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 12:31:32,783 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:32,786 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:32,867 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:32,881 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:32,882 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 12:31:33,925 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:34,342 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:34,393 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:34,406 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:34,407 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 12:31:35,992 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:37,049 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:37,272 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:37,287 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:37,287 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 12:31:37,394 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 12:31:37,427 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:37,428 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 12:31:39,809 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:39,855 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:40,001 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:40,069 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:40,069 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 12:31:40,766 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:40,807 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:40,895 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:40,968 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:40,969 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 12:31:42,450 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:31:43,245 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:31:43,432 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:31:43,516 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:43,517 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 12:31:46,420 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:46,654 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:46,885 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:46,960 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:46,961 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 12:31:47,787 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:48,278 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:48,416 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:48,493 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:48,494 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 12:31:48,580 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:31:48,725 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:31:48,738 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:31:48,811 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:48,811 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 12:31:49,682 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:50,088 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:50,247 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:50,312 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:50,313 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 12:31:51,231 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 12:31:51,231 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 12:31:51,232 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 12:31:51,232 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 12:31:51,232 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:51,722 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:51,775 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:51,844 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:51,844 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 12:31:52,691 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:53,296 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:53,317 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:53,386 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:53,387 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 12:31:54,822 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 12:31:55,592 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 12:31:55,726 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 12:31:55,801 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:55,802 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 12:31:56,661 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 12:31:57,194 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 12:31:57,340 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 12:31:57,415 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:57,416 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 12:31:58,243 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:31:58,814 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:31:58,930 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:31:58,993 - bigdata_deploy_logger - INFO - 
2023-08-14 12:31:58,994 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 12:31:59,885 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 12:31:59,987 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 12:32:00,070 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 12:32:00,697 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 12:32:00,716 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 12:32:00,942 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 12:32:01,355 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 12:32:01,419 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 12:32:01,826 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 12:32:01,907 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:01,907 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 12:32:02,024 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:32:02,091 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:32:02,104 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:32:02,172 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:02,173 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 12:32:02,841 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:32:02,878 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:32:03,082 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:32:03,154 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:03,155 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 12:32:03,796 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 12:32:03,896 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 12:32:04,051 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 12:32:04,124 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:04,124 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 12:32:05,048 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 12:32:05,049 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 12:32:05,049 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 12:32:05,049 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 12:32:05,049 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:32:05,603 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:32:05,737 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:32:05,803 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:05,804 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 12:32:06,676 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 12:32:07,286 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 12:32:07,388 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 12:32:07,462 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:07,462 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 12:32:08,215 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 12:32:08,241 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 12:32:08,356 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 12:32:08,812 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 12:32:08,826 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 12:32:09,124 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 12:32:09,205 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:09,206 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 12:32:10,705 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 12:32:11,106 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 12:32:11,319 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 12:32:11,484 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:11,485 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 12:32:11,730 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:11,731 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 12:32:35,308 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:32:42,277 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:32:49,662 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:32:49,736 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:49,736 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 12:32:50,547 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:32:50,711 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:32:50,815 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:32:50,885 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:50,886 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 12:32:52,323 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:32:53,313 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:32:53,782 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:32:53,856 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:53,857 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 12:32:53,943 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:32:54,041 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:32:56,640 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:32:56,707 - bigdata_deploy_logger - INFO - 
2023-08-14 12:32:56,708 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 12:32:58,423 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:33:00,243 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:33:00,403 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:33:00,489 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:00,489 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 12:33:01,984 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:33:03,191 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:33:03,374 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:33:03,445 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:03,446 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 12:33:12,388 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.334137", "end": "2023-08-14 04:33:12.282961", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 04:33:03.948824", "stderr": "14 Aug 04:33:12 ntpdate[101158]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 04:33:12 ntpdate[101158]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 12:33:12,388 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 12:33:12,887 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.732483", "end": "2023-08-14 04:33:12.792498", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 04:33:04.060015", "stderr": "14 Aug 04:33:12 ntpdate[57666]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 04:33:12 ntpdate[57666]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 12:33:12,887 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 12:33:13,075 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.748238", "end": "2023-08-14 04:33:12.934681", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 04:33:04.186443", "stderr": "14 Aug 04:33:12 ntpdate[107777]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 04:33:12 ntpdate[107777]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 12:33:13,075 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 12:33:13,239 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:13,240 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 12:33:14,038 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:33:14,600 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:33:14,741 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:33:14,815 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:14,816 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 12:33:16,263 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:17,111 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:17,407 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:17,484 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:17,485 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 12:33:17,978 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 12:33:17,989 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 12:33:17,994 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 12:33:18,091 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:18,091 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:18,176 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:18,242 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:18,258 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:18,332 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:18,332 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:18,425 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:18,493 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:18,509 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:18,581 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:18,582 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:18,668 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:18,739 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:18,755 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:18,828 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:18,828 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 12:33:19,751 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 12:33:19,751 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 12:33:19,751 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 12:33:19,751 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 12:33:19,751 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:20,371 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:20,502 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:20,576 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:20,577 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 12:33:21,457 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:21,929 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:22,125 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:22,197 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:22,197 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 12:33:22,287 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:22,358 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:22,378 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:22,450 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:22,450 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 12:33:22,533 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:33:22,601 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:33:22,608 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:33:22,694 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:22,694 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 12:33:22,780 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:33:22,935 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:33:22,942 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:33:23,015 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:23,015 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:23,102 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:23,174 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:23,191 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:23,263 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:23,264 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:23,354 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:23,422 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:23,438 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:23,512 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:23,512 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:23,604 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:23,675 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:23,693 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:23,767 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:23,767 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 12:33:24,653 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:25,197 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:25,398 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:25,550 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:25,551 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 12:33:26,441 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:26,928 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:27,096 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:27,172 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:27,173 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 12:33:27,263 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:27,338 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:27,359 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:27,428 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:27,429 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 12:33:27,512 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:33:27,579 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:33:27,586 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:33:27,662 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:27,663 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 12:33:27,755 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:33:27,819 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:33:27,827 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:33:27,919 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:27,919 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:28,018 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:28,171 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:28,188 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:28,261 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:28,262 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:28,347 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:28,439 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:28,455 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:28,526 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:28,527 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 12:33:28,618 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:28,691 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:28,707 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:28,779 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:28,779 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 12:33:29,669 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:30,191 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:30,244 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:30,313 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:30,314 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 12:33:31,211 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:31,725 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:31,768 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:31,839 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:31,840 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 12:33:31,946 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 12:33:32,015 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:32,038 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 12:33:32,108 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:32,109 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 12:33:32,208 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:33:32,278 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:33:32,285 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:33:32,363 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:32,364 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 12:33:32,450 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 12:33:32,518 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:33:32,525 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 12:33:32,526 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:32,527 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 12:33:33,707 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 12:33:33,708 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 12:33:33,708 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 12:33:33,708 - bigdata_deploy_logger - INFO - this message.
2023-08-14 12:33:33,708 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:33:33,979 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:33:34,339 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:33:34,340 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:34,340 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 12:33:40,772 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 12:33:41,703 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 12:33:42,054 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:33:42,059 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:42,060 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 12:33:42,144 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:42,144 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 12:33:57,817 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:33:57,895 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:57,895 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 12:33:57,948 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 12:33:58,020 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:58,021 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 12:33:58,045 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:33:58,194 - bigdata_deploy_logger - INFO - 
2023-08-14 12:33:58,195 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 12:34:32,588 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,MySQL-python)
2023-08-14 12:34:32,662 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:32,663 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 12:34:32,688 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:34:32,761 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:32,761 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 12:34:32,783 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:34:32,859 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:32,859 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 12:34:32,881 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:34:32,952 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:32,953 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 12:34:32,975 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 12:34:33,046 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:33,047 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 12:34:34,076 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:34:34,153 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:34,153 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 12:34:34,976 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 12:34:34,976 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 12:34:34,977 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 12:34:34,977 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:34:35,117 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:35,117 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 12:34:37,353 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 12:34:37,426 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:37,427 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 12:34:40,047 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:34:40,048 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 12:34:40,048 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:40,048 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 12:34:44,615 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 12:34:44,706 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:44,707 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 12:34:44,817 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 12:34:44,893 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:44,893 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (mysql)] **************************************
2023-08-14 12:34:45,807 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (mysql_db) module: host_all Supported parameters include: ca_cert, client_cert, client_key, collation, config_file, connect_timeout, encoding, ignore_tables, login_host, login_password, login_port, login_unix_socket, login_user, name, quick, single_transaction, state, target"}
2023-08-14 12:34:45,808 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:45,808 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 12:34:45,808 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:45,808 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 12:34:45,809 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 12:34:45,809 - bigdata_deploy_logger - INFO - sdp1                       : ok=74   changed=32   unreachable=0    failed=1    skipped=18   rescued=0    ignored=1
2023-08-14 12:34:45,809 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 12:34:45,809 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 12:34:45,809 - bigdata_deploy_logger - INFO - 
2023-08-14 12:34:45,929 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 16:17:53,062 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 16:17:53,064 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 16:17:53,077 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 16:17:53,078 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 16:17:53,088 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 16:17:53,121 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 16:17:53,130 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 16:17:53,164 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 16:17:53,166 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 16:17:53,177 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 16:17:53,178 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 16:17:53,209 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 16:17:53,212 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 16:17:53,222 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 16:17:53,226 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 16:17:53,235 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 16:17:53,238 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 16:17:53,246 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 16:17:53,256 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 16:17:53,265 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 16:17:53,273 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 16:17:53,277 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 16:17:53,286 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 16:17:53,287 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 16:17:53,298 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 16:17:53,300 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 16:17:53,315 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 16:17:54,225 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 16:17:54,226 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 16:17:55,845 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:55,846 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 16:17:55,875 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:55,875 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 16:17:55,931 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:17:55,936 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:55,937 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 16:17:55,988 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:17:55,992 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:55,993 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 16:17:55,999 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:55,999 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 16:17:56,283 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:17:56,331 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:17:56,342 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:17:56,346 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:56,346 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 16:17:56,405 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:17:56,409 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:17:56,422 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:17:56,425 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:56,425 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 16:17:56,475 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:17:56,486 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:17:56,496 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:17:56,500 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:56,501 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 16:17:56,550 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:17:56,558 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:17:56,574 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:17:56,578 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:56,579 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 16:17:56,604 - bigdata_deploy_logger - INFO - 
2023-08-14 16:17:56,604 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:18:03,354 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:12,892 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:13,017 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:13,028 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:13,028 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 16:18:13,851 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:13,851 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:13,949 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:13,961 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:13,962 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 16:18:14,011 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 16:18:14,012 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 16:18:14,012 - bigdata_deploy_logger - INFO - }
2023-08-14 16:18:14,029 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 16:18:14,029 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 16:18:14,029 - bigdata_deploy_logger - INFO - }
2023-08-14 16:18:14,050 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 16:18:14,051 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 16:18:14,051 - bigdata_deploy_logger - INFO - }
2023-08-14 16:18:14,062 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:14,062 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 16:18:14,110 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:18:14,128 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:18:14,149 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:18:14,161 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:14,161 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 16:18:14,236 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 16:18:14,252 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 16:18:14,267 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 16:18:14,306 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:14,307 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 16:18:15,088 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:15,110 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:15,252 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:15,267 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:15,267 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 16:18:15,889 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:15,902 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:16,090 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:16,107 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:16,108 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 16:18:18,389 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:18,966 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:19,494 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:19,507 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:19,508 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 16:18:20,502 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 16:18:20,503 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 16:18:20,503 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 16:18:20,503 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:20,898 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:21,062 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:21,075 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:21,075 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 16:18:22,343 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:22,801 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:22,944 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:22,956 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:22,957 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 16:18:24,057 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:24,963 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:25,119 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:25,132 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:25,132 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 16:18:26,136 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:26,154 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:26,310 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:26,321 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:26,322 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 16:18:27,269 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:27,726 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:27,810 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:27,824 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:27,824 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 16:18:29,291 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:30,538 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:30,756 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:30,766 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:30,766 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 16:18:30,864 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 16:18:30,894 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:30,895 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 16:18:33,338 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:33,400 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:33,529 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:33,594 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:33,595 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 16:18:34,242 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:34,333 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:34,507 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:34,586 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:34,586 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 16:18:35,969 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:18:37,111 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:18:37,227 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:18:37,310 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:37,311 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 16:18:39,715 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:40,509 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:40,559 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:40,638 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:40,639 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 16:18:41,433 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:41,954 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:42,158 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:42,235 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:42,236 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 16:18:42,328 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:18:42,488 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:18:42,500 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:18:42,574 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:42,575 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 16:18:43,386 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:43,887 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:43,988 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:44,062 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:44,062 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 16:18:44,846 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 16:18:44,846 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 16:18:44,847 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 16:18:44,847 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 16:18:44,847 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:45,500 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:45,689 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:45,769 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:45,770 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 16:18:46,578 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:47,046 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:47,151 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:47,227 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:47,228 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 16:18:48,615 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 16:18:49,282 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 16:18:52,547 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 16:18:52,632 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:52,633 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 16:18:53,456 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 16:18:54,002 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 16:18:54,124 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 16:18:54,193 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:54,194 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 16:18:54,972 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:55,547 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:55,676 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:55,818 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:55,819 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 16:18:56,720 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 16:18:56,732 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 16:18:56,857 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 16:18:57,393 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 16:18:57,450 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 16:18:57,773 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 16:18:58,080 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 16:18:58,161 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 16:18:58,646 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 16:18:58,718 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:58,719 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 16:18:58,807 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:18:58,876 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:18:58,896 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:18:58,975 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:58,976 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 16:18:59,646 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:18:59,733 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:18:59,878 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:18:59,952 - bigdata_deploy_logger - INFO - 
2023-08-14 16:18:59,953 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 16:19:00,553 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 16:19:00,878 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 16:19:01,043 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 16:19:01,115 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:01,115 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 16:19:01,929 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 16:19:01,929 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 16:19:01,929 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 16:19:01,930 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 16:19:01,930 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:19:02,590 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:19:02,684 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:19:02,759 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:02,760 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 16:19:03,573 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 16:19:04,177 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 16:19:04,202 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 16:19:04,275 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:04,275 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 16:19:04,968 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 16:19:05,047 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 16:19:05,184 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 16:19:05,509 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 16:19:05,609 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 16:19:05,973 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 16:19:06,054 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:06,054 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 16:19:07,579 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 16:19:08,024 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 16:19:08,054 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 16:19:08,130 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:08,131 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 16:19:08,449 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:08,450 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 16:19:32,736 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:19:39,033 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:19:46,407 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:19:46,482 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:46,483 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 16:19:47,248 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:19:47,362 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:19:47,406 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:19:47,486 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:47,486 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 16:19:48,880 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:19:49,695 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:19:50,148 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:19:50,224 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:50,225 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 16:19:50,317 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:19:50,426 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:19:52,997 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:19:53,082 - bigdata_deploy_logger - INFO - 
2023-08-14 16:19:53,082 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 16:19:54,725 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:19:56,608 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:20:00,360 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:20:00,431 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:00,432 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 16:20:01,761 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:20:03,289 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:20:03,341 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:20:03,427 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:03,428 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 16:20:12,351 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.309696", "end": "2023-08-14 08:20:12.250530", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 08:20:03.940834", "stderr": "14 Aug 08:20:12 ntpdate[111646]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 08:20:12 ntpdate[111646]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 16:20:12,351 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 16:20:12,929 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.721522", "end": "2023-08-14 08:20:12.829861", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 08:20:04.108339", "stderr": "14 Aug 08:20:12 ntpdate[66801]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 08:20:12 ntpdate[66801]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 16:20:12,929 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 16:20:13,017 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.738538", "end": "2023-08-14 08:20:12.871288", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 08:20:04.132750", "stderr": "14 Aug 08:20:12 ntpdate[25373]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 08:20:12 ntpdate[25373]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 16:20:13,017 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 16:20:13,159 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:13,160 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 16:20:13,942 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:20:14,621 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:20:14,625 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:20:14,700 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:14,701 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 16:20:16,076 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:17,108 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:18,794 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:18,878 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:18,879 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 16:20:19,392 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 16:20:19,401 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 16:20:19,407 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 16:20:19,513 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:19,514 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:19,611 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:19,685 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:19,701 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:19,772 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:19,773 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:19,862 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:19,933 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:19,950 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:20,021 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:20,021 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:20,117 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:20,189 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:20,206 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:20,286 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:20,287 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 16:20:21,077 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 16:20:21,078 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 16:20:21,078 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 16:20:21,078 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 16:20:21,078 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:21,801 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:21,853 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:21,924 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:21,924 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 16:20:22,672 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:23,334 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:23,513 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:23,590 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:23,590 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 16:20:23,683 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:23,759 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:23,783 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:23,864 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:23,865 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 16:20:23,962 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:20:24,035 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:20:24,043 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:20:24,152 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:24,152 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 16:20:24,237 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:20:24,307 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:20:24,314 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:20:24,385 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:24,386 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:24,548 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:24,620 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:24,637 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:24,709 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:24,710 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:24,804 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:24,877 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:24,897 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:24,975 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:24,976 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:25,069 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:25,150 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:25,168 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:25,242 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:25,243 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 16:20:26,058 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:26,761 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:26,850 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:26,926 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:26,927 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 16:20:27,729 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:28,383 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:28,392 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:28,467 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:28,467 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 16:20:28,561 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:28,631 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:28,651 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:28,730 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:28,731 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 16:20:28,816 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:20:28,885 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:20:28,893 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:20:28,965 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:28,966 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 16:20:29,069 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:20:29,153 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:20:29,162 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:20:29,243 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:29,244 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:29,335 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:29,418 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:29,434 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:29,510 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:29,511 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:29,682 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:29,760 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:29,778 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:29,856 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:29,857 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 16:20:29,955 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:30,032 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:30,051 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:30,133 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:30,134 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 16:20:30,933 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:31,599 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:31,753 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:31,830 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:31,830 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 16:20:32,697 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:33,163 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:33,312 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:33,379 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:33,379 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 16:20:33,469 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:20:33,539 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:33,560 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:20:33,634 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:33,635 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 16:20:33,721 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:20:33,791 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:20:33,800 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:20:33,874 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:33,874 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 16:20:33,957 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:20:34,025 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:20:34,033 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:20:34,035 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:34,035 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 16:20:35,166 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 16:20:35,167 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 16:20:35,167 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 16:20:35,167 - bigdata_deploy_logger - INFO - this message.
2023-08-14 16:20:35,167 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:20:35,515 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:20:35,826 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:20:35,827 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:35,827 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 16:20:41,934 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:20:43,368 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:20:43,410 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:20:43,415 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:43,416 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 16:20:43,497 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:43,498 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:20:59,307 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:20:59,383 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:59,384 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 16:20:59,441 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 16:20:59,526 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:59,527 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 16:20:59,553 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:20:59,720 - bigdata_deploy_logger - INFO - 
2023-08-14 16:20:59,721 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 16:21:34,598 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,mysql-community-client,MySQL-python)
2023-08-14 16:21:34,674 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:34,674 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 16:21:34,696 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:21:34,767 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:34,768 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 16:21:34,789 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:21:34,862 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:34,862 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 16:21:34,883 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:21:34,956 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:34,957 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 16:21:34,979 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:21:35,051 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:35,052 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 16:21:36,022 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:21:36,093 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:36,094 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 16:21:36,811 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 16:21:36,811 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 16:21:36,811 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 16:21:36,811 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:21:36,883 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:36,884 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-14 16:21:37,079 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql-setup.yml for sdp1
2023-08-14 16:21:37,148 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:37,149 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 16:21:38,046 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "unable to find /********/.my.cnf. Exception message: (2002, \"Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)\")"}
2023-08-14 16:21:38,124 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:38,125 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 16:21:38,228 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 16:21:38,297 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:38,297 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 16:21:39,846 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:21:39,937 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:39,937 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 16:21:40,664 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:21:40,738 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:40,738 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 16:21:41,668 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:21:41,762 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:41,763 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 16:21:42,475 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692000942.438728, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile1', u'xusr': False, u'atime': 1692000942.389728, u'inode': 527328, u'isgid': False, u'size': 67108864, u'isdir': False, u'ctime': 1692000942.438728, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 16:21:43,151 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692001162.9037356, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile0', u'xusr': False, u'atime': 1692000941.911728, u'inode': 527304, u'isgid': False, u'size': 67108864, u'isdir': False, u'ctime': 1692001162.9037356, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 16:21:43,235 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:43,235 - bigdata_deploy_logger - INFO - TASK [database : Copy init.cnf for skip-grant-tables mode] *********************
2023-08-14 16:21:45,704 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:21:45,783 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:45,784 - bigdata_deploy_logger - INFO - TASK [database : Start mysql with skip-grant-tables] ***************************
2023-08-14 16:21:49,686 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:21:49,758 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:49,759 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 16:21:50,492 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:21:50,569 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:50,570 - bigdata_deploy_logger - INFO - TASK [database : Copy reset.sql for root reset] ********************************
2023-08-14 16:21:51,982 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:21:52,061 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:52,062 - bigdata_deploy_logger - INFO - TASK [database : Reset root credentials] ***************************************
2023-08-14 16:21:53,683 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:21:53,781 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:53,781 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 16:21:53,881 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 16:21:54,026 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:54,027 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 16:21:58,543 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:21:58,616 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:58,617 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 16:21:59,405 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:21:59,474 - bigdata_deploy_logger - INFO - 
2023-08-14 16:21:59,475 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 16:22:00,308 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:00,401 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:00,401 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 16:22:01,219 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692001308.2897182, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile1', u'xusr': False, u'atime': 1692001308.250718, u'inode': 527328, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692001308.2897182, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 16:22:02,012 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692001316.7657185, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile0', u'xusr': False, u'atime': 1692001307.9607182, u'inode': 527304, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692001316.7657185, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 16:22:02,114 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:02,114 - bigdata_deploy_logger - INFO - TASK [database : Copy my.cnf global MySQL configuration] ***********************
2023-08-14 16:22:04,847 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:22:04,927 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:04,928 - bigdata_deploy_logger - INFO - TASK [database : Start mysql] **************************************************
2023-08-14 16:22:10,902 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:22:10,989 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:10,990 - bigdata_deploy_logger - INFO - TASK [database : Remove file reset.sql] ****************************************
2023-08-14 16:22:11,802 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:22:11,883 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:11,883 - bigdata_deploy_logger - INFO - TASK [database : Wait for service to be ready] *********************************
2023-08-14 16:22:15,673 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:15,740 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:15,741 - bigdata_deploy_logger - INFO - TASK [database : Ensure default user is present] *******************************
2023-08-14 16:22:15,765 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:22:15,841 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:15,842 - bigdata_deploy_logger - INFO - TASK [database : Copy .my.cnf file with password credentials] ******************
2023-08-14 16:22:15,865 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:22:15,936 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:15,937 - bigdata_deploy_logger - INFO - TASK [database : Update mysql root password for all root accounts] *************
2023-08-14 16:22:16,965 - bigdata_deploy_logger - INFO - [WARNING]: Module did not set no_log for update_password
2023-08-14 16:22:16,966 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:17,039 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:17,040 - bigdata_deploy_logger - INFO - TASK [database : Remove anonymous MySQL users] *********************************
2023-08-14 16:22:17,869 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:17,945 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:17,946 - bigdata_deploy_logger - INFO - TASK [Remove MySQL test database] **********************************************
2023-08-14 16:22:18,756 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:18,832 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:18,833 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 16:22:20,511 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:20,656 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:20,657 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 16:22:22,977 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:22,979 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 16:22:22,979 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:22,980 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 16:22:27,341 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:22:27,418 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:27,419 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 16:22:27,540 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 16:22:27,632 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:27,633 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (mysql)] **************************************
2023-08-14 16:22:28,408 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:28,495 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:28,495 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user and host based access (mysql)] ***********
2023-08-14 16:22:29,302 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:29,462 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:29,463 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-14 16:22:29,576 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 16:22:29,669 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:29,669 - bigdata_deploy_logger - INFO - TASK [Create the hive database (mysql)] ****************************************
2023-08-14 16:22:30,487 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:30,570 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:30,571 - bigdata_deploy_logger - INFO - TASK [Create the hive database user and host based access (mysql)] *************
2023-08-14 16:22:31,381 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:31,460 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:31,461 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-14 16:22:31,558 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 16:22:31,641 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:31,641 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (mysql)] **************************************
2023-08-14 16:22:32,438 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:32,536 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:32,537 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user and host based access (mysql)] ***********
2023-08-14 16:22:33,330 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:33,438 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:33,439 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-14 16:22:33,543 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 16:22:33,628 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:33,629 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (mysql)] ***********************************
2023-08-14 16:22:34,460 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:34,540 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:34,540 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user and host based access (mysql)] ********
2023-08-14 16:22:35,374 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:35,378 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:35,379 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-14 16:22:35,447 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:35,448 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:22:41,626 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:22:51,189 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:22:51,195 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:22:51,267 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:51,268 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-14 16:22:51,360 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 16:22:51,436 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 16:22:51,468 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 16:22:51,538 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:51,539 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-14 16:22:51,631 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:22:51,707 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:22:51,722 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:22:51,792 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:51,792 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-14 16:22:51,948 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:22:52,018 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:22:52,032 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:22:52,037 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:52,037 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-14 16:22:52,115 - bigdata_deploy_logger - INFO - 
2023-08-14 16:22:52,115 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:23:08,175 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:23:08,245 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,246 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-14 16:23:08,287 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-14 16:23:08,358 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,359 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-14 16:23:08,382 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:08,465 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,465 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-14 16:23:08,485 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:08,564 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,565 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm MY-REALM.COM] ****************
2023-08-14 16:23:08,585 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:08,660 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,661 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm MY-REALM.COM] ****************
2023-08-14 16:23:08,683 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:08,752 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,753 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-14 16:23:08,773 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:08,906 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,907 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-14 16:23:08,926 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:08,998 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:08,999 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-14 16:23:09,024 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:09,097 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,098 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-14 16:23:09,117 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:09,202 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,203 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-14 16:23:09,225 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:09,296 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,297 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-14 16:23:09,316 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:09,320 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,320 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 16:23:09,328 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,328 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 16:23:09,351 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:23:09,355 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,355 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 16:23:09,376 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:23:09,379 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,380 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 16:23:09,453 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,453 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 16:23:09,621 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:23:09,682 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:23:09,704 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:23:09,771 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:09,771 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 16:23:09,856 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:23:09,923 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:09,942 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:23:10,010 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:10,011 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 16:23:10,105 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:23:10,175 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:10,190 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:23:10,259 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:10,259 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 16:23:10,348 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:23:10,418 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:23:10,435 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:23:10,442 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:10,443 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-14 16:23:10,599 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:10,599 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:23:16,766 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:23:26,590 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:23:26,595 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:23:26,659 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:26,660 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-14 16:23:27,481 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:23:27,496 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:23:27,612 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:23:27,689 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:27,690 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-14 16:23:28,489 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:23:29,205 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:23:29,247 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:23:29,315 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:29,316 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-14 16:23:37,606 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:23:43,418 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:23:45,633 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:23:45,710 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:45,711 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-14 16:23:46,377 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:23:46,433 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:23:46,537 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:23:46,621 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:46,621 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-14 16:23:47,438 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:23:47,471 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:23:47,782 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:23:47,852 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:47,853 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-14 16:23:48,395 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:23:48,550 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:23:48,649 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:23:48,731 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:48,732 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-14 16:23:49,312 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:23:49,468 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:23:49,601 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:23:49,602 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:49,602 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-14 16:23:50,624 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:23:51,090 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:23:51,394 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:23:51,395 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:51,395 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-14 16:23:55,001 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:23:56,093 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:23:56,339 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:23:56,416 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:56,417 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-14 16:23:57,371 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:23:57,863 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:23:58,058 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:23:58,131 - bigdata_deploy_logger - INFO - 
2023-08-14 16:23:58,132 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-14 16:23:59,288 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:24:00,306 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:24:00,327 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:24:00,332 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:00,333 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-14 16:24:00,421 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:00,421 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:24:16,576 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:24:16,663 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:16,664 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-14 16:24:16,741 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-14 16:24:16,819 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:16,819 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-14 16:24:44,099 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:24:44,170 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:44,171 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-14 16:24:45,481 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.606779", "end": "2023-08-14 08:24:45.376171", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 08:24:44.769392", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-14 16:24:45,482 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 16:24:45,636 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:45,637 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-14 16:24:46,426 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:24:46,511 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:46,512 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-14 16:24:46,533 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:24:46,614 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:46,615 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-14 16:24:47,284 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:24:47,391 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:47,391 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-14 16:24:51,427 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-14 16:24:55,768 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-connector-java.jar)
2023-08-14 16:24:55,769 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:55,770 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-14 16:24:57,446 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:24:57,528 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:57,529 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-14 16:24:57,561 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 16:24:57,785 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:57,786 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-14 16:24:57,808 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:24:57,947 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:57,947 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-14 16:24:57,967 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:24:58,042 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:58,043 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-14 16:24:58,065 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:24:58,143 - bigdata_deploy_logger - INFO - 
2023-08-14 16:24:58,144 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages] *************************
2023-08-14 16:25:11,936 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 16:25:12,083 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:12,084 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-14 16:25:12,108 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:25:12,180 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:12,181 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-14 16:25:18,721 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:25:18,795 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:18,796 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-14 16:25:18,822 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:25:18,911 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:18,912 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-14 16:25:23,326 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:25:23,433 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:23,433 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-14 16:25:23,472 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:25:23,553 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:23,554 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-14 16:25:23,576 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:25:23,655 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:23,655 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-14 16:25:29,416 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:25:29,500 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:29,501 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-14 16:25:30,235 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:25:30,313 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:30,314 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-14 16:25:37,037 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:25:37,037 - bigdata_deploy_logger - INFO - 
2023-08-14 16:25:37,038 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-14 16:26:08,944 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:26:08,944 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:08,945 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 16:26:10,711 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:10,784 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:10,784 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-14 16:26:12,372 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:12,458 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:12,459 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-14 16:26:14,671 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:14,676 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:14,677 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 16:26:14,682 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:14,682 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 16:26:14,705 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:26:14,709 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:14,709 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 16:26:14,730 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:26:14,734 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:14,734 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 16:26:14,809 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:14,810 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 16:26:15,146 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:26:15,146 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:26:15,277 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:26:15,348 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:15,348 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 16:26:15,439 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:26:15,515 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:26:15,530 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:26:15,605 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:15,605 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 16:26:15,696 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:26:15,772 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:26:15,793 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:26:15,868 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:15,869 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 16:26:15,960 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:26:16,035 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:26:16,052 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:26:16,055 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:16,056 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 16:26:16,129 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:16,130 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:26:22,350 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:26:32,198 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:26:32,685 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:32,690 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:32,691 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-14 16:26:32,756 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:32,756 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:26:48,666 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:48,743 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:48,743 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-14 16:26:48,803 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-14 16:26:48,876 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:48,877 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-14 16:26:49,621 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:26:49,712 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:49,713 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-14 16:26:49,735 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:26:49,808 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:49,809 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-14 16:26:51,226 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:51,305 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:51,306 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-14 16:26:51,331 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:51,475 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:51,476 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-14 16:26:51,717 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:51,795 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:51,795 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-14 16:26:52,697 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:26:52,778 - bigdata_deploy_logger - INFO - 
2023-08-14 16:26:52,779 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-14 16:27:00,545 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-14 16:27:01,482 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-14 16:27:02,497 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-14 16:27:02,514 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:02,515 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-14 16:27:17,193 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:27:17,193 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:17,194 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 16:27:18,946 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:18,951 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:18,951 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 16:27:18,955 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:18,956 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 16:27:18,982 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:27:18,986 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:18,986 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 16:27:19,012 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 16:27:19,017 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:19,017 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 16:27:19,094 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:19,094 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 16:27:19,344 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 16:27:19,345 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 16:27:19,442 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 16:27:19,511 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:19,512 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 16:27:19,604 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:27:19,680 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:27:19,695 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:27:19,767 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:19,768 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 16:27:19,856 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:27:19,933 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:27:19,948 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:27:20,018 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:20,019 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 16:27:20,109 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 16:27:20,182 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:27:20,198 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 16:27:20,203 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:20,204 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 16:27:20,275 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:20,275 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:27:26,598 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 16:27:36,364 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 16:27:36,734 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:36,737 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:36,738 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-14 16:27:36,808 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:36,808 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 16:27:52,833 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:52,907 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:52,907 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-14 16:27:52,989 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-14 16:27:53,073 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:53,074 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-14 16:27:54,509 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:54,588 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:54,589 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-14 16:27:54,608 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:27:54,750 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:54,751 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-14 16:27:54,828 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:54,897 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:54,897 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-14 16:27:54,917 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:27:54,991 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:54,992 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-14 16:27:55,025 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:55,095 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:55,095 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-14 16:27:55,114 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 16:27:55,188 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:55,189 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called my_blueprint] ****
2023-08-14 16:27:56,040 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:56,121 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:56,122 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint my_blueprint to the Ambari server] ***
2023-08-14 16:27:57,163 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:57,256 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:57,256 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-14 16:27:58,280 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:27:58,360 - bigdata_deploy_logger - INFO - 
2023-08-14 16:27:58,360 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-14 16:28:02,977 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:28:03,067 - bigdata_deploy_logger - INFO - 
2023-08-14 16:28:03,068 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-14 16:28:04,164 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-14 16:28:15,052 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-14 16:28:26,067 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-14 16:28:36,831 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-14 16:28:47,693 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-14 16:28:58,408 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-14 16:29:09,538 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-14 16:29:20,382 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-14 16:29:31,429 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-14 16:29:42,328 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-14 16:29:53,187 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-14 16:30:04,258 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-14 16:30:19,187 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-14 16:30:30,050 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-14 16:30:41,414 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-14 16:30:52,682 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-14 16:31:03,491 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-14 16:31:14,233 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-14 16:31:25,036 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-14 16:31:35,782 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-14 16:31:46,560 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-14 16:31:57,318 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-14 16:32:08,118 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-14 16:32:18,948 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-14 16:32:29,745 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-14 16:32:40,507 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-14 16:32:55,827 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-14 16:33:14,991 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-14 16:33:28,157 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-14 16:33:38,977 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-14 16:33:49,936 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-14 16:34:01,313 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-14 16:34:19,202 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-14 16:34:29,990 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-14 16:34:47,489 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-14 16:35:15,168 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-14 16:35:44,975 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-14 16:35:56,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-14 16:36:07,305 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-14 16:36:18,157 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-14 16:36:28,957 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-14 16:36:42,033 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-14 16:36:53,293 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-14 16:37:04,084 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-14 16:37:14,936 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-14 16:37:27,294 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-14 16:37:38,152 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-14 16:37:48,889 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-14 16:38:02,392 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-14 16:38:13,210 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-14 16:38:24,058 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-14 16:38:34,896 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-14 16:38:45,631 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-14 16:38:57,446 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-14 16:39:08,940 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-14 16:39:19,683 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-14 16:39:30,485 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-14 16:39:44,143 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-14 16:39:54,943 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-14 16:40:05,767 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-14 16:40:16,595 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-14 16:40:31,220 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-14 16:40:41,948 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-14 16:40:54,770 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-14 16:41:05,556 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-14 16:41:16,431 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-14 16:41:27,252 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-14 16:41:38,077 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-14 16:41:48,837 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-14 16:42:02,350 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-14 16:42:13,164 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-14 16:42:25,555 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-14 16:42:36,390 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-14 16:42:50,190 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-14 16:43:04,498 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-14 16:43:17,737 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-14 16:43:29,516 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-14 16:43:40,252 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-14 16:43:51,043 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-14 16:44:01,808 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-14 16:44:12,643 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-14 16:44:23,499 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-14 16:44:34,342 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-14 16:44:45,089 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-14 16:44:55,845 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-14 16:45:06,636 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-14 16:45:19,563 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-14 16:45:30,486 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-14 16:45:41,312 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-14 16:45:52,177 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-14 16:46:03,050 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-14 16:46:13,868 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-14 16:46:24,676 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-14 16:46:35,550 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-14 16:46:46,318 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-14 16:46:57,176 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-14 16:47:08,031 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-14 16:47:18,877 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-14 16:47:29,747 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-14 16:47:40,585 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-14 16:47:51,434 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-14 16:48:02,233 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-14 16:48:13,141 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-14 16:48:24,041 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-14 16:48:34,864 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-14 16:48:45,615 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-14 16:48:56,523 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-14 16:49:07,452 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-14 16:49:22,152 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-14 16:49:35,489 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-14 16:49:47,870 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-14 16:49:59,889 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-14 16:50:21,645 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-14 16:50:36,179 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (247 retries left).
2023-08-14 16:50:51,122 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (246 retries left).
2023-08-14 16:51:02,477 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (245 retries left).
2023-08-14 16:51:13,524 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (244 retries left).
2023-08-14 16:51:25,699 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (243 retries left).
2023-08-14 16:51:36,529 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (242 retries left).
2023-08-14 16:51:47,374 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (241 retries left).
2023-08-14 16:51:58,209 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (240 retries left).
2023-08-14 16:52:09,069 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (239 retries left).
2023-08-14 16:52:19,992 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (238 retries left).
2023-08-14 16:52:30,815 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (237 retries left).
2023-08-14 16:52:41,606 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (236 retries left).
2023-08-14 16:52:52,490 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (235 retries left).
2023-08-14 16:53:03,317 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (234 retries left).
2023-08-14 16:53:14,190 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (233 retries left).
2023-08-14 16:53:25,029 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (232 retries left).
2023-08-14 16:53:35,893 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (231 retries left).
2023-08-14 16:53:46,629 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (230 retries left).
2023-08-14 16:53:57,436 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (229 retries left).
2023-08-14 16:54:08,403 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 16:54:08,491 - bigdata_deploy_logger - INFO - 
2023-08-14 16:54:08,492 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-14 16:54:08,550 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "Failed to build the mytestcluster cluster. Task Status is FAILED."}
2023-08-14 16:54:08,550 - bigdata_deploy_logger - INFO - 
2023-08-14 16:54:08,550 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 16:54:08,551 - bigdata_deploy_logger - INFO - 
2023-08-14 16:54:08,551 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 16:54:08,551 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-14 16:54:08,552 - bigdata_deploy_logger - INFO - sdp1                       : ok=167  changed=62   unreachable=0    failed=1    skipped=54   rescued=1    ignored=2
2023-08-14 16:54:08,552 - bigdata_deploy_logger - INFO - sdp2                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-14 16:54:08,552 - bigdata_deploy_logger - INFO - sdp3                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-14 16:54:08,552 - bigdata_deploy_logger - INFO - 
2023-08-14 16:54:08,667 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 17:04:46,463 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:04:46,466 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 17:04:46,475 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:04:46,476 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 17:04:46,485 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:04:46,519 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:04:46,529 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:04:46,582 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:04:46,584 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 17:04:46,599 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:04:46,600 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:04:46,652 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:04:46,657 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:04:46,667 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:04:46,673 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:04:46,687 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:04:46,693 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:04:46,705 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:04:46,719 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:04:46,731 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:04:46,739 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:04:46,742 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:04:46,750 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:04:46,751 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:04:46,761 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:04:46,764 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 17:04:46,778 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 17:04:47,726 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 17:04:47,726 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 17:04:49,559 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:49,559 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:04:49,592 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:49,593 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:04:49,643 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:04:49,647 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:49,647 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:04:49,698 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:04:49,704 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:49,704 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:04:49,714 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:49,714 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:04:49,993 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:04:50,026 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:04:50,041 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:04:50,046 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:50,046 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:04:50,111 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:04:50,114 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:04:50,114 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:04:50,118 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:50,118 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:04:50,171 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:04:50,179 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:04:50,183 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:04:50,188 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:50,189 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:04:50,236 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:04:50,245 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:04:50,255 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:04:50,260 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:50,260 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 17:04:50,286 - bigdata_deploy_logger - INFO - 
2023-08-14 17:04:50,286 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:04:57,025 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:06,568 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:07,024 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:07,037 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:07,038 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 17:05:07,772 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:07,840 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:07,950 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:07,963 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:07,963 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 17:05:08,023 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 17:05:08,024 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 17:05:08,024 - bigdata_deploy_logger - INFO - }
2023-08-14 17:05:08,038 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 17:05:08,038 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 17:05:08,038 - bigdata_deploy_logger - INFO - }
2023-08-14 17:05:08,059 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 17:05:08,059 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 17:05:08,059 - bigdata_deploy_logger - INFO - }
2023-08-14 17:05:08,070 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:08,070 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 17:05:08,119 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:05:08,151 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:05:08,168 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:05:08,181 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:08,182 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 17:05:08,260 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:05:08,269 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:05:08,299 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:05:08,337 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:08,337 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 17:05:09,083 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:09,092 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:09,193 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:09,208 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:09,208 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 17:05:09,781 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:09,796 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:09,971 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:09,983 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:09,984 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 17:05:12,215 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:12,908 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:14,191 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:14,206 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:14,206 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 17:05:15,239 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 17:05:15,239 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 17:05:15,240 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 17:05:15,240 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:15,645 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:15,811 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:15,823 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:15,823 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 17:05:17,128 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:17,550 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:17,671 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:17,685 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:17,686 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 17:05:18,776 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:19,598 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:19,805 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:19,816 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:19,817 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 17:05:20,929 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:20,950 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:21,077 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:21,094 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:21,094 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 17:05:22,023 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:22,441 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:22,572 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:22,586 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:22,586 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 17:05:24,005 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:25,402 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:25,418 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:25,432 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:25,432 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 17:05:25,532 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 17:05:25,561 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:25,561 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 17:05:27,969 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:27,997 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:28,175 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:28,251 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:28,252 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 17:05:28,848 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:29,053 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:29,113 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:29,182 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:29,183 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 17:05:30,585 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:05:31,550 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:05:31,869 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:05:31,944 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:31,945 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 17:05:33,933 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:34,768 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:34,778 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:34,869 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:34,870 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 17:05:35,687 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:36,289 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:36,408 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:36,498 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:36,499 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 17:05:36,596 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:05:36,666 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:05:36,680 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:05:36,758 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:36,758 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 17:05:37,574 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:38,167 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:38,192 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:38,265 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:38,265 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 17:05:39,164 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 17:05:39,164 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 17:05:39,165 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 17:05:39,165 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 17:05:39,165 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:39,692 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:39,813 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:39,910 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:39,911 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 17:05:40,781 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:41,225 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:41,277 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:41,344 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:41,344 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 17:05:42,742 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:05:43,414 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:05:43,534 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:05:43,608 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:43,609 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 17:05:44,405 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:05:44,979 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:05:45,086 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:05:45,180 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:45,181 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 17:05:45,986 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:46,463 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:46,543 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:46,616 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:46,617 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 17:05:47,499 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 17:05:47,546 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 17:05:47,657 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 17:05:48,238 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 17:05:48,258 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 17:05:48,525 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 17:05:48,793 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 17:05:48,913 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 17:05:49,278 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 17:05:49,434 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:49,435 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 17:05:49,535 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:05:49,609 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:05:49,623 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:05:49,702 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:49,703 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 17:05:50,289 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:50,412 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:50,465 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:50,539 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:50,540 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 17:05:51,122 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:05:51,297 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:05:51,338 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:05:51,415 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:51,416 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 17:05:52,323 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 17:05:52,323 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 17:05:52,324 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 17:05:52,324 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 17:05:52,324 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:05:52,812 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:05:52,878 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:05:52,946 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:52,947 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 17:05:54,311 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:05:54,372 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:05:54,834 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:05:54,909 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:54,910 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 17:05:55,729 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:05:55,730 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:05:55,784 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:05:56,256 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:05:56,324 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:05:56,488 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:05:56,638 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:56,639 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:05:58,035 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:05:58,394 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:05:58,444 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:05:58,523 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:58,524 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:05:58,786 - bigdata_deploy_logger - INFO - 
2023-08-14 17:05:58,787 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 17:06:38,220 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:06:54,931 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:07:30,175 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:07:30,250 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:30,250 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 17:07:31,022 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:07:31,221 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:07:31,324 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:07:31,408 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:31,409 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 17:07:32,920 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:07:33,877 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:07:34,353 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:07:34,439 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:34,439 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 17:07:34,536 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:07:34,633 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:07:37,213 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:07:37,309 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:37,309 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 17:07:38,905 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:07:40,766 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:07:40,874 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:07:40,979 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:40,979 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 17:07:42,422 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:07:43,590 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:07:43,702 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:07:43,776 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:43,777 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:07:52,624 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.309599", "end": "2023-08-14 09:07:52.543669", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:07:44.234070", "stderr": "14 Aug 09:07:52 ntpdate[35499]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:07:52 ntpdate[35499]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:07:52,624 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:07:53,212 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.717435", "end": "2023-08-14 09:07:53.128321", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:07:44.410886", "stderr": "14 Aug 09:07:53 ntpdate[120642]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:07:53 ntpdate[120642]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:07:53,212 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:07:53,277 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.703910", "end": "2023-08-14 09:07:53.163810", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:07:44.459900", "stderr": "14 Aug 09:07:53 ntpdate[107373]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:07:53 ntpdate[107373]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:07:53,278 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:07:53,353 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:53,354 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:07:54,120 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:07:54,816 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:07:54,940 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:07:55,038 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:55,038 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 17:07:56,419 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:07:57,395 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:07:57,653 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:07:57,731 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:57,732 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 17:07:58,225 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:07:58,233 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:07:58,240 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:07:58,349 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:58,350 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:07:58,446 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:07:58,521 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:07:58,537 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:07:58,615 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:58,616 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:07:58,709 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:07:58,783 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:07:58,801 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:07:58,919 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:58,920 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:07:59,033 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:07:59,113 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:07:59,129 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:07:59,204 - bigdata_deploy_logger - INFO - 
2023-08-14 17:07:59,205 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 17:08:00,063 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 17:08:00,063 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 17:08:00,064 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 17:08:00,064 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 17:08:00,064 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:00,647 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:00,742 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:00,813 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:00,814 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:08:01,617 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:02,210 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:02,324 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:02,397 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:02,398 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:08:02,488 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:02,559 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:02,581 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:02,656 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:02,657 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 17:08:02,744 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:08:02,819 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:08:02,826 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:08:02,902 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:02,903 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 17:08:03,058 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:08:03,129 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:08:03,138 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:08:03,210 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:03,211 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:08:03,303 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:03,383 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:03,399 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:03,472 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:03,472 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:08:03,562 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:03,637 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:03,652 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:03,728 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:03,728 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:08:03,829 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:03,905 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:03,921 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:03,996 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:03,997 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 17:08:04,844 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:05,374 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:05,555 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:05,629 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:05,630 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:08:06,431 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:07,012 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:07,209 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:07,300 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:07,301 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:08:07,405 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:07,487 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:07,508 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:07,587 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:07,588 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 17:08:07,680 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:08:07,767 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:08:07,776 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:08:07,858 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:07,859 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 17:08:07,948 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:08:08,100 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:08:08,106 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:08:08,184 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:08,185 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:08:08,281 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:08,357 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:08,373 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:08,452 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:08,453 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:08:08,553 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:08,632 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:08,649 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:08,725 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:08,725 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:08:08,824 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:08,899 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:08,917 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:08,996 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:08,997 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 17:08:09,853 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:10,457 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:10,602 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:10,771 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:10,772 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:08:11,542 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:12,216 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:12,376 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:12,456 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:12,457 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:08:12,557 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:08:12,633 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:12,653 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:08:12,731 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:12,731 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 17:08:12,821 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:08:12,889 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:08:12,896 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:08:12,970 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:12,971 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 17:08:13,066 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:08:13,137 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:08:13,146 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:08:13,147 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:13,148 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 17:08:14,351 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 17:08:14,351 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 17:08:14,351 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 17:08:14,351 - bigdata_deploy_logger - INFO - this message.
2023-08-14 17:08:14,352 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:08:14,690 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:08:15,112 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:08:15,112 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:15,112 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 17:08:21,294 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:08:22,650 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:08:23,573 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:08:23,579 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:23,579 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 17:08:23,669 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:23,670 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:08:39,717 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:08:39,799 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:39,800 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 17:08:39,864 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 17:08:40,023 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:40,023 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 17:08:40,049 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:08:40,161 - bigdata_deploy_logger - INFO - 
2023-08-14 17:08:40,162 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 17:09:24,225 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,mysql-community-client,MySQL-python)
2023-08-14 17:09:24,306 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:24,307 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 17:09:24,330 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:09:24,407 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:24,408 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 17:09:24,433 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:09:24,509 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:24,510 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 17:09:24,536 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:09:24,625 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:24,626 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 17:09:24,650 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:09:24,806 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:24,807 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 17:09:25,674 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:25,763 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:25,764 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 17:09:26,555 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 17:09:26,555 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 17:09:26,555 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 17:09:26,555 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:26,636 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:26,636 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-14 17:09:26,776 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql-setup.yml for sdp1
2023-08-14 17:09:26,852 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:26,853 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 17:09:27,839 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "unable to find /********/.my.cnf. Exception message: (2002, \"Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)\")"}
2023-08-14 17:09:27,913 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:27,914 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 17:09:28,039 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 17:09:28,178 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:28,179 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 17:09:29,682 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:09:29,766 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:29,767 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 17:09:30,505 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:09:30,582 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:30,583 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 17:09:31,597 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:09:31,685 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:31,686 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 17:09:32,457 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692001329.0037189, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile1', u'xusr': False, u'atime': 1692001328.9457188, u'inode': 527328, u'isgid': False, u'size': 67108864, u'isdir': False, u'ctime': 1692001329.0037189, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:09:33,234 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692004023.2829099, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile0', u'xusr': False, u'atime': 1692001327.2637188, u'inode': 527304, u'isgid': False, u'size': 67108864, u'isdir': False, u'ctime': 1692004023.2829099, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:09:33,319 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:33,320 - bigdata_deploy_logger - INFO - TASK [database : Copy init.cnf for skip-grant-tables mode] *********************
2023-08-14 17:09:36,040 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:36,129 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:36,130 - bigdata_deploy_logger - INFO - TASK [database : Start mysql with skip-grant-tables] ***************************
2023-08-14 17:09:40,239 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:40,316 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:40,317 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 17:09:41,124 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:09:41,272 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:41,273 - bigdata_deploy_logger - INFO - TASK [database : Copy reset.sql for root reset] ********************************
2023-08-14 17:09:42,650 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:42,728 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:42,729 - bigdata_deploy_logger - INFO - TASK [database : Reset root credentials] ***************************************
2023-08-14 17:09:44,173 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:44,245 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:44,246 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 17:09:44,351 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 17:09:44,423 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:44,424 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 17:09:51,873 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:51,953 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:51,954 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 17:09:52,749 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:09:52,826 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:52,827 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 17:09:53,564 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:09:53,639 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:53,639 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 17:09:54,429 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692004179.1929152, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile1', u'xusr': False, u'atime': 1692004179.1549153, u'inode': 527328, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692004179.1929152, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:09:55,219 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692004187.2339156, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile0', u'xusr': False, u'atime': 1692004178.4889152, u'inode': 527304, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692004187.2339156, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:09:55,291 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:55,292 - bigdata_deploy_logger - INFO - TASK [database : Copy my.cnf global MySQL configuration] ***********************
2023-08-14 17:09:58,021 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:09:58,109 - bigdata_deploy_logger - INFO - 
2023-08-14 17:09:58,110 - bigdata_deploy_logger - INFO - TASK [database : Start mysql] **************************************************
2023-08-14 17:10:03,480 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:10:03,574 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:03,575 - bigdata_deploy_logger - INFO - TASK [database : Remove file reset.sql] ****************************************
2023-08-14 17:10:04,300 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:10:04,382 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:04,383 - bigdata_deploy_logger - INFO - TASK [database : Wait for service to be ready] *********************************
2023-08-14 17:10:08,134 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:08,215 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:08,216 - bigdata_deploy_logger - INFO - TASK [database : Ensure default user is present] *******************************
2023-08-14 17:10:08,246 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:10:08,324 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:08,325 - bigdata_deploy_logger - INFO - TASK [database : Copy .my.cnf file with password credentials] ******************
2023-08-14 17:10:08,350 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:10:08,508 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:08,508 - bigdata_deploy_logger - INFO - TASK [database : Update mysql root password for all root accounts] *************
2023-08-14 17:10:09,360 - bigdata_deploy_logger - INFO - [WARNING]: Module did not set no_log for update_password
2023-08-14 17:10:09,360 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:09,445 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:09,446 - bigdata_deploy_logger - INFO - TASK [database : Remove anonymous MySQL users] *********************************
2023-08-14 17:10:10,193 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:10,281 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:10,282 - bigdata_deploy_logger - INFO - TASK [Remove MySQL test database] **********************************************
2023-08-14 17:10:11,006 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:11,107 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:11,108 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 17:10:12,659 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:12,742 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:12,743 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 17:10:14,916 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:14,917 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 17:10:14,917 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:14,917 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 17:10:23,286 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:10:23,364 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:23,365 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 17:10:23,484 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:10:23,575 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:23,576 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (mysql)] **************************************
2023-08-14 17:10:24,379 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:24,480 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:24,481 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user and host based access (mysql)] ***********
2023-08-14 17:10:25,348 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:25,429 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:25,430 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-14 17:10:25,605 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:10:25,692 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:25,692 - bigdata_deploy_logger - INFO - TASK [Create the hive database (mysql)] ****************************************
2023-08-14 17:10:26,524 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:26,610 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:26,611 - bigdata_deploy_logger - INFO - TASK [Create the hive database user and host based access (mysql)] *************
2023-08-14 17:10:27,465 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:27,543 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:27,544 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-14 17:10:27,651 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:10:27,741 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:27,742 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (mysql)] **************************************
2023-08-14 17:10:28,594 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:28,711 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:28,712 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user and host based access (mysql)] ***********
2023-08-14 17:10:29,587 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:29,679 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:29,680 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-14 17:10:29,791 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:10:29,883 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:29,884 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (mysql)] ***********************************
2023-08-14 17:10:30,749 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:30,838 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:30,839 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user and host based access (mysql)] ********
2023-08-14 17:10:31,673 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:31,678 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:31,679 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-14 17:10:31,755 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:31,756 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:10:38,037 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:10:47,650 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:10:47,770 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:10:47,839 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:47,840 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-14 17:10:47,945 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:10:48,024 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:10:48,055 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:10:48,139 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:48,139 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-14 17:10:48,311 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:10:48,385 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:10:48,399 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:10:48,475 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:48,476 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-14 17:10:48,616 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:10:48,689 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:10:48,701 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:10:48,706 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:48,707 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-14 17:10:48,790 - bigdata_deploy_logger - INFO - 
2023-08-14 17:10:48,790 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:11:04,819 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:11:04,909 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:04,909 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-14 17:11:04,954 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-14 17:11:05,079 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,080 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-14 17:11:05,109 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,259 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,260 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-14 17:11:05,280 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,360 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,361 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm MY-REALM.COM] ****************
2023-08-14 17:11:05,382 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,468 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,469 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm MY-REALM.COM] ****************
2023-08-14 17:11:05,491 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,569 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,570 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-14 17:11:05,589 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,663 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,664 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-14 17:11:05,688 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,761 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,761 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-14 17:11:05,781 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,856 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,857 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-14 17:11:05,876 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:05,953 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:05,954 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-14 17:11:05,975 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:06,054 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,055 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-14 17:11:06,076 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:06,081 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,081 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:11:06,087 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,087 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:11:06,110 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:11:06,114 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,114 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:11:06,135 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:11:06,139 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,140 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:11:06,211 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,212 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:11:06,321 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:11:06,469 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:11:06,511 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:11:06,585 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,585 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:11:06,673 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:11:06,747 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:06,764 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:11:06,841 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:06,842 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:11:07,005 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:11:07,080 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:07,095 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:11:07,168 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:07,168 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:11:07,260 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:11:07,337 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:11:07,355 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:11:07,360 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:07,361 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-14 17:11:07,435 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:07,435 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:11:13,546 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:11:23,471 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:11:23,624 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:11:23,719 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:23,720 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-14 17:11:24,551 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:11:24,556 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:11:24,693 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:11:24,778 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:24,779 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-14 17:11:25,687 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:11:26,227 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:11:26,378 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:11:26,448 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:26,448 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-14 17:11:34,639 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:11:38,235 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:11:42,431 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:11:42,503 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:42,504 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-14 17:11:43,201 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:11:43,267 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:11:43,392 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:11:43,463 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:43,464 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-14 17:11:44,170 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:11:44,206 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:11:44,317 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:11:44,389 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:44,390 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-14 17:11:44,979 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:11:45,085 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:11:45,171 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:11:45,281 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:45,282 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-14 17:11:45,896 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:11:45,957 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:11:46,076 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:11:46,077 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:46,077 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-14 17:11:47,092 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:11:47,503 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:11:47,850 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:11:47,850 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:47,850 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-14 17:11:51,510 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:11:52,496 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:11:52,781 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:11:52,855 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:52,856 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-14 17:11:53,753 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:11:54,387 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:11:54,506 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:11:54,583 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:54,584 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-14 17:11:55,762 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:11:56,671 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:11:56,816 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:11:56,821 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:56,822 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-14 17:11:56,920 - bigdata_deploy_logger - INFO - 
2023-08-14 17:11:56,921 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:12:13,036 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:12:13,107 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:13,108 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-14 17:12:13,158 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-14 17:12:13,248 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:13,249 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-14 17:12:38,852 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:12:38,927 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:38,928 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-14 17:12:40,248 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.613589", "end": "2023-08-14 09:12:40.143832", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:12:39.530243", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-14 17:12:40,248 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:12:40,327 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:40,327 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-14 17:12:41,329 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:12:41,405 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:41,406 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-14 17:12:41,427 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:12:41,503 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:41,503 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-14 17:12:42,166 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:12:42,247 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:42,247 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-14 17:12:46,135 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-14 17:12:50,287 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-connector-java.jar)
2023-08-14 17:12:50,290 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:50,291 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-14 17:12:51,989 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:12:52,070 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:52,071 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-14 17:12:52,104 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 17:12:52,251 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:52,252 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-14 17:12:52,279 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:12:52,433 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:52,434 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-14 17:12:52,458 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:12:52,533 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:52,534 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-14 17:12:52,553 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:12:52,631 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:52,632 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages] *************************
2023-08-14 17:12:54,426 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 17:12:54,519 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:54,520 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-14 17:12:54,543 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:12:54,632 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:54,633 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-14 17:12:56,057 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "mysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 1050 (42S01) at line 39: Table 'registries' already exists\n"}
2023-08-14 17:12:56,057 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:12:56,134 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:56,135 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-14 17:12:56,161 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:12:56,257 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:56,258 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-14 17:12:57,915 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:12:57,992 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:57,993 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-14 17:12:58,027 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:12:58,105 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:58,106 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-14 17:12:58,128 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:12:58,273 - bigdata_deploy_logger - INFO - 
2023-08-14 17:12:58,273 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-14 17:13:01,679 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:13:01,757 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:01,758 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-14 17:13:02,539 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:13:02,619 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:02,619 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-14 17:13:03,411 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:13:03,412 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:03,413 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-14 17:13:19,561 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:13:19,562 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:19,562 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 17:13:21,445 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:13:21,529 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:21,530 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-14 17:13:23,032 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:13:23,210 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:23,210 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-14 17:13:25,264 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:13:25,267 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:25,268 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:13:25,274 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:25,274 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:13:25,297 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:13:25,302 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:25,303 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:13:25,326 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:13:25,330 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:25,331 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:13:25,438 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:25,439 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:13:25,684 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:13:25,687 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:13:25,903 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:13:25,980 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:25,980 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:13:26,081 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:13:26,161 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:13:26,177 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:13:26,253 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:26,253 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:13:26,350 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:13:26,430 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:13:26,447 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:13:26,593 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:26,593 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:13:26,690 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:13:26,761 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:13:26,780 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:13:26,786 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:26,787 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 17:13:26,866 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:26,867 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:13:32,916 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:13:42,599 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:13:42,772 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:13:42,777 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:42,778 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-14 17:13:42,856 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:42,856 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:13:58,678 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:13:58,748 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:58,749 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-14 17:13:58,797 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-14 17:13:58,871 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:58,872 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-14 17:13:59,602 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:13:59,678 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:59,679 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-14 17:13:59,699 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:13:59,774 - bigdata_deploy_logger - INFO - 
2023-08-14 17:13:59,775 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-14 17:14:00,989 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"cache_control": "no-store", "changed": false, "connection": "close", "content": "{\n  \"status\" : 409,\n  \"message\" : \"Repository version with name BIGTOP-3.2.0 already exists.\"\n}", "content_type": "text/plain;charset=utf-8", "date": "Mon, 14 Aug 2023 09:14:00 GMT", "elapsed": 0, "expires": "Thu, 01 Jan 1970 00:00:00 GMT", "json": {"message": "Repository version with name BIGTOP-3.2.0 already exists.", "status": 409}, "msg": "Status code was 409 and not [200, 201, 202]: HTTP Error 409: Conflict", "pragma": "no-cache", "redirected": false, "set_cookie": "AMBARISESSIONID=node01cm6d2z6tugpz1vxuq47x7tlsv0.node0;Path=/;HttpOnly", "status": 409, "url": "http://sdp1:8080/api/v1/version_definitions", "user": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", "x_content_type_options": "nosniff", "x_frame_options": "DENY", "x_xss_protection": "1; mode=block"}
2023-08-14 17:14:00,989 - bigdata_deploy_logger - INFO - 
2023-08-14 17:14:00,990 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 17:14:00,990 - bigdata_deploy_logger - INFO - 
2023-08-14 17:14:00,991 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 17:14:00,991 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0
2023-08-14 17:14:00,991 - bigdata_deploy_logger - INFO - sdp1                       : ok=148  changed=58   unreachable=0    failed=1    skipped=48   rescued=1    ignored=3
2023-08-14 17:14:00,992 - bigdata_deploy_logger - INFO - sdp2                       : ok=80   changed=33   unreachable=0    failed=0    skipped=23   rescued=0    ignored=1
2023-08-14 17:14:00,992 - bigdata_deploy_logger - INFO - sdp3                       : ok=80   changed=33   unreachable=0    failed=0    skipped=23   rescued=0    ignored=1
2023-08-14 17:14:00,992 - bigdata_deploy_logger - INFO - 
2023-08-14 17:14:01,105 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 17:16:21,717 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:16:21,720 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 17:16:21,729 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:16:21,730 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 17:16:21,740 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:16:21,777 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:16:21,785 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:16:21,816 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:16:21,818 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 17:16:21,830 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:16:21,831 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:16:21,861 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:16:21,865 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:16:21,875 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:16:21,879 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:16:21,888 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:16:21,891 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:16:21,899 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:16:21,909 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:16:21,918 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:16:21,926 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:16:21,930 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:16:21,938 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:16:21,939 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:16:21,948 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:16:21,950 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 17:16:21,965 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 17:16:22,807 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 17:16:22,807 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 17:16:24,453 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:24,454 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:16:24,484 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:24,485 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:16:24,541 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:16:24,544 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:24,545 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:16:24,590 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:16:24,594 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:24,595 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:16:24,600 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:24,600 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:16:24,880 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:16:24,903 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:16:24,931 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:16:24,934 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:24,935 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:16:24,984 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:16:24,993 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:16:24,999 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:16:25,003 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:25,004 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:16:25,050 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:16:25,068 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:16:25,070 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:16:25,074 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:25,074 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:16:25,125 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:16:25,139 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:16:25,140 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:16:25,146 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:25,146 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 17:16:25,172 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:25,172 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:16:31,734 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:16:41,222 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:16:41,452 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:16:41,463 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:41,464 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 17:16:42,281 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:16:42,282 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:16:42,436 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:16:42,455 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:42,455 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 17:16:42,518 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 17:16:42,519 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 17:16:42,519 - bigdata_deploy_logger - INFO - }
2023-08-14 17:16:42,534 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 17:16:42,535 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 17:16:42,535 - bigdata_deploy_logger - INFO - }
2023-08-14 17:16:42,555 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 17:16:42,556 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 17:16:42,556 - bigdata_deploy_logger - INFO - }
2023-08-14 17:16:42,568 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:42,568 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 17:16:42,621 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:16:42,638 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:16:42,655 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:16:42,668 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:42,669 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 17:16:42,747 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:16:42,769 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:16:42,790 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:16:42,828 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:42,829 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 17:16:43,583 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:16:43,587 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:16:43,750 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:16:43,765 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:43,766 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 17:16:44,359 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:16:44,359 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:16:44,566 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:16:44,579 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:44,580 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 17:16:46,699 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:16:47,349 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:16:47,795 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:16:47,807 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:47,808 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 17:16:48,689 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 17:16:48,689 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 17:16:48,689 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 17:16:48,689 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:16:49,022 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:16:49,237 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:16:49,250 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:49,250 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 17:16:50,419 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:16:50,782 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:16:50,913 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:16:50,925 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:50,925 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 17:16:52,103 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:16:52,766 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:16:52,930 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:16:52,942 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:52,942 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 17:16:53,901 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:16:53,901 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:16:53,983 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:16:53,996 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:53,996 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 17:16:54,985 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:16:55,313 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:16:55,400 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:16:55,415 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:55,415 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 17:16:56,920 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:16:57,969 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:16:58,137 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:16:58,150 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:58,150 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 17:16:58,250 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 17:16:58,280 - bigdata_deploy_logger - INFO - 
2023-08-14 17:16:58,281 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 17:17:00,676 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:17:00,702 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:17:00,858 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:17:00,933 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:00,933 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 17:17:01,540 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:17:01,634 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:17:01,820 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:17:01,948 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:01,949 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 17:17:03,309 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:17:04,309 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:17:04,441 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:17:04,517 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:04,518 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 17:17:06,784 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:07,641 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:07,644 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:07,715 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:07,716 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 17:17:08,501 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:09,089 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:09,292 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:09,446 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:09,446 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 17:17:09,543 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:17:09,613 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:17:09,626 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:17:09,697 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:09,697 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 17:17:10,473 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:11,021 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:11,234 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:11,304 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:11,304 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 17:17:12,081 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 17:17:12,082 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 17:17:12,082 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 17:17:12,082 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 17:17:12,082 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:12,731 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:12,836 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:13,006 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:13,007 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 17:17:13,799 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:14,369 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:14,609 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:14,686 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:14,686 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 17:17:16,124 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:17:16,871 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:17:16,987 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:17:17,059 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:17,060 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 17:17:17,824 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:17:18,425 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:17:18,601 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:17:18,677 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:18,678 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 17:17:19,511 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:20,152 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:20,260 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:20,325 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:20,326 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 17:17:21,296 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 17:17:21,297 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 17:17:21,409 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 17:17:21,988 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 17:17:22,023 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 17:17:22,340 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 17:17:22,615 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 17:17:22,696 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 17:17:23,195 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 17:17:23,274 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:23,275 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 17:17:23,390 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:17:23,463 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:17:23,479 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:17:23,558 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:23,559 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 17:17:24,172 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:24,412 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:24,501 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:24,587 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:24,588 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 17:17:25,196 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:17:25,298 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:17:25,441 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:17:25,514 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:25,514 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 17:17:26,384 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 17:17:26,385 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 17:17:26,385 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 17:17:26,385 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 17:17:26,385 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:17:27,016 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:17:27,059 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:17:27,135 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:27,136 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 17:17:27,994 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:17:28,640 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:17:28,782 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:17:28,864 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:28,865 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 17:17:29,614 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:17:29,633 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:17:29,755 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:17:30,164 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:17:30,185 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:17:30,565 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:17:30,640 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:30,641 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:17:31,978 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:17:32,486 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:17:32,630 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:17:32,692 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:32,693 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:17:32,933 - bigdata_deploy_logger - INFO - 
2023-08-14 17:17:32,934 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 17:17:58,232 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:18:06,118 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:18:40,991 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:18:41,062 - bigdata_deploy_logger - INFO - 
2023-08-14 17:18:41,063 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 17:18:41,765 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:18:42,081 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:18:42,214 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:18:42,287 - bigdata_deploy_logger - INFO - 
2023-08-14 17:18:42,288 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 17:18:43,747 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:18:44,613 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:18:45,125 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:18:45,213 - bigdata_deploy_logger - INFO - 
2023-08-14 17:18:45,214 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 17:18:45,320 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:18:45,413 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:18:47,918 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:18:47,992 - bigdata_deploy_logger - INFO - 
2023-08-14 17:18:47,993 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 17:18:49,576 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:18:51,356 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:18:51,424 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:18:51,498 - bigdata_deploy_logger - INFO - 
2023-08-14 17:18:51,499 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 17:18:52,892 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:18:54,152 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:18:54,196 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:18:54,266 - bigdata_deploy_logger - INFO - 
2023-08-14 17:18:54,267 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:19:03,129 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.313516", "end": "2023-08-14 09:19:03.030041", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:18:54.716525", "stderr": "14 Aug 09:19:03 ntpdate[48486]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:19:03 ntpdate[48486]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:19:03,130 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:19:03,618 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.702233", "end": "2023-08-14 09:19:03.531372", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:18:54.829139", "stderr": "14 Aug 09:19:03 ntpdate[1500]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:19:03 ntpdate[1500]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:19:03,618 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:19:03,741 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.722769", "end": "2023-08-14 09:19:03.615494", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:18:54.892725", "stderr": "14 Aug 09:19:03 ntpdate[129371]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:19:03 ntpdate[129371]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:19:03,742 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:19:03,820 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:03,821 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:19:04,652 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:19:05,330 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:19:05,376 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:19:05,462 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:05,463 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 17:19:06,874 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:07,846 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:08,061 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:08,138 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:08,139 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 17:19:08,623 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:19:08,634 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:19:08,639 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:19:08,736 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:08,736 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:08,827 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:08,897 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:08,914 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:08,982 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:08,983 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:09,070 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:09,140 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:09,157 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:09,227 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:09,227 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:09,322 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:09,399 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:09,420 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:09,490 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:09,491 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 17:19:10,322 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 17:19:10,323 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 17:19:10,323 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 17:19:10,323 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 17:19:10,323 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:10,950 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:11,051 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:11,121 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:11,122 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:19:11,910 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:12,546 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:12,666 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:12,733 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:12,734 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:19:12,827 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:12,898 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:12,920 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:12,995 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:12,996 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 17:19:13,087 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:19:13,153 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:19:13,160 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:19:13,232 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:13,233 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 17:19:13,321 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:19:13,392 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:19:13,399 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:19:13,554 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:13,555 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:13,648 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:13,719 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:13,741 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:13,809 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:13,810 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:13,897 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:13,968 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:13,985 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:14,058 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:14,059 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:14,147 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:14,217 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:14,234 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:14,308 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:14,309 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 17:19:15,186 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:15,786 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:15,911 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:15,981 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:15,982 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:19:16,782 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:17,486 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:17,490 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:17,556 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:17,557 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:19:17,651 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:17,719 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:17,740 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:17,813 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:17,814 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 17:19:17,903 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:19:17,969 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:19:17,978 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:19:18,046 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:18,047 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 17:19:18,132 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:19:18,203 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:19:18,211 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:19:18,281 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:18,282 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:18,368 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:18,440 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:18,455 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:18,523 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:18,523 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:18,722 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:18,795 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:18,811 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:18,879 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:18,880 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:19:18,967 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:19,037 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:19,055 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:19,126 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:19,127 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 17:19:20,002 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:20,596 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:20,762 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:20,832 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:20,832 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:19:21,628 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:22,172 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:22,361 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:22,434 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:22,435 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:19:22,540 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:19:22,617 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:19:22,637 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:19:22,714 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:22,715 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 17:19:22,808 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:19:22,876 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:19:22,883 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:19:22,956 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:22,957 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 17:19:23,042 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:19:23,111 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:19:23,119 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:19:23,120 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:23,120 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 17:19:24,255 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 17:19:24,256 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 17:19:24,256 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 17:19:24,256 - bigdata_deploy_logger - INFO - this message.
2023-08-14 17:19:24,256 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:19:24,561 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:19:24,951 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:19:24,952 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:24,952 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 17:19:31,045 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:19:32,640 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:19:44,068 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:19:44,074 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:44,074 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 17:19:44,153 - bigdata_deploy_logger - INFO - 
2023-08-14 17:19:44,154 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:19:59,944 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:20:00,025 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:00,025 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 17:20:00,083 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 17:20:00,155 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:00,156 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 17:20:00,179 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:20:00,258 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:00,259 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 17:20:41,320 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,mysql-community-client,MySQL-python)
2023-08-14 17:20:41,386 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:41,387 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 17:20:41,410 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:20:41,488 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:41,489 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 17:20:41,510 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:20:41,586 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:41,587 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 17:20:41,609 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:20:41,681 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:41,682 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 17:20:41,705 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:20:41,780 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:41,781 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 17:20:42,819 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:20:42,891 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:42,891 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 17:20:43,705 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 17:20:43,705 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 17:20:43,705 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 17:20:43,705 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:20:43,783 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:43,784 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-14 17:20:44,001 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql-setup.yml for sdp1
2023-08-14 17:20:44,073 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:44,074 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 17:20:45,070 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "unable to find /********/.my.cnf. Exception message: (2002, \"Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)\")"}
2023-08-14 17:20:45,160 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:45,161 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 17:20:45,261 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 17:20:45,329 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:45,330 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 17:20:46,914 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:20:46,997 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:46,998 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 17:20:47,787 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:20:47,862 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:47,863 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 17:20:48,820 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:20:48,890 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:48,891 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 17:20:49,666 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692004700.0689332, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile0', u'xusr': False, u'atime': 1692004200.454916, u'inode': 527304, u'isgid': False, u'size': 67108864, u'isdir': False, u'ctime': 1692004700.0689332, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:20:50,390 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692004201.908916, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile1', u'xusr': False, u'atime': 1692004201.851916, u'inode': 527328, u'isgid': False, u'size': 67108864, u'isdir': False, u'ctime': 1692004201.908916, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:20:50,464 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:50,465 - bigdata_deploy_logger - INFO - TASK [database : Copy init.cnf for skip-grant-tables mode] *********************
2023-08-14 17:20:53,058 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:20:53,134 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:53,135 - bigdata_deploy_logger - INFO - TASK [database : Start mysql with skip-grant-tables] ***************************
2023-08-14 17:20:56,567 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:20:56,649 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:56,650 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 17:20:57,397 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:20:57,487 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:57,487 - bigdata_deploy_logger - INFO - TASK [database : Copy reset.sql for root reset] ********************************
2023-08-14 17:20:58,763 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:20:58,902 - bigdata_deploy_logger - INFO - 
2023-08-14 17:20:58,903 - bigdata_deploy_logger - INFO - TASK [database : Reset root credentials] ***************************************
2023-08-14 17:21:00,279 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:21:00,367 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:00,367 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 17:21:00,471 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 17:21:00,557 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:00,557 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 17:21:05,334 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:21:05,415 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:05,416 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 17:21:06,050 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:06,130 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:06,131 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 17:21:06,940 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:07,014 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:07,014 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 17:21:07,884 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692004855.869754, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile1', u'xusr': False, u'atime': 1692004855.829754, u'inode': 527328, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692004855.869754, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:21:08,708 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692004864.5167544, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile0', u'xusr': False, u'atime': 1692004855.389754, u'inode': 527304, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692004864.5167544, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:21:08,798 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:08,799 - bigdata_deploy_logger - INFO - TASK [database : Copy my.cnf global MySQL configuration] ***********************
2023-08-14 17:21:11,582 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:21:11,658 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:11,658 - bigdata_deploy_logger - INFO - TASK [database : Start mysql] **************************************************
2023-08-14 17:21:20,779 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:21:20,853 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:20,854 - bigdata_deploy_logger - INFO - TASK [database : Remove file reset.sql] ****************************************
2023-08-14 17:21:21,685 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:21:21,760 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:21,761 - bigdata_deploy_logger - INFO - TASK [database : Wait for service to be ready] *********************************
2023-08-14 17:21:25,599 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:25,680 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:25,681 - bigdata_deploy_logger - INFO - TASK [database : Ensure default user is present] *******************************
2023-08-14 17:21:25,705 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:21:25,784 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:25,785 - bigdata_deploy_logger - INFO - TASK [database : Copy .my.cnf file with password credentials] ******************
2023-08-14 17:21:25,809 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:21:25,952 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:25,953 - bigdata_deploy_logger - INFO - TASK [database : Update mysql root password for all root accounts] *************
2023-08-14 17:21:26,888 - bigdata_deploy_logger - INFO - [WARNING]: Module did not set no_log for update_password
2023-08-14 17:21:26,888 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:26,967 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:26,968 - bigdata_deploy_logger - INFO - TASK [database : Remove anonymous MySQL users] *********************************
2023-08-14 17:21:27,786 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:27,858 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:27,859 - bigdata_deploy_logger - INFO - TASK [Remove MySQL test database] **********************************************
2023-08-14 17:21:28,659 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:28,753 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:28,753 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 17:21:30,434 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:30,508 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:30,509 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 17:21:32,792 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:32,795 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 17:21:32,796 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:32,796 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 17:21:37,257 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:21:37,341 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:37,342 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 17:21:37,447 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:21:37,600 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:37,601 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (mysql)] **************************************
2023-08-14 17:21:38,397 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:38,484 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:38,484 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user and host based access (mysql)] ***********
2023-08-14 17:21:39,345 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:39,430 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:39,431 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-14 17:21:39,535 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:21:39,615 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:39,616 - bigdata_deploy_logger - INFO - TASK [Create the hive database (mysql)] ****************************************
2023-08-14 17:21:40,464 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:40,540 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:40,541 - bigdata_deploy_logger - INFO - TASK [Create the hive database user and host based access (mysql)] *************
2023-08-14 17:21:41,359 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:41,433 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:41,434 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-14 17:21:41,603 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:21:41,695 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:41,696 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (mysql)] **************************************
2023-08-14 17:21:42,512 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:42,594 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:42,595 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user and host based access (mysql)] ***********
2023-08-14 17:21:43,400 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:43,490 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:43,490 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-14 17:21:43,608 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:21:43,694 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:43,695 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (mysql)] ***********************************
2023-08-14 17:21:44,468 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:44,546 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:44,547 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user and host based access (mysql)] ********
2023-08-14 17:21:45,344 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:21:45,347 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:45,347 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-14 17:21:45,416 - bigdata_deploy_logger - INFO - 
2023-08-14 17:21:45,417 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:21:51,792 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:22:01,211 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:22:01,323 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:22:01,393 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:01,394 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-14 17:22:01,491 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:22:01,574 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:22:01,609 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:22:01,678 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:01,679 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-14 17:22:01,765 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:22:01,837 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:01,852 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:22:01,921 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:01,922 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-14 17:22:02,073 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:22:02,144 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:02,156 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:22:02,160 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:02,160 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-14 17:22:02,236 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:02,236 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:22:18,060 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:22:18,128 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,129 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-14 17:22:18,176 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-14 17:22:18,243 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,244 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-14 17:22:18,266 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:18,363 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,363 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-14 17:22:18,383 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:18,457 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,458 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm MY-REALM.COM] ****************
2023-08-14 17:22:18,478 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:18,557 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,558 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm MY-REALM.COM] ****************
2023-08-14 17:22:18,580 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:18,738 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,738 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-14 17:22:18,757 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:18,832 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,833 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-14 17:22:18,853 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:18,930 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:18,930 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-14 17:22:18,950 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:19,028 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,029 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-14 17:22:19,049 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:19,139 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,140 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-14 17:22:19,160 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:19,234 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,234 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-14 17:22:19,256 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:19,260 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,260 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:22:19,269 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,269 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:22:19,295 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:22:19,301 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,301 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:22:19,331 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:22:19,334 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,335 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:22:19,413 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,414 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:22:19,593 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:22:19,658 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:22:19,679 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:22:19,750 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,750 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:22:19,839 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:22:19,907 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:19,921 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:22:19,991 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:19,992 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:22:20,079 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:22:20,147 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:20,164 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:22:20,235 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:20,236 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:22:20,322 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:22:20,469 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:22:20,484 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:22:20,490 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:20,491 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-14 17:22:20,567 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:20,568 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:22:26,803 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:22:36,664 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:22:36,693 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:22:36,765 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:36,766 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-14 17:22:37,530 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:22:37,547 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:22:37,645 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:22:37,716 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:37,717 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-14 17:22:38,543 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:22:39,227 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:22:39,371 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:22:39,447 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:39,448 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-14 17:22:47,395 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:22:51,126 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:22:53,948 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:22:54,029 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:54,030 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-14 17:22:54,703 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:22:54,732 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:22:54,839 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:22:54,909 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:54,910 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-14 17:22:55,566 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:22:55,639 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:22:55,674 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:22:55,747 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:55,748 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-14 17:22:56,364 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:22:56,428 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:22:56,543 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:22:56,611 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:56,612 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-14 17:22:57,197 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:22:57,330 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:22:57,440 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:22:57,441 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:57,442 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-14 17:22:58,527 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:22:58,908 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:22:59,321 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:22:59,321 - bigdata_deploy_logger - INFO - 
2023-08-14 17:22:59,322 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-14 17:23:02,966 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:23:04,110 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:23:04,360 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:23:04,432 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:04,433 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-14 17:23:05,331 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:23:05,934 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:23:06,008 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:23:06,080 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:06,080 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-14 17:23:07,236 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:23:08,304 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:23:08,490 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:23:08,497 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:08,498 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-14 17:23:08,595 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:08,596 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:23:24,540 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:23:24,615 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:24,615 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-14 17:23:24,662 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-14 17:23:24,735 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:24,736 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-14 17:23:55,447 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:23:55,521 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:55,522 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-14 17:23:56,796 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.596295", "end": "2023-08-14 09:23:56.693210", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:23:56.096915", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-14 17:23:56,796 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:23:56,875 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:56,876 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-14 17:23:57,807 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:23:57,964 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:57,965 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-14 17:23:57,986 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:23:58,059 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:58,060 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-14 17:23:58,698 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:23:58,779 - bigdata_deploy_logger - INFO - 
2023-08-14 17:23:58,779 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-14 17:24:02,733 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-14 17:24:06,914 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-14 17:24:06,919 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:06,920 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-14 17:24:08,643 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:24:08,734 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:08,734 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-14 17:24:08,765 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 17:24:08,936 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:08,937 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-14 17:24:08,960 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:09,185 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:09,186 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-14 17:24:09,208 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:09,287 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:09,288 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-14 17:24:09,312 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:09,393 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:09,394 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages] *************************
2023-08-14 17:24:11,239 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 17:24:11,316 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:11,317 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-14 17:24:11,339 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:11,416 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:11,417 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-14 17:24:12,877 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "mysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 1050 (42S01) at line 39: Table 'registries' already exists\n"}
2023-08-14 17:24:12,877 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:24:12,954 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:12,955 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-14 17:24:12,981 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:13,055 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:13,055 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-14 17:24:14,773 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:24:14,848 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:14,849 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-14 17:24:14,885 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:24:14,959 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:14,960 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-14 17:24:14,983 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:24:15,145 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:15,145 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-14 17:24:18,648 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:24:18,727 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:18,728 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-14 17:24:19,491 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:24:19,585 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:19,586 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-14 17:24:21,645 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:24:21,650 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:21,650 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-14 17:24:38,836 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:24:38,836 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:38,836 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 17:24:40,602 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:24:40,688 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:40,689 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-14 17:24:42,142 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:24:42,289 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:42,290 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-14 17:24:44,443 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:24:44,450 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:44,451 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:24:44,455 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:44,455 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:24:44,480 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:24:44,483 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:44,484 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:24:44,505 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:24:44,513 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:44,513 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:24:44,583 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:44,584 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:24:44,808 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:24:44,833 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:24:44,992 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:24:45,060 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:45,060 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:24:45,151 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:24:45,224 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:45,241 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:24:45,310 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:45,311 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:24:45,404 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:24:45,476 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:45,491 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:24:45,620 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:45,620 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:24:45,709 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:24:45,779 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:24:45,799 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:24:45,809 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:45,810 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 17:24:45,877 - bigdata_deploy_logger - INFO - 
2023-08-14 17:24:45,878 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:24:52,120 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:25:01,495 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:25:01,635 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:25:01,641 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:01,642 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-14 17:25:01,712 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:01,712 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:25:18,127 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:25:18,201 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:18,202 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-14 17:25:18,255 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-14 17:25:18,337 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:18,338 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-14 17:25:19,108 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:25:19,206 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:19,207 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-14 17:25:19,229 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:25:19,313 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:19,314 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-14 17:25:20,584 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"cache_control": "no-store", "changed": false, "connection": "close", "content": "{\n  \"status\" : 409,\n  \"message\" : \"Repository version with name BIGTOP-3.2.0 already exists.\"\n}", "content_type": "text/plain;charset=utf-8", "date": "Mon, 14 Aug 2023 09:25:20 GMT", "elapsed": 0, "expires": "Thu, 01 Jan 1970 00:00:00 GMT", "json": {"message": "Repository version with name BIGTOP-3.2.0 already exists.", "status": 409}, "msg": "Status code was 409 and not [200, 201, 202]: HTTP Error 409: Conflict", "pragma": "no-cache", "redirected": false, "set_cookie": "AMBARISESSIONID=node01b6tovkg3tlf1wxz97g3am9v80.node0;Path=/;HttpOnly", "status": 409, "url": "http://sdp1:8080/api/v1/version_definitions", "user": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", "x_content_type_options": "nosniff", "x_frame_options": "DENY", "x_xss_protection": "1; mode=block"}
2023-08-14 17:25:20,584 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:20,584 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 17:25:20,584 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:20,585 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 17:25:20,585 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0
2023-08-14 17:25:20,585 - bigdata_deploy_logger - INFO - sdp1                       : ok=148  changed=57   unreachable=0    failed=1    skipped=48   rescued=1    ignored=3
2023-08-14 17:25:20,585 - bigdata_deploy_logger - INFO - sdp2                       : ok=80   changed=33   unreachable=0    failed=0    skipped=23   rescued=0    ignored=1
2023-08-14 17:25:20,585 - bigdata_deploy_logger - INFO - sdp3                       : ok=80   changed=33   unreachable=0    failed=0    skipped=23   rescued=0    ignored=1
2023-08-14 17:25:20,586 - bigdata_deploy_logger - INFO - 
2023-08-14 17:25:20,705 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 17:39:00,308 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:39:00,311 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 17:39:00,320 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:39:00,322 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 17:39:00,331 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:39:00,364 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:39:00,372 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:39:00,404 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:39:00,405 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 17:39:00,414 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:39:00,415 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:39:00,447 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:39:00,451 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:39:00,461 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:39:00,464 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:39:00,474 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:39:00,477 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:39:00,485 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:39:00,495 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:39:00,505 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:39:00,513 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:39:00,517 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:39:00,524 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:39:00,526 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:39:00,536 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:39:00,538 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 17:39:00,552 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 17:39:01,482 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 17:39:01,482 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 17:39:03,261 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,262 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:39:03,309 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,309 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:39:03,358 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:39:03,363 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,364 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:39:03,412 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:39:03,415 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,416 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:39:03,422 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,422 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:39:03,714 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:03,719 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:03,757 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:03,761 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,761 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:39:03,809 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:39:03,825 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:39:03,829 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:39:03,833 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,833 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:39:03,882 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:39:03,892 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:39:03,901 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:39:03,905 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,905 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:39:03,954 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:39:03,967 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:39:03,972 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:39:03,977 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:03,977 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 17:39:04,001 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:04,002 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:39:10,515 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:20,234 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:20,476 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:20,489 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:20,490 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 17:39:21,245 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:21,268 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:21,386 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:21,398 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:21,399 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 17:39:21,453 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 17:39:21,454 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 17:39:21,454 - bigdata_deploy_logger - INFO - }
2023-08-14 17:39:21,473 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 17:39:21,473 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 17:39:21,473 - bigdata_deploy_logger - INFO - }
2023-08-14 17:39:21,494 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 17:39:21,494 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 17:39:21,494 - bigdata_deploy_logger - INFO - }
2023-08-14 17:39:21,511 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:21,512 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 17:39:21,573 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:39:21,581 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:39:21,605 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:39:21,618 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:21,619 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 17:39:21,692 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:39:21,716 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:39:21,738 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:39:21,779 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:21,779 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 17:39:22,541 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:22,582 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:22,683 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:22,695 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:22,695 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 17:39:23,246 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:23,278 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:23,469 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:23,483 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:23,483 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 17:39:25,677 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:26,254 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:26,632 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:26,643 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:26,644 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 17:39:27,661 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 17:39:27,662 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 17:39:27,662 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 17:39:27,662 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:28,036 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:28,160 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:28,174 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:28,175 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 17:39:29,409 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:29,814 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:29,906 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:29,921 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:29,922 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 17:39:30,990 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:31,852 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:32,137 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:32,150 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:32,151 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 17:39:33,129 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:33,193 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:33,359 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:33,372 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:33,372 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 17:39:34,337 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:34,756 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:34,951 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:34,966 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:34,966 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 17:39:36,412 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:37,653 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:37,913 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:37,925 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:37,925 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 17:39:38,023 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 17:39:38,053 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:38,054 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 17:39:40,440 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:40,462 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:40,577 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:40,638 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:40,639 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 17:39:41,249 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:41,417 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:41,540 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:41,627 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:41,628 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 17:39:43,095 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:39:44,076 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:39:44,260 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:39:44,328 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:44,329 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 17:39:47,137 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:47,174 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:47,293 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:47,367 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:47,368 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 17:39:48,173 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:48,686 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:48,764 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:48,848 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:48,848 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 17:39:49,007 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:39:49,076 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:39:49,090 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:39:49,159 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:49,159 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 17:39:49,925 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:50,393 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:50,542 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:50,612 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:50,613 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 17:39:51,391 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 17:39:51,391 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 17:39:51,392 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 17:39:51,392 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 17:39:51,392 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:51,949 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:52,031 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:52,099 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:52,099 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 17:39:52,893 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:53,385 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:53,491 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:53,555 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:53,556 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 17:39:54,904 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:39:55,685 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:39:55,770 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:39:55,848 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:55,849 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 17:39:56,626 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:39:57,143 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:39:57,239 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:39:57,317 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:57,318 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 17:39:58,162 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:39:58,725 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:39:58,790 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:39:58,866 - bigdata_deploy_logger - INFO - 
2023-08-14 17:39:58,866 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 17:39:59,729 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 17:39:59,745 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 17:39:59,925 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 17:40:00,390 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 17:40:00,585 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 17:40:00,815 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 17:40:01,039 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 17:40:01,259 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 17:40:01,611 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 17:40:01,700 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:01,701 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 17:40:01,792 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:40:01,865 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:40:01,886 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:40:01,965 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:01,966 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 17:40:02,538 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:40:02,771 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:40:02,794 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:40:02,871 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:02,872 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 17:40:03,469 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:40:03,578 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:40:03,745 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:40:03,822 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:03,823 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 17:40:04,712 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 17:40:04,712 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 17:40:04,713 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 17:40:04,713 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 17:40:04,713 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:40:05,277 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:40:05,389 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:40:05,465 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:05,466 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 17:40:06,313 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:40:06,890 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:40:07,007 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:40:07,079 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:07,080 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 17:40:07,806 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:40:07,811 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:40:08,017 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:40:08,351 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:40:08,370 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:40:08,782 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:40:08,867 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:08,867 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:40:10,240 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:40:10,735 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:40:10,847 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:40:10,919 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:10,919 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:40:11,226 - bigdata_deploy_logger - INFO - 
2023-08-14 17:40:11,227 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 17:40:36,493 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:40:44,770 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:41:11,744 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:41:11,811 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:11,812 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 17:41:12,548 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:12,748 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:12,869 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:13,030 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:13,031 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 17:41:14,536 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:15,350 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:15,809 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:41:15,878 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:15,879 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 17:41:15,969 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:41:16,058 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:41:18,741 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:41:18,822 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:18,823 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 17:41:20,557 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:41:22,254 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:41:22,371 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:41:22,431 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:22,432 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 17:41:23,833 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:41:25,125 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:41:25,265 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:41:25,329 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:25,329 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:41:34,219 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.315325", "end": "2023-08-14 09:41:34.132646", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:41:25.817321", "stderr": "14 Aug 09:41:34 ntpdate[70338]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:41:34 ntpdate[70338]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:41:34,220 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:41:34,809 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.739617", "end": "2023-08-14 09:41:34.732134", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:41:25.992517", "stderr": "14 Aug 09:41:34 ntpdate[20111]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:41:34 ntpdate[20111]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:41:34,809 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:41:34,888 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.742044", "end": "2023-08-14 09:41:34.776079", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:41:26.034035", "stderr": "14 Aug 09:41:34 ntpdate[29769]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:41:34 ntpdate[29769]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:41:34,888 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:41:34,955 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:34,956 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:41:35,783 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:41:36,489 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:41:36,515 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:41:36,592 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:36,593 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 17:41:37,979 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:38,847 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:39,233 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:39,318 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:39,319 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 17:41:39,740 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:41:39,749 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:41:39,754 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:41:39,925 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:39,925 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:40,014 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:40,084 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:40,109 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:40,176 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:40,177 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:40,267 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:40,344 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:40,361 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:40,429 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:40,429 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:40,520 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:40,591 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:40,608 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:40,681 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:40,682 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 17:41:41,509 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 17:41:41,509 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 17:41:41,509 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 17:41:41,509 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 17:41:41,509 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:42,096 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:42,235 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:42,390 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:42,391 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:41:43,172 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:43,720 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:43,898 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:43,979 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:43,980 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:41:44,073 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:44,142 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:44,161 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:44,232 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:44,233 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 17:41:44,319 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:41:44,386 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:41:44,393 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:41:44,464 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:44,465 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 17:41:44,555 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:41:44,627 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:41:44,634 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:41:44,704 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:44,705 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:44,796 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:44,943 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:44,961 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:45,029 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:45,029 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:45,118 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:45,188 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:45,206 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:45,275 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:45,275 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:45,366 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:45,437 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:45,453 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:45,522 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:45,522 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 17:41:46,406 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:46,947 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:47,093 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:47,173 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:47,174 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:41:47,994 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:48,498 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:48,642 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:48,710 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:48,710 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:41:48,803 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:48,872 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:48,894 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:48,966 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:48,966 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 17:41:49,058 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:41:49,125 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:41:49,132 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:41:49,204 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:49,205 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 17:41:49,290 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:41:49,362 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:41:49,368 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:41:49,441 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:49,442 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:49,529 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:49,611 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:49,630 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:49,706 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:49,707 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:49,809 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:49,955 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:49,973 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:50,042 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:50,042 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:41:50,136 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:50,209 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:50,225 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:50,294 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:50,295 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 17:41:51,178 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:51,580 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:51,687 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:51,758 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:51,759 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:41:52,602 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:52,978 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:53,172 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:53,344 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:53,345 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:41:53,438 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:41:53,517 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:41:53,538 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:41:53,627 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:53,628 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 17:41:53,714 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:41:53,783 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:41:53,790 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:41:53,864 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:53,864 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 17:41:53,950 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:41:54,019 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:41:54,026 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:41:54,027 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:54,028 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 17:41:55,189 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 17:41:55,189 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 17:41:55,189 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 17:41:55,190 - bigdata_deploy_logger - INFO - this message.
2023-08-14 17:41:55,190 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:41:55,343 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:41:55,684 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:41:55,684 - bigdata_deploy_logger - INFO - 
2023-08-14 17:41:55,684 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 17:42:01,694 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:42:03,193 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:42:03,995 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:42:04,002 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:04,002 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 17:42:04,084 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:04,085 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:42:20,242 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:42:20,339 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:20,340 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 17:42:20,409 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 17:42:20,501 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:20,502 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 17:42:20,526 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:42:20,599 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:20,600 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-14 17:42:23,565 - bigdata_deploy_logger - INFO - failed: [sdp1] (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10) => {"ansible_loop_var": "item", "changed": false, "item": "postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10", "msg": "The following packages have pending transactions: postgresql10-x86_64", "rc": 125, "results": []}
2023-08-14 17:42:23,566 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:23,566 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 17:42:23,567 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:23,567 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 17:42:23,567 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-14 17:42:23,567 - bigdata_deploy_logger - INFO - sdp1                       : ok=67   changed=27   unreachable=0    failed=1    skipped=14   rescued=0    ignored=1
2023-08-14 17:42:23,568 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 17:42:23,568 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-14 17:42:23,568 - bigdata_deploy_logger - INFO - 
2023-08-14 17:42:23,698 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 17:48:27,574 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:48:27,577 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 17:48:27,588 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:48:27,589 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 17:48:27,599 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:48:27,635 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:48:27,643 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:48:27,677 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:48:27,678 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 17:48:27,688 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:48:27,689 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:48:27,723 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 17:48:27,727 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:48:27,739 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:48:27,742 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:48:27,757 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:48:27,762 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 17:48:27,775 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:48:27,791 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:48:27,802 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 17:48:27,810 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:48:27,814 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 17:48:27,822 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 17:48:27,823 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 17:48:27,832 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 17:48:27,834 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 17:48:27,849 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 17:48:28,725 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 17:48:28,725 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 17:48:30,345 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,345 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:48:30,376 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,377 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:48:30,429 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:48:30,434 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,434 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:48:30,481 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:48:30,485 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,485 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:48:30,491 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,491 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:48:30,767 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:48:30,801 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:48:30,841 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:48:30,847 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,847 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:48:30,895 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:48:30,900 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:48:30,911 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:48:30,916 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,917 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:48:30,964 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:48:30,973 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:48:30,982 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:48:30,986 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:30,986 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:48:31,033 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:48:31,040 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:48:31,048 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:48:31,053 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:31,053 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 17:48:31,077 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:31,078 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:48:37,743 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:48:47,428 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:48:47,588 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:48:47,601 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:47,602 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 17:48:48,346 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:48:48,387 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:48:48,456 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:48:48,469 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:48,470 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 17:48:48,521 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 17:48:48,521 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 17:48:48,521 - bigdata_deploy_logger - INFO - }
2023-08-14 17:48:48,540 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 17:48:48,540 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 17:48:48,540 - bigdata_deploy_logger - INFO - }
2023-08-14 17:48:48,560 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 17:48:48,560 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 17:48:48,560 - bigdata_deploy_logger - INFO - }
2023-08-14 17:48:48,571 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:48,571 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 17:48:48,623 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:48:48,634 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:48:48,652 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:48:48,666 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:48,666 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 17:48:48,743 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:48:48,760 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:48:48,783 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 17:48:48,833 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:48,834 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 17:48:49,559 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:48:49,605 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:48:49,690 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:48:49,702 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:49,703 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 17:48:50,242 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:48:50,282 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:48:50,434 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:48:50,447 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:50,448 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 17:48:52,663 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:48:53,148 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:48:53,459 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:48:53,476 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:53,476 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 17:48:54,500 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 17:48:54,501 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 17:48:54,501 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 17:48:54,501 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:48:54,827 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:48:54,950 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:48:54,966 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:54,966 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 17:48:56,184 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:48:56,540 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:48:56,644 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:48:56,659 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:56,659 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 17:48:57,751 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:48:58,490 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:48:58,671 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:48:58,684 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:58,685 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 17:48:59,666 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:48:59,693 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:48:59,825 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:48:59,842 - bigdata_deploy_logger - INFO - 
2023-08-14 17:48:59,843 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 17:49:00,822 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:01,192 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:01,368 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:01,381 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:01,382 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 17:49:02,784 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:49:04,016 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:49:04,232 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:49:04,245 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:04,245 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 17:49:04,350 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 17:49:04,385 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:04,385 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 17:49:06,837 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:49:06,920 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:49:07,047 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:49:07,112 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:07,113 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 17:49:07,715 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:49:07,975 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:49:08,022 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:49:08,180 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:08,181 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 17:49:09,606 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:49:10,602 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:49:10,819 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:49:10,893 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:10,894 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 17:49:12,933 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:13,818 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:13,878 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:13,953 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:13,954 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 17:49:14,780 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:15,426 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:15,464 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:15,533 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:15,533 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 17:49:15,622 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:49:15,691 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:49:15,705 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:49:15,774 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:15,774 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 17:49:16,532 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:17,151 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:17,305 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:17,374 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:17,375 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 17:49:18,176 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 17:49:18,177 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 17:49:18,177 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 17:49:18,177 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 17:49:18,177 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:18,912 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:18,917 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:18,984 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:18,984 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 17:49:19,774 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:20,436 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:20,498 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:20,574 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:20,575 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 17:49:21,966 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:49:22,760 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:49:22,968 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 17:49:23,048 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:23,049 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 17:49:23,923 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:49:24,569 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:49:24,618 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 17:49:24,701 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:24,702 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 17:49:25,479 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:26,060 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:26,178 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:26,245 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:26,246 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 17:49:27,165 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 17:49:27,190 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 17:49:27,334 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 17:49:27,904 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 17:49:27,927 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 17:49:28,351 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 17:49:28,607 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 17:49:28,609 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 17:49:29,208 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 17:49:29,349 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:29,350 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 17:49:29,440 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:49:29,516 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:49:29,529 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:49:29,601 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:29,602 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 17:49:30,183 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:30,301 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:30,475 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:30,544 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:30,545 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 17:49:31,174 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:49:31,324 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:49:31,441 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 17:49:31,512 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:31,512 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 17:49:32,368 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 17:49:32,369 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 17:49:32,369 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 17:49:32,369 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 17:49:32,369 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:49:32,929 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:49:33,087 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:49:33,160 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:33,161 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 17:49:33,953 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:49:34,543 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:49:34,653 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 17:49:34,727 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:34,728 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 17:49:35,528 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:49:35,558 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:49:35,649 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 17:49:36,067 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:49:36,147 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:49:36,347 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 17:49:36,420 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:36,420 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:49:37,820 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:49:38,269 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:49:38,385 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 17:49:38,476 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:38,476 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 17:49:38,768 - bigdata_deploy_logger - INFO - 
2023-08-14 17:49:38,769 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 17:50:02,271 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:50:08,975 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:50:09,384 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:50:09,455 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:09,456 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 17:50:10,286 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:10,454 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:10,562 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:10,631 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:10,632 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 17:50:12,044 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:13,007 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:13,617 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:50:13,690 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:13,691 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 17:50:13,778 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:50:13,943 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:50:16,508 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:50:16,575 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:16,576 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 17:50:18,248 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:50:19,975 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:50:20,160 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:50:20,229 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:20,230 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 17:50:21,628 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:50:22,976 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:50:23,233 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:50:23,306 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:23,307 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:50:32,200 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.316843", "end": "2023-08-14 09:50:32.117236", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:50:23.800393", "stderr": "14 Aug 09:50:32 ntpdate[76884]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:50:32 ntpdate[76884]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:50:32,201 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:50:32,910 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.767402", "end": "2023-08-14 09:50:32.812177", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:50:24.044775", "stderr": "14 Aug 09:50:32 ntpdate[24509]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:50:32 ntpdate[24509]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:50:32,910 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:50:33,049 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.757215", "end": "2023-08-14 09:50:32.918188", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:50:24.160973", "stderr": "14 Aug 09:50:32 ntpdate[36889]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 09:50:32 ntpdate[36889]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 17:50:33,050 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:50:33,131 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:33,132 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 17:50:33,959 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:50:34,581 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:50:34,642 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:50:34,723 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:34,724 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 17:50:36,139 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:37,026 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:37,389 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:37,457 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:37,457 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 17:50:37,920 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:50:37,928 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:50:37,934 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 17:50:38,038 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:38,039 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:38,126 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:38,193 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:38,213 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:38,286 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:38,286 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:38,374 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:38,449 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:38,465 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:38,534 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:38,534 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:38,630 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:38,702 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:38,719 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:38,788 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:38,789 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 17:50:39,656 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 17:50:39,656 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 17:50:39,657 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 17:50:39,657 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 17:50:39,657 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:40,121 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:40,330 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:40,400 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:40,401 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:50:41,237 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:41,715 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:41,943 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:42,012 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:42,013 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:50:42,102 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:42,172 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:42,193 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:42,263 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:42,264 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 17:50:42,351 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:50:42,418 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:50:42,426 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:50:42,567 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:42,568 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 17:50:42,653 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:50:42,722 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:50:42,729 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:50:42,800 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:42,801 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:42,890 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:42,962 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:42,979 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:43,046 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:43,046 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:43,131 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:43,199 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:43,215 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:43,280 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:43,280 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:43,365 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:43,448 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:43,469 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:43,549 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:43,550 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 17:50:44,370 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:44,955 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:45,120 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:45,186 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:45,187 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:50:46,011 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:46,592 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:46,820 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:46,891 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:46,891 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:50:46,985 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:47,068 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:47,088 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:47,164 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:47,165 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 17:50:47,249 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:50:47,314 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:50:47,322 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:50:47,391 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:47,392 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 17:50:47,476 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:50:47,540 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:50:47,549 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:50:47,689 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:47,690 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:47,778 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:47,851 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:47,868 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:47,941 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:47,942 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:48,046 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:48,120 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:48,138 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:48,211 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:48,212 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 17:50:48,300 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:48,370 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:48,388 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:48,457 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:48,458 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 17:50:49,278 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:49,827 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:49,917 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:49,987 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:49,988 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 17:50:50,804 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:51,345 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:51,381 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:51,454 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:51,455 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 17:50:51,549 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:50:51,620 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:50:51,641 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:50:51,716 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:51,716 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 17:50:51,802 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:50:51,871 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:50:51,878 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:50:51,951 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:51,952 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 17:50:52,038 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:50:52,106 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:50:52,113 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:50:52,114 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:52,114 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 17:50:53,219 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 17:50:53,220 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 17:50:53,220 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 17:50:53,220 - bigdata_deploy_logger - INFO - this message.
2023-08-14 17:50:53,220 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:50:53,437 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:50:53,792 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:50:53,792 - bigdata_deploy_logger - INFO - 
2023-08-14 17:50:53,793 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 17:50:59,830 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:51:00,973 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:51:07,361 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:51:07,366 - bigdata_deploy_logger - INFO - 
2023-08-14 17:51:07,367 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 17:51:07,450 - bigdata_deploy_logger - INFO - 
2023-08-14 17:51:07,451 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:51:23,482 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:51:23,562 - bigdata_deploy_logger - INFO - 
2023-08-14 17:51:23,562 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 17:51:23,630 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 17:51:23,783 - bigdata_deploy_logger - INFO - 
2023-08-14 17:51:23,784 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 17:51:23,809 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:51:23,886 - bigdata_deploy_logger - INFO - 
2023-08-14 17:51:23,887 - bigdata_deploy_logger - INFO - TASK [Install mysql database packages] *****************************************
2023-08-14 17:52:29,952 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mysql-community-server,mysql-community-client,MySQL-python)
2023-08-14 17:52:30,036 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:30,037 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 17:52:30,065 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:52:30,144 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:30,144 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 17:52:30,168 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:52:30,246 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:30,246 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 17:52:30,268 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:52:30,343 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:30,343 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 17:52:30,370 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:52:30,446 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:30,447 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 17:52:31,442 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:52:31,596 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:31,597 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 17:52:32,371 - bigdata_deploy_logger - INFO - [WARNING]: The value 200 (type int) in a string field was converted to u'200'
2023-08-14 17:52:32,371 - bigdata_deploy_logger - INFO - (type string). If this does not look like what you expect, quote the entire
2023-08-14 17:52:32,372 - bigdata_deploy_logger - INFO - value to ensure it does not change.
2023-08-14 17:52:32,372 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:52:32,448 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:32,448 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-14 17:52:32,584 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql-setup.yml for sdp1
2023-08-14 17:52:32,655 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:32,656 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 17:52:33,596 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "msg": "unable to find /********/.my.cnf. Exception message: (2002, \"Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)\")"}
2023-08-14 17:52:33,673 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:33,674 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 17:52:33,801 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 17:52:33,874 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:33,874 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 17:52:35,412 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:52:35,491 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:35,492 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 17:52:36,300 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:52:36,420 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:36,420 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 17:52:37,461 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:52:37,539 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:37,540 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 17:52:37,717 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:37,718 - bigdata_deploy_logger - INFO - TASK [database : Copy init.cnf for skip-grant-tables mode] *********************
2023-08-14 17:52:40,459 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:52:40,537 - bigdata_deploy_logger - INFO - 
2023-08-14 17:52:40,538 - bigdata_deploy_logger - INFO - TASK [database : Start mysql with skip-grant-tables] ***************************
2023-08-14 17:53:45,952 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:53:46,033 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:46,033 - bigdata_deploy_logger - INFO - TASK [database : Check mysql version] ******************************************
2023-08-14 17:53:46,717 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:53:46,798 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:46,799 - bigdata_deploy_logger - INFO - TASK [database : Copy reset.sql for root reset] ********************************
2023-08-14 17:53:48,006 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:53:48,087 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:48,087 - bigdata_deploy_logger - INFO - TASK [database : Reset root credentials] ***************************************
2023-08-14 17:53:49,579 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:53:49,652 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:49,653 - bigdata_deploy_logger - INFO - TASK [database : Clear InnoDB logs] ********************************************
2023-08-14 17:53:49,817 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/clear_innodb_logs.yml for sdp1
2023-08-14 17:53:49,885 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:49,886 - bigdata_deploy_logger - INFO - TASK [database : Stop MySQL to change configs] *********************************
2023-08-14 17:53:53,816 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:53:53,896 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:53,897 - bigdata_deploy_logger - INFO - TASK [database : Wait until the lock file is removed] **************************
2023-08-14 17:53:54,526 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:53:54,636 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:54,637 - bigdata_deploy_logger - INFO - TASK [database : Find InnoDB log files] ****************************************
2023-08-14 17:53:55,283 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:53:55,378 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:55,379 - bigdata_deploy_logger - INFO - TASK [database : Remove default InnoDB log files] ******************************
2023-08-14 17:53:56,153 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692006819.2976134, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile1', u'xusr': False, u'atime': 1692006819.2556136, u'inode': 67316167, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692006819.2976134, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:53:56,780 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'rusr': True, u'uid': 27, u'rgrp': True, u'xoth': False, u'islnk': False, u'woth': False, u'nlink': 1, u'issock': False, u'mtime': 1692006832.943614, u'gr_name': u'mysql', u'path': u'/var/lib/mysql/ib_logfile0', u'xusr': False, u'atime': 1692006802.3836129, u'inode': 67316166, u'isgid': False, u'size': 50331648, u'isdir': False, u'ctime': 1692006832.943614, u'isblk': False, u'wgrp': False, u'xgrp': False, u'isuid': False, u'dev': 64770, u'roth': False, u'isreg': True, u'isfifo': False, u'mode': u'0640', u'pw_name': u'mysql', u'gid': 27, u'ischr': False, u'wusr': True})
2023-08-14 17:53:56,845 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:56,846 - bigdata_deploy_logger - INFO - TASK [database : Copy my.cnf global MySQL configuration] ***********************
2023-08-14 17:53:59,224 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:53:59,299 - bigdata_deploy_logger - INFO - 
2023-08-14 17:53:59,300 - bigdata_deploy_logger - INFO - TASK [database : Start mysql] **************************************************
2023-08-14 17:54:04,271 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:04,358 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:04,358 - bigdata_deploy_logger - INFO - TASK [database : Remove file reset.sql] ****************************************
2023-08-14 17:54:05,038 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:05,111 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:05,112 - bigdata_deploy_logger - INFO - TASK [database : Wait for service to be ready] *********************************
2023-08-14 17:54:08,787 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:54:08,861 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:08,862 - bigdata_deploy_logger - INFO - TASK [database : Ensure default user is present] *******************************
2023-08-14 17:54:08,885 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:54:08,959 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:08,960 - bigdata_deploy_logger - INFO - TASK [database : Copy .my.cnf file with password credentials] ******************
2023-08-14 17:54:08,984 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:54:09,062 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:09,063 - bigdata_deploy_logger - INFO - TASK [database : Update mysql root password for all root accounts] *************
2023-08-14 17:54:09,940 - bigdata_deploy_logger - INFO - [WARNING]: Module did not set no_log for update_password
2023-08-14 17:54:09,940 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:54:10,025 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:10,026 - bigdata_deploy_logger - INFO - TASK [database : Remove anonymous MySQL users] *********************************
2023-08-14 17:54:10,688 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:54:10,770 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:10,771 - bigdata_deploy_logger - INFO - TASK [Remove MySQL test database] **********************************************
2023-08-14 17:54:11,421 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:54:11,509 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:11,510 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is started] ***********************
2023-08-14 17:54:12,953 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:54:13,034 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:13,034 - bigdata_deploy_logger - INFO - TASK [database : Make sure the mysql service is enabled] ***********************
2023-08-14 17:54:15,151 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:54:15,152 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 17:54:15,153 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:15,153 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart mysql] *************************************
2023-08-14 17:54:21,807 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:21,883 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:21,884 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 17:54:22,072 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:54:22,154 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:22,155 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (mysql)] **************************************
2023-08-14 17:54:22,978 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:23,062 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:23,063 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user and host based access (mysql)] ***********
2023-08-14 17:54:23,870 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:23,953 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:23,954 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-14 17:54:24,063 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:54:24,145 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:24,146 - bigdata_deploy_logger - INFO - TASK [Create the hive database (mysql)] ****************************************
2023-08-14 17:54:25,008 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:25,086 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:25,087 - bigdata_deploy_logger - INFO - TASK [Create the hive database user and host based access (mysql)] *************
2023-08-14 17:54:25,912 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:25,993 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:25,994 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-14 17:54:26,103 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:54:26,278 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:26,279 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (mysql)] **************************************
2023-08-14 17:54:27,087 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:27,204 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:27,205 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user and host based access (mysql)] ***********
2023-08-14 17:54:28,004 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:28,106 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:28,107 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-14 17:54:28,215 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/mysql_play.yml for sdp1
2023-08-14 17:54:28,295 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:28,296 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (mysql)] ***********************************
2023-08-14 17:54:29,155 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:29,247 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:29,248 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user and host based access (mysql)] ********
2023-08-14 17:54:30,087 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:54:30,090 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:30,090 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-14 17:54:30,164 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:30,165 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:54:36,625 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:54:46,250 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:54:46,327 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:54:46,399 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:46,400 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-14 17:54:46,518 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:54:46,597 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:54:46,631 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 17:54:46,698 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:46,699 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-14 17:54:46,793 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:54:46,868 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:54:46,884 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:54:46,956 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:46,957 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-14 17:54:47,124 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:54:47,200 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:54:47,212 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:54:47,218 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:47,218 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-14 17:54:47,309 - bigdata_deploy_logger - INFO - 
2023-08-14 17:54:47,309 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:55:02,940 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:55:03,024 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,025 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-14 17:55:03,071 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-14 17:55:03,153 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,154 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-14 17:55:03,178 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:03,250 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,251 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-14 17:55:03,270 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:03,351 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,351 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm MY-REALM.COM] ****************
2023-08-14 17:55:03,372 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:03,449 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,450 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm MY-REALM.COM] ****************
2023-08-14 17:55:03,472 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:03,549 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,550 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-14 17:55:03,571 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:03,718 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,719 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-14 17:55:03,739 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:03,816 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,817 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-14 17:55:03,838 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:03,912 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:03,913 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-14 17:55:03,933 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:04,006 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,007 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-14 17:55:04,027 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:04,100 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,101 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-14 17:55:04,120 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:04,124 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,124 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:55:04,130 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,130 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:55:04,153 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:55:04,157 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,157 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:55:04,177 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:55:04,180 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,181 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:55:04,257 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,258 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:55:04,446 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:55:04,484 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:55:04,549 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:55:04,616 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,616 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:55:04,707 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:55:04,793 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:04,811 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:55:04,882 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:04,883 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:55:04,981 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:55:05,053 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:05,070 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:55:05,138 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:05,138 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:55:05,228 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:55:05,300 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:55:05,316 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:55:05,323 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:05,324 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-14 17:55:05,496 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:05,496 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:55:11,646 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:55:21,327 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:55:21,529 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:55:21,597 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:21,597 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-14 17:55:22,393 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:55:22,393 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:55:22,553 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:55:22,624 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:22,625 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-14 17:55:23,477 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:55:24,200 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:55:24,324 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:55:24,395 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:24,395 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-14 17:55:34,318 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:55:37,711 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:55:38,896 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:55:38,964 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:38,965 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-14 17:55:39,580 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:55:39,865 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:55:40,008 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:55:40,082 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:40,082 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-14 17:55:40,761 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:55:40,802 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:55:40,973 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:55:41,041 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:41,042 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-14 17:55:41,640 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:55:41,809 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:55:41,914 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:55:41,988 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:41,989 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-14 17:55:42,580 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:55:42,750 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:55:42,856 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:55:42,857 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:42,857 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-14 17:55:43,896 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:55:44,446 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:55:44,775 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:55:44,776 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:44,776 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-14 17:55:48,508 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:55:49,631 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:55:50,141 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:55:50,211 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:50,212 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-14 17:55:51,164 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:55:51,738 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:55:51,923 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:55:51,996 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:51,996 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-14 17:55:53,177 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:55:53,959 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:55:54,123 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:55:54,129 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:54,129 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-14 17:55:54,212 - bigdata_deploy_logger - INFO - 
2023-08-14 17:55:54,213 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:56:10,047 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:56:10,140 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:10,141 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-14 17:56:10,193 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-14 17:56:10,268 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:10,269 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-14 17:56:36,340 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:56:36,412 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:36,413 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-14 17:56:37,796 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.631897", "end": "2023-08-14 09:56:37.663582", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 09:56:37.031685", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-14 17:56:37,796 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 17:56:37,871 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:37,872 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-14 17:56:38,890 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:56:38,965 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:38,966 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-14 17:56:38,984 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:56:39,066 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:39,067 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-14 17:56:39,896 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:56:39,970 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:39,971 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-14 17:56:44,220 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-14 17:56:48,304 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-14 17:56:48,309 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:48,309 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-14 17:56:49,943 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:56:50,088 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:50,089 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-14 17:56:50,121 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 17:56:50,265 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:50,266 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-14 17:56:50,289 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:56:50,434 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:50,435 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-14 17:56:50,457 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:56:50,527 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:50,528 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-14 17:56:50,548 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:56:50,625 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:50,626 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages] *************************
2023-08-14 17:56:52,264 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 17:56:52,342 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:52,342 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-14 17:56:52,364 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:56:52,439 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:52,440 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-14 17:56:57,540 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:56:57,619 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:57,620 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-14 17:56:57,651 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:56:57,726 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:57,727 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-14 17:56:59,267 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:56:59,348 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:59,349 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-14 17:56:59,388 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:56:59,463 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:59,464 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-14 17:56:59,485 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:56:59,563 - bigdata_deploy_logger - INFO - 
2023-08-14 17:56:59,564 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-14 17:57:02,966 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:57:03,113 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:03,114 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-14 17:57:03,767 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:57:03,843 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:03,844 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-14 17:57:04,505 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:57:04,508 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:04,508 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-14 17:57:19,644 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:57:19,645 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:19,645 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 17:57:21,514 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:57:21,589 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:21,589 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-14 17:57:23,035 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:57:23,110 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:23,110 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-14 17:57:25,158 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:57:25,161 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:25,162 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:57:25,167 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:25,167 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:57:25,190 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:57:25,194 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:25,195 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:57:25,215 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:57:25,219 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:25,219 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:57:25,292 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:25,293 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:57:25,495 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:57:25,556 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:57:25,710 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:57:25,791 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:25,791 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:57:25,887 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:57:25,959 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:57:25,976 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:57:26,052 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:26,053 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:57:26,145 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:57:26,217 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:57:26,234 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:57:26,309 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:26,310 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:57:26,400 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:57:26,545 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:57:26,563 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:57:26,567 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:26,568 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 17:57:26,645 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:26,646 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:57:32,999 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:57:42,126 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:57:42,264 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:57:42,271 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:42,272 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-14 17:57:42,349 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:42,350 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:57:57,798 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:57:57,877 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:57,877 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-14 17:57:57,926 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-14 17:57:57,998 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:57,998 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-14 17:57:58,650 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:57:58,722 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:58,723 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-14 17:57:58,746 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:57:58,827 - bigdata_deploy_logger - INFO - 
2023-08-14 17:57:58,828 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-14 17:57:59,988 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:00,075 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:00,076 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-14 17:58:00,103 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:00,196 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:00,197 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-14 17:58:00,421 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:00,503 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:00,503 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-14 17:58:01,289 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:01,368 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:01,369 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-14 17:58:02,643 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-14 17:58:03,432 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-14 17:58:04,303 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-14 17:58:04,320 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:04,321 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-14 17:58:18,812 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:58:18,812 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:18,813 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 17:58:20,563 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:20,567 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:20,568 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 17:58:20,572 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:20,573 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 17:58:20,598 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:58:20,603 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:20,603 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 17:58:20,622 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 17:58:20,626 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:20,626 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 17:58:20,700 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:20,700 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 17:58:20,808 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 17:58:20,939 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 17:58:20,978 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 17:58:21,058 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:21,059 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 17:58:21,226 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:58:21,304 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:58:21,323 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:58:21,404 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:21,405 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 17:58:21,503 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:58:21,576 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:58:21,592 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:58:21,664 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:21,665 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 17:58:21,757 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 17:58:21,842 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:58:21,858 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 17:58:21,862 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:21,862 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 17:58:21,940 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:21,941 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:58:27,963 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 17:58:37,822 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 17:58:38,171 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:38,174 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:38,175 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-14 17:58:38,245 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:38,245 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 17:58:54,063 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:54,145 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:54,146 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-14 17:58:54,196 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-14 17:58:54,273 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:54,274 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-14 17:58:55,562 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:55,645 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:55,646 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-14 17:58:55,669 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:58:55,745 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:55,746 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-14 17:58:55,810 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:55,907 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:55,907 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-14 17:58:55,928 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:58:56,006 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:56,006 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-14 17:58:56,125 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:56,190 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:56,191 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-14 17:58:56,210 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 17:58:56,303 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:56,303 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called my_blueprint] ****
2023-08-14 17:58:57,064 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:57,160 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:57,161 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint my_blueprint to the Ambari server] ***
2023-08-14 17:58:58,117 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:58,214 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:58,214 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-14 17:58:59,209 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:58:59,281 - bigdata_deploy_logger - INFO - 
2023-08-14 17:58:59,282 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-14 17:59:10,057 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 17:59:10,133 - bigdata_deploy_logger - INFO - 
2023-08-14 17:59:10,134 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-14 17:59:11,037 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-14 17:59:21,934 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-14 17:59:32,865 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-14 17:59:44,846 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-14 18:00:02,968 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-14 18:00:23,327 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-14 18:00:34,153 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-14 18:00:45,033 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-14 18:00:55,830 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-14 18:01:34,187 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-14 18:01:48,668 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-14 18:02:02,369 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-14 18:02:30,697 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-14 18:03:12,490 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"msg": "The conditional check '(((cluster_check_task.content|from_json).Requests.request_status == 'COMPLETED' and (cluster_check_task.content|from_json).Requests.completed_task_count|int > 0) or (cluster_check_task.content|from_json).Requests.request_status == 'FAILED' or (cluster_check_task.content|from_json).Requests.request_status == 'TIMEDOUT' or (cluster_check_task.content|from_json).Requests.request_status == 'ABORTED')' failed. The error was: No JSON object could be decoded"}
2023-08-14 18:03:12,490 - bigdata_deploy_logger - INFO - 
2023-08-14 18:03:12,491 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-14 18:03:12,491 - bigdata_deploy_logger - INFO - 
2023-08-14 18:03:12,491 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 18:03:12,491 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-14 18:03:12,491 - bigdata_deploy_logger - INFO - sdp1                       : ok=165  changed=67   unreachable=0    failed=1    skipped=55   rescued=1    ignored=2
2023-08-14 18:03:12,491 - bigdata_deploy_logger - INFO - sdp2                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-14 18:03:12,492 - bigdata_deploy_logger - INFO - sdp3                       : ok=82   changed=34   unreachable=0    failed=0    skipped=26   rescued=0    ignored=1
2023-08-14 18:03:12,492 - bigdata_deploy_logger - INFO - 
2023-08-14 18:03:12,597 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-14 18:25:53,133 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 18:25:53,136 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-14 18:25:53,150 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 18:25:53,151 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-14 18:25:53,165 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 18:25:53,215 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 18:25:53,225 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 18:25:53,259 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 18:25:53,260 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-14 18:25:53,270 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 18:25:53,271 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 18:25:53,303 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-14 18:25:53,307 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 18:25:53,316 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 18:25:53,320 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 18:25:53,331 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 18:25:53,336 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-14 18:25:53,349 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 18:25:53,365 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 18:25:53,380 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-14 18:25:53,393 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 18:25:53,399 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-14 18:25:53,412 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-14 18:25:53,413 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-14 18:25:53,429 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-14 18:25:53,432 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-14 18:25:53,456 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-14 18:25:54,353 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-14 18:25:54,353 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-14 18:25:56,037 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,037 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 18:25:56,069 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,069 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 18:25:56,117 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:25:56,123 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,123 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 18:25:56,169 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:25:56,174 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,174 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 18:25:56,183 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,183 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 18:25:56,449 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:25:56,470 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:25:56,479 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:25:56,484 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,485 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 18:25:56,531 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:25:56,546 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:25:56,547 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:25:56,551 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,551 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 18:25:56,597 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:25:56,605 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:25:56,611 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:25:56,616 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,616 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 18:25:56,663 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:25:56,669 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:25:56,676 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:25:56,680 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,681 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-14 18:25:56,705 - bigdata_deploy_logger - INFO - 
2023-08-14 18:25:56,705 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:26:03,375 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:13,026 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:15,859 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:15,870 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:15,871 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-14 18:26:16,646 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:16,654 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:16,824 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:16,837 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:16,837 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-14 18:26:16,888 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-14 18:26:16,889 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-14 18:26:16,889 - bigdata_deploy_logger - INFO - }
2023-08-14 18:26:16,903 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-14 18:26:16,904 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-14 18:26:16,904 - bigdata_deploy_logger - INFO - }
2023-08-14 18:26:16,926 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-14 18:26:16,927 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-14 18:26:16,927 - bigdata_deploy_logger - INFO - }
2023-08-14 18:26:16,947 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:16,948 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-14 18:26:16,982 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:26:17,005 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:26:17,024 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:26:17,037 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:17,037 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-14 18:26:17,111 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 18:26:17,141 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 18:26:17,152 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-14 18:26:17,192 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:17,193 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-14 18:26:17,967 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:17,975 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:18,095 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:18,109 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:18,110 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-14 18:26:18,702 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:18,703 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:18,877 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:18,889 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:18,890 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-14 18:26:21,204 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:21,639 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:22,236 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:22,250 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:22,250 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-14 18:26:23,210 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-14 18:26:23,210 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-14 18:26:23,210 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-14 18:26:23,211 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:23,679 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:23,760 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:23,773 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:23,774 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-14 18:26:24,958 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:25,362 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:25,561 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:25,572 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:25,573 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-14 18:26:26,705 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:27,531 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:27,850 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:27,864 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:27,865 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-14 18:26:28,755 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:28,834 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:28,976 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:28,992 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:28,992 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-14 18:26:30,007 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:30,348 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:30,519 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:30,533 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:30,534 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-14 18:26:31,971 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:33,242 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:33,483 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:33,498 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:33,499 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-14 18:26:33,600 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-14 18:26:33,630 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:33,631 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-14 18:26:36,032 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:36,061 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:36,235 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:36,301 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:36,302 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-14 18:26:36,913 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:37,000 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:37,184 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:37,263 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:37,263 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-14 18:26:38,694 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:26:39,600 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:26:39,898 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:26:39,975 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:39,975 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-14 18:26:42,581 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:42,659 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:43,619 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:43,701 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:43,702 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-14 18:26:44,553 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:45,202 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:45,285 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:45,370 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:45,371 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-14 18:26:45,467 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:26:45,543 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:26:45,556 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:26:45,631 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:45,631 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-14 18:26:46,479 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:47,108 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:47,134 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:47,222 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:47,223 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-14 18:26:48,048 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-14 18:26:48,049 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-14 18:26:48,049 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-14 18:26:48,049 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-14 18:26:48,049 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:48,724 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:48,830 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:48,908 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:48,908 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-14 18:26:49,705 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:50,229 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:50,342 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:50,417 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:50,417 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-14 18:26:51,726 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 18:26:52,465 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 18:26:53,006 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-14 18:26:53,085 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:53,086 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-14 18:26:53,882 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 18:26:54,356 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 18:26:54,461 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-14 18:26:54,537 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:54,538 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-14 18:26:55,426 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:26:55,901 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:26:56,379 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:26:56,455 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:56,456 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-14 18:26:57,381 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-14 18:26:57,424 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-14 18:26:57,527 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-14 18:26:58,014 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-14 18:26:58,111 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-14 18:26:58,374 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-14 18:26:58,640 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-14 18:26:58,839 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-14 18:26:59,205 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-14 18:26:59,289 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:59,290 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-14 18:26:59,384 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:26:59,459 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:26:59,473 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:26:59,557 - bigdata_deploy_logger - INFO - 
2023-08-14 18:26:59,558 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-14 18:27:00,124 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:27:00,271 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:27:00,395 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:27:00,545 - bigdata_deploy_logger - INFO - 
2023-08-14 18:27:00,545 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-14 18:27:01,158 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-14 18:27:01,273 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-14 18:27:01,424 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-14 18:27:01,500 - bigdata_deploy_logger - INFO - 
2023-08-14 18:27:01,501 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-14 18:27:02,371 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-14 18:27:02,371 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-14 18:27:02,371 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-14 18:27:02,371 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-14 18:27:02,372 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:27:03,008 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:27:03,177 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:27:03,274 - bigdata_deploy_logger - INFO - 
2023-08-14 18:27:03,275 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-14 18:27:04,145 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 18:27:04,685 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 18:27:04,809 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-14 18:27:04,878 - bigdata_deploy_logger - INFO - 
2023-08-14 18:27:04,879 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-14 18:27:05,559 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 18:27:05,703 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 18:27:05,736 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-14 18:27:06,062 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 18:27:06,237 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 18:27:06,478 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base'})
2023-08-14 18:27:06,559 - bigdata_deploy_logger - INFO - 
2023-08-14 18:27:06,559 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 18:27:07,954 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 18:27:08,439 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 18:27:08,642 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-14 18:27:08,797 - bigdata_deploy_logger - INFO - 
2023-08-14 18:27:08,798 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-14 18:27:09,052 - bigdata_deploy_logger - INFO - 
2023-08-14 18:27:09,053 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-14 18:27:51,203 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:28:08,222 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:28:51,125 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:28:51,268 - bigdata_deploy_logger - INFO - 
2023-08-14 18:28:51,269 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-14 18:28:52,129 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:28:52,196 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:28:52,274 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:28:52,358 - bigdata_deploy_logger - INFO - 
2023-08-14 18:28:52,359 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-14 18:28:53,752 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:28:54,566 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:28:54,907 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:28:54,983 - bigdata_deploy_logger - INFO - 
2023-08-14 18:28:54,984 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-14 18:28:55,077 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:28:55,177 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:28:57,697 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:28:57,775 - bigdata_deploy_logger - INFO - 
2023-08-14 18:28:57,775 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-14 18:28:59,433 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:29:01,160 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:29:01,248 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:29:01,340 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:01,341 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-14 18:29:02,717 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:29:03,999 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:29:04,108 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:29:04,206 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:04,207 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 18:29:13,184 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.381222", "end": "2023-08-14 10:29:13.094157", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 10:29:04.712935", "stderr": "14 Aug 10:29:13 ntpdate[2378]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 10:29:13 ntpdate[2378]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 18:29:13,184 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 18:29:13,769 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.769149", "end": "2023-08-14 10:29:13.688419", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 10:29:04.919270", "stderr": "14 Aug 10:29:13 ntpdate[87186]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 10:29:13 ntpdate[87186]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 18:29:13,769 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 18:29:13,933 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.763678", "end": "2023-08-14 10:29:13.810568", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 10:29:05.046890", "stderr": "14 Aug 10:29:13 ntpdate[106731]: no server suitable for synchronization found", "stderr_lines": ["14 Aug 10:29:13 ntpdate[106731]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-14 18:29:13,934 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 18:29:14,009 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:14,009 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-14 18:29:14,756 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:29:15,351 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:29:15,538 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:29:15,609 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:15,610 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-14 18:29:16,942 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:18,004 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:18,289 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:18,361 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:18,362 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-14 18:29:18,825 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 18:29:18,834 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 18:29:18,842 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-14 18:29:18,960 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:18,961 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:19,135 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:19,209 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:19,227 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:19,304 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:19,305 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:19,405 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:19,479 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:19,497 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:19,573 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:19,574 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:19,663 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:19,750 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:19,767 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:19,852 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:19,853 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-14 18:29:20,732 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-14 18:29:20,733 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-14 18:29:20,733 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-14 18:29:20,733 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-14 18:29:20,733 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:21,240 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:21,407 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:21,481 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:21,482 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 18:29:22,278 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:22,916 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:23,017 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:23,092 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:23,093 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 18:29:23,189 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:23,262 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:23,281 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:23,355 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:23,355 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-14 18:29:23,445 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:29:23,516 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:29:23,523 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:29:23,604 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:23,605 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-14 18:29:23,700 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:29:23,778 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:29:23,788 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:29:23,863 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:23,864 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:23,961 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:24,036 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:24,056 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:24,205 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:24,206 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:24,304 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:24,376 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:24,392 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:24,464 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:24,465 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:24,567 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:24,650 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:24,668 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:24,751 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:24,751 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-14 18:29:25,646 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:26,155 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:26,314 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:26,427 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:26,428 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 18:29:27,204 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:27,815 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:27,916 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:27,990 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:27,991 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 18:29:28,089 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:28,164 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:28,184 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:28,259 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:28,260 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-14 18:29:28,380 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:29:28,461 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:29:28,468 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:29:28,550 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:28,550 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-14 18:29:28,647 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:29:28,722 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:29:28,729 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:29:28,805 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:28,806 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:28,904 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:28,980 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:29,000 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:29,074 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:29,074 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:29,172 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:29,329 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:29,347 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:29,422 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:29,423 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-14 18:29:29,516 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:29,591 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:29,610 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:29,688 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:29,689 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-14 18:29:30,532 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:31,156 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:31,280 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:31,361 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:31,362 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-14 18:29:32,171 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:32,855 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:33,075 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:33,158 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:33,158 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-14 18:29:33,263 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:29:33,347 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:33,369 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:29:33,451 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:33,452 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-14 18:29:33,552 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:29:33,633 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:29:33,640 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:29:33,718 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:33,719 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-14 18:29:33,810 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:29:33,884 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:29:33,890 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:29:33,892 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:33,892 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-14 18:29:34,911 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-14 18:29:34,911 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-14 18:29:34,911 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-14 18:29:34,912 - bigdata_deploy_logger - INFO - this message.
2023-08-14 18:29:34,912 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:29:35,405 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:29:35,678 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:29:35,679 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:35,679 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-14 18:29:41,782 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:29:43,343 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:29:43,361 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:29:43,367 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:43,368 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-14 18:29:43,452 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:43,452 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:29:59,304 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:29:59,385 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:59,386 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-14 18:29:59,464 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-14 18:29:59,542 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:59,543 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-14 18:29:59,570 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:29:59,730 - bigdata_deploy_logger - INFO - 
2023-08-14 18:29:59,731 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-14 18:30:11,848 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-14 18:30:11,929 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:11,929 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-14 18:30:15,609 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:15,695 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:15,696 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-14 18:30:16,472 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:16,550 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:16,551 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-14 18:30:17,390 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:17,476 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:17,476 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-14 18:30:18,246 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:18,323 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:18,324 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql to listen on all interfaces] ******************
2023-08-14 18:30:18,347 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:18,430 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:18,430 - bigdata_deploy_logger - INFO - TASK [database : Set mysql max_connections] ************************************
2023-08-14 18:30:18,454 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:18,602 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:18,603 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-14 18:30:18,626 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:18,726 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:18,727 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-14 18:30:21,065 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:21,142 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:21,143 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-14 18:30:24,019 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:24,021 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-14 18:30:24,021 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:24,021 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-14 18:30:26,774 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:26,859 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:26,860 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-14 18:30:26,971 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-14 18:30:27,045 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:27,046 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-14 18:30:27,077 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:30:27,159 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:27,160 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-14 18:30:28,732 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:28,808 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:28,809 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-14 18:30:28,832 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:28,916 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:28,916 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-14 18:30:30,811 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:30,924 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:30,924 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-14 18:30:30,948 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:31,023 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:31,024 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-14 18:30:31,125 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-14 18:30:31,197 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:31,198 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-14 18:30:31,998 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:32,079 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:32,080 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-14 18:30:32,187 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-14 18:30:32,335 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:32,336 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-14 18:30:32,369 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:30:32,464 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:32,465 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-14 18:30:34,011 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:34,099 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:34,099 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-14 18:30:34,125 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:34,211 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:34,211 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-14 18:30:36,040 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:36,126 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:36,127 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-14 18:30:36,152 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:36,248 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:36,249 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-14 18:30:36,379 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-14 18:30:36,548 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:36,548 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-14 18:30:37,302 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:37,381 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:37,381 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-14 18:30:37,493 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-14 18:30:37,573 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:37,574 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-14 18:30:37,605 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:30:37,697 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:37,698 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-14 18:30:39,386 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:39,469 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:39,469 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-14 18:30:39,492 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:39,576 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:39,576 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-14 18:30:41,546 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:41,622 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:41,623 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-14 18:30:41,647 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:41,728 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:41,729 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-14 18:30:41,833 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-14 18:30:41,908 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:41,909 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-14 18:30:42,706 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:42,787 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:42,788 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-14 18:30:42,889 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-14 18:30:42,971 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:42,972 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-14 18:30:43,002 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:30:43,081 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:43,082 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-14 18:30:44,645 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:44,763 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:44,764 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-14 18:30:44,788 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:44,870 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:44,871 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-14 18:30:46,795 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:46,876 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:46,877 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-14 18:30:46,902 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:30:46,990 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:46,991 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-14 18:30:47,095 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-14 18:30:47,170 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:47,171 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-14 18:30:47,925 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:47,926 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:47,926 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-14 18:30:50,408 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:30:50,411 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:50,412 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-14 18:30:50,479 - bigdata_deploy_logger - INFO - 
2023-08-14 18:30:50,479 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:30:56,803 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:31:06,308 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:31:06,345 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:31:06,413 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:06,414 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-14 18:31:06,508 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 18:31:06,658 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 18:31:06,692 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-14 18:31:06,764 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:06,765 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-14 18:31:06,858 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:31:06,937 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:06,953 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:31:07,030 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:07,031 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-14 18:31:07,124 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:31:07,201 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:07,213 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:31:07,218 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:07,218 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-14 18:31:07,296 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:07,297 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:31:23,411 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:31:23,607 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:23,608 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-14 18:31:23,662 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-14 18:31:23,751 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:23,752 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-14 18:31:23,776 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:23,858 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:23,859 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-14 18:31:23,879 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:23,959 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:23,960 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm MY-REALM.COM] ****************
2023-08-14 18:31:23,981 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,060 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,060 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm MY-REALM.COM] ****************
2023-08-14 18:31:24,079 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,159 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,160 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-14 18:31:24,180 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,272 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,273 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-14 18:31:24,295 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,368 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,369 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-14 18:31:24,390 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,474 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,475 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-14 18:31:24,497 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,577 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,578 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-14 18:31:24,599 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,675 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,676 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-14 18:31:24,695 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:24,699 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,700 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 18:31:24,707 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,707 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 18:31:24,729 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:31:24,733 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,733 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 18:31:24,753 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:31:24,757 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,758 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 18:31:24,832 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:24,832 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 18:31:25,022 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:31:25,077 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:31:25,120 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:31:25,282 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:25,282 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 18:31:25,388 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:31:25,469 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:25,484 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:31:25,559 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:25,560 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 18:31:25,648 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:31:25,758 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:25,776 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:31:25,848 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:25,848 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 18:31:25,944 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:31:26,020 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:31:26,039 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:31:26,048 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:26,048 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-14 18:31:26,119 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:26,119 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:31:32,269 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:31:41,833 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:31:42,118 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:31:42,188 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:42,189 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-14 18:31:42,999 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:31:42,999 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:31:43,172 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:31:43,247 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:43,248 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-14 18:31:44,046 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:31:44,713 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:31:44,860 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:31:45,026 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:45,027 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-14 18:31:52,992 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:31:56,582 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:31:56,943 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:31:57,034 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:57,035 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-14 18:31:57,678 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:31:57,828 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:31:57,941 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:31:58,025 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:58,025 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-14 18:31:58,829 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:31:58,838 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:31:58,921 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:31:59,004 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:59,005 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-14 18:31:59,754 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:31:59,777 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:31:59,890 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:31:59,980 - bigdata_deploy_logger - INFO - 
2023-08-14 18:31:59,981 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-14 18:32:00,595 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:32:00,698 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:32:00,829 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:32:00,830 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:00,830 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-14 18:32:01,919 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:32:02,339 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:32:02,667 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:32:02,669 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:02,670 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-14 18:32:06,352 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:32:07,365 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:32:07,646 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:32:07,717 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:07,717 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-14 18:32:08,623 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:32:09,175 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:32:09,353 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:32:09,433 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:09,434 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-14 18:32:10,594 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:32:11,684 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:32:11,786 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:32:11,792 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:11,793 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-14 18:32:11,879 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:11,879 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:32:27,939 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:32:28,012 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:28,013 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-14 18:32:28,077 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-14 18:32:28,156 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:28,157 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-14 18:32:55,878 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:32:55,970 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:55,970 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-14 18:32:57,311 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.637555", "end": "2023-08-14 10:32:57.188488", "msg": "non-zero return code", "rc": 1, "start": "2023-08-14 10:32:56.550933", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-14 18:32:57,311 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-14 18:32:57,400 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:57,401 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-14 18:32:58,332 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:32:58,408 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:58,408 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-14 18:32:58,427 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:32:58,507 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:58,508 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-14 18:32:59,231 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:32:59,308 - bigdata_deploy_logger - INFO - 
2023-08-14 18:32:59,309 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-14 18:33:03,371 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-14 18:33:07,532 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-14 18:33:07,537 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:07,537 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-14 18:33:09,205 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:33:09,285 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:09,285 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-14 18:33:09,320 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-14 18:33:09,529 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:09,530 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-14 18:33:09,552 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:09,705 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:09,706 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-14 18:33:09,727 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:09,800 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:09,801 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-14 18:33:09,823 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:09,921 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:09,922 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-14 18:33:16,212 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-14 18:33:16,287 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:16,288 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-14 18:33:19,270 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:33:19,436 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:19,436 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-14 18:33:19,460 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:19,536 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:19,537 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-14 18:33:19,558 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:19,632 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:19,633 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-14 18:33:21,248 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:33:21,330 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:21,331 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-14 18:33:21,366 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:33:21,449 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:21,450 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-14 18:33:21,473 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:33:21,553 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:21,553 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-14 18:33:25,062 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:33:25,137 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:25,138 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-14 18:33:25,933 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:33:26,008 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:26,009 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-14 18:33:26,810 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:33:26,811 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:26,811 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-14 18:33:40,969 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:33:40,969 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:40,969 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 18:33:43,054 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:33:43,131 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:43,132 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-14 18:33:44,701 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:33:44,791 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:44,791 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-14 18:33:46,820 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:33:46,824 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:46,825 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 18:33:46,830 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:46,830 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 18:33:46,852 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:33:46,856 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:46,857 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 18:33:46,876 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:33:46,880 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:46,880 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 18:33:46,954 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:46,954 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 18:33:47,209 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:33:47,210 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:33:47,444 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:33:47,517 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:47,517 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 18:33:47,610 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:33:47,685 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:47,701 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:33:47,776 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:47,776 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 18:33:47,872 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:33:47,944 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:47,962 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:33:48,033 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:48,034 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 18:33:48,123 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:33:48,214 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:33:48,229 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:33:48,234 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:48,235 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 18:33:48,308 - bigdata_deploy_logger - INFO - 
2023-08-14 18:33:48,309 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:33:54,631 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:34:03,965 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:34:04,105 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:34:04,108 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:04,109 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-14 18:34:04,197 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:04,197 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:34:20,310 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:34:20,400 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:20,401 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-14 18:34:20,449 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-14 18:34:20,528 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:20,528 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-14 18:34:21,321 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:34:21,413 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:21,414 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-14 18:34:21,437 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:34:21,514 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:21,515 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-14 18:34:25,482 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:34:25,555 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:25,555 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-14 18:34:25,579 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:34:25,722 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:25,723 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-14 18:34:25,946 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:34:26,044 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:26,045 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-14 18:34:27,031 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:34:27,107 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:27,108 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-14 18:34:28,522 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-14 18:34:29,417 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-14 18:34:30,322 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-14 18:34:30,340 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:30,341 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-14 18:34:43,851 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:34:43,851 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:43,852 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-14 18:34:49,584 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:34:49,586 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:49,587 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 18:34:49,592 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:49,592 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 18:34:49,614 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:34:49,618 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:49,618 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 18:34:49,638 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:34:49,642 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:49,642 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 18:34:49,719 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:49,720 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 18:34:49,902 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:34:50,021 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:34:50,071 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:34:50,149 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:50,149 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 18:34:50,244 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:34:50,315 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:34:50,336 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:34:50,420 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:50,420 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 18:34:50,518 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:34:50,617 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:34:50,636 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:34:50,712 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:50,713 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 18:34:50,807 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:34:50,886 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:34:50,908 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:34:50,913 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:50,914 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-14 18:34:50,992 - bigdata_deploy_logger - INFO - 
2023-08-14 18:34:50,992 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:34:57,124 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 18:35:06,598 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 18:35:07,765 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:07,769 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:07,769 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-14 18:35:07,845 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:07,845 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 18:35:23,924 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:24,006 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:24,006 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-14 18:35:24,052 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-14 18:35:24,132 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:24,133 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-14 18:35:30,661 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:30,746 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:30,747 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-14 18:35:30,768 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:35:30,865 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:30,866 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-14 18:35:30,930 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:31,094 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:31,095 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-14 18:35:31,116 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:35:31,191 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:31,192 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-14 18:35:31,225 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:31,303 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:31,303 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-14 18:35:31,323 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:35:31,401 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:31,402 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called my_blueprint] ****
2023-08-14 18:35:32,258 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:32,338 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:32,338 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint my_blueprint to the Ambari server] ***
2023-08-14 18:35:33,281 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:33,378 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:33,378 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-14 18:35:34,416 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:34,496 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:34,497 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-14 18:35:54,902 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:35:54,980 - bigdata_deploy_logger - INFO - 
2023-08-14 18:35:54,981 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-14 18:35:56,156 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-14 18:36:06,934 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-14 18:36:17,723 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-14 18:36:28,543 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-14 18:36:39,372 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-14 18:36:50,079 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-14 18:37:22,193 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-14 18:37:32,995 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-14 18:37:43,819 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-14 18:37:54,550 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-14 18:38:05,310 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-14 18:38:16,154 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-14 18:38:26,956 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-14 18:38:37,746 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-14 18:38:48,532 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-14 18:39:01,211 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-14 18:39:11,979 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-14 18:39:22,760 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-14 18:39:33,656 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-14 18:39:44,507 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-14 18:39:55,244 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-14 18:40:06,002 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-14 18:40:16,770 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-14 18:40:27,682 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-14 18:40:38,474 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-14 18:40:49,209 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-14 18:41:00,045 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-14 18:41:10,815 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-14 18:41:21,560 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-14 18:41:33,919 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-14 18:41:44,729 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-14 18:41:55,476 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-14 18:42:06,287 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-14 18:42:17,064 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-14 18:42:27,889 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-14 18:42:38,722 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-14 18:42:49,521 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-14 18:43:00,289 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-14 18:43:11,163 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-14 18:43:22,015 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-14 18:43:37,328 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-14 18:43:48,096 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-14 18:43:58,894 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-14 18:44:13,861 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-14 18:44:24,670 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-14 18:44:35,561 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-14 18:44:47,769 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-14 18:44:58,496 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-14 18:45:09,246 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-14 18:45:20,102 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-14 18:45:31,267 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-14 18:45:42,031 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-14 18:45:52,754 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-14 18:46:43,435 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-14 18:46:56,860 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-14 18:47:07,651 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-14 18:47:18,473 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-14 18:47:29,226 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-14 18:47:40,508 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-14 18:47:51,276 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-14 18:48:02,029 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-14 18:48:12,842 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-14 18:48:23,699 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-14 18:48:34,458 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-14 18:48:45,288 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-14 18:48:56,013 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-14 18:49:06,887 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-14 18:49:17,734 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-14 18:49:28,556 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-14 18:49:39,425 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-14 18:49:50,230 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-14 18:50:01,224 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-14 18:50:12,032 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-14 18:50:22,804 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-14 18:50:33,676 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-14 18:50:44,487 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-14 18:50:55,220 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-14 18:51:06,080 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-14 18:51:16,998 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-14 18:51:27,921 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-14 18:51:42,473 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-14 18:51:53,214 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-14 18:52:04,041 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-14 18:52:15,105 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-14 18:52:31,870 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-14 18:52:42,650 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-14 18:52:53,402 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-14 18:53:04,115 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-14 18:53:14,945 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-14 18:53:25,761 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-14 18:53:36,605 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-14 18:53:47,449 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-14 18:54:00,364 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-14 18:54:11,322 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-14 18:54:22,534 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-14 18:54:35,570 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-14 18:54:46,322 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-14 18:54:57,489 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-14 18:55:11,097 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-14 18:55:23,157 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-14 18:55:33,937 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-14 18:55:45,878 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-14 18:55:56,738 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-14 18:56:10,137 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-14 18:56:20,935 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-14 18:56:31,824 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-14 18:56:42,664 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-14 18:56:53,439 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-14 18:57:04,226 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-14 18:57:15,130 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-14 18:57:25,933 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-14 18:57:36,699 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-14 18:57:47,456 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-14 18:57:59,489 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (247 retries left).
2023-08-14 18:58:10,323 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (246 retries left).
2023-08-14 18:58:21,146 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (245 retries left).
2023-08-14 18:58:32,016 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (244 retries left).
2023-08-14 18:58:42,807 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (243 retries left).
2023-08-14 18:58:53,590 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (242 retries left).
2023-08-14 18:59:04,350 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (241 retries left).
2023-08-14 18:59:15,173 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (240 retries left).
2023-08-14 18:59:26,064 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (239 retries left).
2023-08-14 18:59:36,871 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (238 retries left).
2023-08-14 18:59:47,654 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (237 retries left).
2023-08-14 18:59:58,505 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 18:59:58,590 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:58,591 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-14 18:59:58,628 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:59:58,633 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:58,633 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-14 18:59:58,638 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:58,639 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-14 18:59:58,667 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:59:58,672 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:58,673 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-14 18:59:58,697 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-14 18:59:58,701 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:58,701 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-14 18:59:58,779 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:58,780 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-14 18:59:59,000 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-14 18:59:59,045 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-14 18:59:59,211 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-14 18:59:59,305 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:59,306 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-14 18:59:59,420 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:59:59,497 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:59:59,514 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:59:59,676 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:59,677 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-14 18:59:59,778 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 18:59:59,855 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 18:59:59,873 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 18:59:59,953 - bigdata_deploy_logger - INFO - 
2023-08-14 18:59:59,953 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-14 19:00:00,055 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 19:00:00,130 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 19:00:00,147 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 19:00:00,152 - bigdata_deploy_logger - INFO - 
2023-08-14 19:00:00,153 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-14 19:00:00,230 - bigdata_deploy_logger - INFO - 
2023-08-14 19:00:00,230 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-14 19:00:06,493 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-14 19:00:16,093 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-14 19:00:16,143 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-14 19:00:16,212 - bigdata_deploy_logger - INFO - 
2023-08-14 19:00:16,213 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-14 19:00:16,308 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-14 19:00:16,379 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-14 19:00:16,394 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-14 19:00:16,397 - bigdata_deploy_logger - INFO - 
2023-08-14 19:00:16,397 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-14 19:00:16,397 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-14 19:00:16,397 - bigdata_deploy_logger - INFO - sdp1                       : ok=161  changed=69   unreachable=0    failed=0    skipped=64   rescued=0    ignored=2
2023-08-14 19:00:16,398 - bigdata_deploy_logger - INFO - sdp2                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-14 19:00:16,398 - bigdata_deploy_logger - INFO - sdp3                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-14 19:00:16,398 - bigdata_deploy_logger - INFO - 
2023-08-14 19:00:16,515 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-08-15 16:28:48,987 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:28:48,989 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-15 16:28:48,999 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:28:49,001 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-15 16:28:49,011 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:28:49,045 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:28:49,053 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:28:49,087 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:28:49,088 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-15 16:28:49,097 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:28:49,098 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:28:49,133 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:28:49,137 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:28:49,148 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:28:49,152 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:28:49,165 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:28:49,169 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:28:49,178 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:28:49,192 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:28:49,204 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:28:49,214 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:28:49,218 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:28:49,227 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:28:49,228 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:28:49,238 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:28:49,253 - bigdata_deploy_logger - INFO - rendering kerberos_configuration.json.j2 config templates  
2023-08-15 16:28:49,255 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-15 16:28:49,269 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-15 16:28:50,179 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-15 16:28:50,180 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-15 16:28:51,146 - bigdata_deploy_logger - INFO - ERROR! failed to combine variables, expected dicts but got a 'dict' and a 'AnsibleSequence':
2023-08-15 16:28:51,146 - bigdata_deploy_logger - INFO - {}
2023-08-15 16:28:51,146 - bigdata_deploy_logger - INFO - [{"include": "mysql.yml"}, {"include": "postgres.yml"}]
2023-08-15 16:28:51,194 - bigdata_deploy_logger - INFO - playbook return_code is 1
2023-08-15 16:43:44,450 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:43:44,452 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-15 16:43:44,462 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:43:44,463 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-15 16:43:44,473 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:43:44,504 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:43:44,512 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:43:44,543 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:43:44,544 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-15 16:43:44,553 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:43:44,554 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:43:44,584 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:43:44,588 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:43:44,598 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:43:44,602 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:43:44,611 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:43:44,614 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:43:44,622 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:43:44,632 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:43:44,641 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:43:44,648 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:43:44,652 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:43:44,659 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:43:44,660 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:43:44,669 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:43:44,672 - bigdata_deploy_logger - INFO - rendering kerberos_configuration.json.j2 config templates  
2023-08-15 16:43:44,674 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-15 16:43:44,688 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-15 16:43:45,639 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-15 16:43:45,639 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-15 16:43:47,321 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,321 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-15 16:43:47,351 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,351 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-15 16:43:47,398 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 16:43:47,402 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,402 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-15 16:43:47,452 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 16:43:47,456 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,456 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-15 16:43:47,463 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,463 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-15 16:43:47,751 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:43:47,755 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:43:47,785 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:43:47,792 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,792 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-15 16:43:47,840 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:43:47,844 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:43:47,855 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:43:47,858 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,859 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-15 16:43:47,914 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:43:47,917 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:43:47,926 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:43:47,930 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:47,930 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-15 16:43:47,982 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:43:47,988 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:43:47,997 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:43:48,001 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:48,002 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-15 16:43:48,028 - bigdata_deploy_logger - INFO - 
2023-08-15 16:43:48,029 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 16:43:54,863 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:04,066 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:04,150 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:04,162 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:04,163 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-15 16:44:04,890 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:04,929 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:05,005 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:05,020 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:05,020 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-15 16:44:05,076 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-15 16:44:05,076 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-15 16:44:05,076 - bigdata_deploy_logger - INFO - }
2023-08-15 16:44:05,100 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-15 16:44:05,101 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-15 16:44:05,101 - bigdata_deploy_logger - INFO - }
2023-08-15 16:44:05,120 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-15 16:44:05,121 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-15 16:44:05,121 - bigdata_deploy_logger - INFO - }
2023-08-15 16:44:05,136 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:05,137 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-15 16:44:05,189 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:44:05,205 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:44:05,231 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:44:05,242 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:05,243 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-15 16:44:05,316 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:44:05,334 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:44:05,360 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:44:05,401 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:05,401 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-15 16:44:06,104 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:06,105 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:06,299 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:06,312 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:06,312 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-15 16:44:06,867 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:06,993 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:07,100 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:07,112 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:07,113 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-15 16:44:09,308 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:09,833 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:10,352 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:10,365 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:10,366 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-15 16:44:11,331 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-15 16:44:11,331 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-15 16:44:11,332 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-15 16:44:11,332 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:11,709 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:11,846 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:11,863 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:11,864 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-15 16:44:13,118 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:13,504 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:13,562 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:13,574 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:13,574 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-15 16:44:14,742 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:15,506 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:15,653 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:15,668 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:15,669 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-15 16:44:16,649 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:16,707 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:16,840 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:16,851 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:16,852 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-15 16:44:17,854 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:18,212 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:18,357 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:18,372 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:18,373 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-15 16:44:19,897 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:21,070 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:21,174 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:21,186 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:21,187 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-15 16:44:21,292 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-15 16:44:21,321 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:21,321 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-15 16:44:23,794 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:23,828 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:23,912 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:23,981 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:23,982 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-15 16:44:24,643 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:24,705 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:24,848 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:24,914 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:24,914 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-15 16:44:26,433 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:44:27,302 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:44:27,498 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:44:27,580 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:27,580 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-15 16:44:30,299 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:30,426 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:31,080 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:31,156 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:31,157 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-15 16:44:32,003 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:32,673 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:32,778 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:32,853 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:32,854 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-15 16:44:32,946 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:44:33,019 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:44:33,034 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:44:33,112 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:33,113 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-15 16:44:34,007 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:34,418 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:34,646 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:34,718 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:34,719 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-15 16:44:35,591 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-15 16:44:35,592 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-15 16:44:35,592 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-15 16:44:35,592 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-15 16:44:35,592 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:36,154 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:36,239 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:36,311 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:36,311 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-15 16:44:37,184 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:37,635 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:37,772 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:37,851 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:37,851 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-15 16:44:39,296 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-15 16:44:40,001 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-15 16:44:40,145 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-15 16:44:40,286 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:40,287 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-15 16:44:41,161 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-15 16:44:41,567 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-15 16:44:41,747 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-15 16:44:41,827 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:41,828 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-15 16:44:42,678 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:43,184 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:43,301 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:43,380 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:43,380 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-15 16:44:44,386 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-15 16:44:44,432 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-15 16:44:44,535 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-15 16:44:44,988 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-15 16:44:45,195 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-15 16:44:45,447 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-15 16:44:45,614 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-15 16:44:45,905 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-15 16:44:46,290 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-15 16:44:46,362 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:46,363 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-15 16:44:46,459 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:44:46,535 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:44:46,549 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:44:46,624 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:46,624 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-15 16:44:47,251 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:47,275 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:47,414 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:47,535 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:47,536 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-15 16:44:48,217 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-15 16:44:48,361 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-15 16:44:48,364 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-15 16:44:48,470 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:48,470 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-15 16:44:49,415 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-15 16:44:49,415 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-15 16:44:49,415 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-15 16:44:49,415 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-15 16:44:49,415 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:44:49,843 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:44:49,977 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:44:50,053 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:50,054 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-15 16:44:50,951 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-15 16:44:51,366 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-15 16:44:51,426 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-15 16:44:51,507 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:51,508 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-15 16:44:52,346 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-15 16:44:52,388 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-15 16:44:52,412 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-15 16:44:52,881 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-15 16:44:52,969 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-15 16:44:53,123 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-15 16:44:53,195 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:53,196 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-15 16:44:54,755 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-15 16:44:55,121 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-15 16:44:55,177 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-15 16:44:55,248 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:55,249 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-15 16:44:55,577 - bigdata_deploy_logger - INFO - 
2023-08-15 16:44:55,577 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-15 16:45:36,615 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:45:53,061 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:46:02,555 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:02,657 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:02,657 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-15 16:46:03,493 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:03,630 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:03,666 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:03,743 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:03,744 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-15 16:46:05,184 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:06,123 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:06,553 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:06,629 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:06,630 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-15 16:46:06,729 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:46:06,828 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:46:09,454 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:09,527 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:09,528 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-15 16:46:11,273 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:46:12,904 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:46:13,054 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:13,141 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:13,141 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-15 16:46:14,582 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:46:16,006 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:46:16,117 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:16,192 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:16,193 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-15 16:46:25,180 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.353139", "end": "2023-08-15 08:46:25.079759", "msg": "non-zero return code", "rc": 1, "start": "2023-08-15 08:46:16.726620", "stderr": "15 Aug 08:46:25 ntpdate[27401]: no server suitable for synchronization found", "stderr_lines": ["15 Aug 08:46:25 ntpdate[27401]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-15 16:46:25,180 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-15 16:46:25,689 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.749791", "end": "2023-08-15 08:46:25.613669", "msg": "non-zero return code", "rc": 1, "start": "2023-08-15 08:46:16.863878", "stderr": "15 Aug 08:46:25 ntpdate[116961]: no server suitable for synchronization found", "stderr_lines": ["15 Aug 08:46:25 ntpdate[116961]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-15 16:46:25,689 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-15 16:46:25,755 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.710705", "end": "2023-08-15 08:46:25.633545", "msg": "non-zero return code", "rc": 1, "start": "2023-08-15 08:46:16.922840", "stderr": "15 Aug 08:46:25 ntpdate[45956]: no server suitable for synchronization found", "stderr_lines": ["15 Aug 08:46:25 ntpdate[45956]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-15 16:46:25,755 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-15 16:46:25,831 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:25,831 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-15 16:46:26,637 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:46:27,252 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:46:27,332 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:27,473 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:27,474 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-15 16:46:28,995 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:29,761 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:29,947 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:30,029 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:30,030 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-15 16:46:30,477 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-15 16:46:30,488 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-15 16:46:30,494 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-15 16:46:30,672 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:30,673 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:30,767 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:30,843 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:30,858 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:30,935 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:30,936 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:31,028 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:31,104 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:31,120 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:31,191 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:31,192 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:31,286 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:31,369 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:31,384 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:31,459 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:31,460 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-15 16:46:32,325 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-15 16:46:32,325 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-15 16:46:32,326 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-15 16:46:32,326 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-15 16:46:32,326 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:32,842 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:33,019 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:33,187 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:33,188 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-15 16:46:34,076 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:34,573 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:34,690 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:34,776 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:34,777 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-15 16:46:34,880 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:34,959 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:34,979 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:35,059 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:35,060 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-15 16:46:35,154 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:46:35,225 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:46:35,232 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:46:35,311 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:35,312 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-15 16:46:35,404 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:46:35,480 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:46:35,486 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:46:35,635 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:35,635 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:35,734 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:35,821 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:35,841 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:35,916 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:35,916 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:36,013 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:36,088 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:36,106 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:36,189 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:36,190 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:36,285 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:36,363 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:36,383 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:36,465 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:36,465 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-15 16:46:37,356 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:37,863 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:37,961 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:38,044 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:38,044 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-15 16:46:38,930 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:39,534 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:39,634 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:39,725 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:39,726 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-15 16:46:39,872 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:39,955 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:39,978 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:40,060 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:40,061 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-15 16:46:40,157 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:46:40,228 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:46:40,237 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:46:40,316 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:40,316 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-15 16:46:40,421 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:46:40,497 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:46:40,504 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:46:40,583 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:40,584 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:40,763 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:40,838 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:40,857 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:40,934 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:40,935 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:41,034 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:41,111 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:41,127 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:41,202 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:41,202 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:46:41,298 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:41,373 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:41,391 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:41,471 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:41,472 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-15 16:46:42,343 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:42,927 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:42,984 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:43,064 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:43,064 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-15 16:46:43,980 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:44,556 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:44,557 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:44,633 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:44,633 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-15 16:46:44,727 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:46:44,801 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:46:44,830 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:46:44,911 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:44,911 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-15 16:46:45,010 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:46:45,082 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:46:45,089 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:46:45,167 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:45,168 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-15 16:46:45,263 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:46:45,338 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:46:45,345 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:46:45,348 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:45,348 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-15 16:46:46,538 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-15 16:46:46,538 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-15 16:46:46,538 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-15 16:46:46,538 - bigdata_deploy_logger - INFO - this message.
2023-08-15 16:46:46,538 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:46:46,741 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:46:47,175 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:47,175 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:47,176 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-15 16:46:53,279 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:46:54,308 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:46:54,806 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:46:54,813 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:54,814 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-15 16:46:54,898 - bigdata_deploy_logger - INFO - 
2023-08-15 16:46:54,898 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 16:47:10,736 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:47:10,814 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:10,815 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-15 16:47:10,870 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-15 16:47:10,948 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:10,949 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-15 16:47:10,976 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:47:11,060 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:11,061 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-15 16:47:29,740 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-15 16:47:29,834 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:29,835 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-15 16:47:32,263 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:47:32,343 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:32,344 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-15 16:47:32,980 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:47:33,059 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:33,060 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-15 16:47:33,089 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'max_connections' is undefined\n\nThe error appears to be in '/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/main.yml': line 43, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n    - name: Set postgres max_connections\n      ^ here\n"}
2023-08-15 16:47:33,089 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:33,089 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-15 16:47:33,090 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:33,090 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-15 16:47:33,090 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
2023-08-15 16:47:33,090 - bigdata_deploy_logger - INFO - sdp1                       : ok=70   changed=30   unreachable=0    failed=1    skipped=14   rescued=0    ignored=1
2023-08-15 16:47:33,091 - bigdata_deploy_logger - INFO - sdp2                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-15 16:47:33,091 - bigdata_deploy_logger - INFO - sdp3                       : ok=64   changed=25   unreachable=0    failed=0    skipped=14   rescued=0    ignored=1
2023-08-15 16:47:33,091 - bigdata_deploy_logger - INFO - 
2023-08-15 16:47:33,209 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-15 16:54:41,925 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:54:41,928 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-15 16:54:41,939 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:54:41,940 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-15 16:54:41,951 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:54:41,989 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:54:42,004 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:54:42,059 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:54:42,060 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-15 16:54:42,070 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:54:42,071 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:54:42,103 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:54:42,106 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:54:42,118 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:54:42,122 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:54:42,135 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:54:42,139 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:54:42,148 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:54:42,159 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:54:42,170 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:54:42,178 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:54:42,182 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:54:42,189 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:54:42,190 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:54:42,200 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:54:42,204 - bigdata_deploy_logger - INFO - rendering kerberos_configuration.json.j2 config templates  
2023-08-15 16:54:42,207 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-15 16:54:42,222 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-15 16:54:43,083 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-15 16:54:43,084 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-15 16:54:44,757 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:44,757 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-15 16:54:44,787 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:44,787 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-15 16:54:44,835 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 16:54:44,839 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:44,840 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-15 16:54:44,886 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 16:54:44,891 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:44,891 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-15 16:54:44,899 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:44,899 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-15 16:54:45,192 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:54:45,201 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:54:45,231 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:54:45,239 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:45,240 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-15 16:54:45,288 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:54:45,292 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:54:45,305 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:54:45,308 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:45,309 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-15 16:54:45,357 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:54:45,364 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:54:45,370 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:54:45,375 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:45,375 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-15 16:54:45,423 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:54:45,429 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:54:45,438 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:54:45,443 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:45,443 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-15 16:54:45,471 - bigdata_deploy_logger - INFO - 
2023-08-15 16:54:45,471 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 16:54:52,152 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:55:01,385 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:55:01,473 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:55:01,485 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:01,486 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-15 16:55:02,230 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:55:02,288 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:55:02,401 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:55:02,415 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:02,416 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-15 16:55:02,469 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-15 16:55:02,469 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-15 16:55:02,470 - bigdata_deploy_logger - INFO - }
2023-08-15 16:55:02,493 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-15 16:55:02,493 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-15 16:55:02,493 - bigdata_deploy_logger - INFO - }
2023-08-15 16:55:02,509 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-15 16:55:02,510 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-15 16:55:02,510 - bigdata_deploy_logger - INFO - }
2023-08-15 16:55:02,521 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:02,522 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-15 16:55:02,568 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:55:02,586 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:55:02,616 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:55:02,629 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:02,630 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-15 16:55:02,713 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:55:02,729 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:55:02,742 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:55:02,782 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:02,782 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-15 16:55:03,526 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:55:03,583 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:55:03,671 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:55:03,685 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:03,686 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-15 16:55:04,261 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:55:04,299 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:55:04,445 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:55:04,461 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:04,461 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-15 16:55:06,794 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:55:07,686 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:55:07,729 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:55:07,741 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:07,741 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-15 16:55:08,812 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-15 16:55:08,812 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-15 16:55:08,813 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-15 16:55:08,813 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:55:09,108 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:55:09,293 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:55:09,306 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:09,306 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-15 16:55:10,569 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:55:10,932 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:55:11,075 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:55:11,086 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:11,086 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-15 16:55:12,248 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:55:13,032 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:55:13,223 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:55:13,235 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:13,235 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-15 16:55:14,275 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:55:14,318 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:55:14,374 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:55:14,387 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:14,387 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-15 16:55:47,995 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:55:47,997 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-15 16:55:48,007 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:55:48,008 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-15 16:55:48,019 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:55:48,052 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:55:48,061 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:55:48,095 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:55:48,096 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-15 16:55:48,105 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:55:48,106 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:55:48,140 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-15 16:55:48,145 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:55:48,155 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:55:48,158 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:55:48,168 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:55:48,171 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-15 16:55:48,179 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:55:48,190 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:55:48,199 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-15 16:55:48,207 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:55:48,211 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-15 16:55:48,219 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-15 16:55:48,220 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-15 16:55:48,230 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-15 16:55:48,234 - bigdata_deploy_logger - INFO - rendering kerberos_configuration.json.j2 config templates  
2023-08-15 16:55:48,237 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-15 16:55:48,251 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-15 16:55:49,101 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-15 16:55:49,101 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-15 16:55:50,804 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:50,805 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-15 16:55:50,836 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:50,837 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-15 16:55:50,887 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 16:55:50,893 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:50,893 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-15 16:55:50,942 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 16:55:50,946 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:50,947 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-15 16:55:50,952 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:50,953 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-15 16:55:51,088 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:55:51,091 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:55:51,133 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:55:51,137 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:51,138 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-15 16:55:51,187 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:55:51,190 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:55:51,200 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:55:51,204 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:51,204 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-15 16:55:51,253 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:55:51,260 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:55:51,282 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:55:51,287 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:51,288 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-15 16:55:51,342 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:55:51,347 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:55:51,360 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:55:51,367 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:51,367 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-15 16:55:51,397 - bigdata_deploy_logger - INFO - 
2023-08-15 16:55:51,397 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 16:55:58,192 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:07,369 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:07,423 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:07,439 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:07,439 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-15 16:56:08,241 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:08,288 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:08,339 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:08,354 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:08,355 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-15 16:56:08,411 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-15 16:56:08,411 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-15 16:56:08,412 - bigdata_deploy_logger - INFO - }
2023-08-15 16:56:08,440 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-15 16:56:08,440 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-15 16:56:08,440 - bigdata_deploy_logger - INFO - }
2023-08-15 16:56:08,454 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-15 16:56:08,454 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-15 16:56:08,454 - bigdata_deploy_logger - INFO - }
2023-08-15 16:56:08,464 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:08,465 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-15 16:56:08,514 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:56:08,528 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:56:08,548 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:56:08,560 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:08,560 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-15 16:56:08,634 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:56:08,649 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:56:08,666 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-15 16:56:08,704 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:08,704 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-15 16:56:09,463 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:09,498 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:09,528 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:09,542 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:09,543 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-15 16:56:10,161 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:10,227 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:10,278 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:10,290 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:10,291 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-15 16:56:12,613 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:13,091 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:13,526 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:13,541 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:13,542 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-15 16:56:14,589 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-15 16:56:14,589 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-15 16:56:14,590 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-15 16:56:14,590 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:14,975 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:15,083 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:15,096 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:15,096 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-15 16:56:16,397 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:16,702 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:16,863 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:16,876 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:16,876 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-15 16:56:18,087 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:18,792 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:18,927 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:18,939 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:18,939 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-15 16:56:19,892 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:19,938 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:19,965 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:19,977 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:19,977 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-15 16:56:20,974 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:21,313 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:21,514 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:21,528 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:21,528 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-15 16:56:23,147 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:24,320 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:24,430 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:24,439 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:24,439 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-15 16:56:24,535 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-15 16:56:24,563 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:24,563 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-15 16:56:27,113 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:27,142 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:27,247 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:27,311 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:27,312 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-15 16:56:28,015 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:28,044 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:28,223 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:28,323 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:28,324 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-15 16:56:29,940 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:56:30,797 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:56:31,049 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:56:31,132 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:31,132 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-15 16:56:33,213 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:34,016 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:34,369 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:34,449 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:34,449 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-15 16:56:35,323 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:35,812 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:35,945 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:36,099 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:36,099 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-15 16:56:36,202 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:56:36,275 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:56:36,290 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:56:36,365 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:36,366 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-15 16:56:37,261 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:37,712 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:37,875 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:37,947 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:37,948 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-15 16:56:38,832 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-15 16:56:38,832 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-15 16:56:38,832 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-15 16:56:38,832 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-15 16:56:38,833 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:39,291 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:39,459 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:39,632 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:39,633 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-15 16:56:40,486 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:41,042 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:41,097 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:41,185 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:41,186 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-15 16:56:42,617 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-15 16:56:43,384 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-15 16:56:43,496 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-15 16:56:43,566 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:43,566 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-15 16:56:44,439 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-15 16:56:44,924 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-15 16:56:45,078 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-15 16:56:45,153 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:45,154 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-15 16:56:46,014 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:46,564 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:46,639 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:46,709 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:46,709 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-15 16:56:47,650 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-15 16:56:47,738 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-15 16:56:47,825 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-15 16:56:48,274 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-15 16:56:48,531 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-15 16:56:48,646 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-15 16:56:48,864 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-15 16:56:49,281 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-15 16:56:49,463 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-15 16:56:49,544 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:49,544 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-15 16:56:49,637 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:56:49,707 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:56:49,724 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:56:49,794 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:49,795 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-15 16:56:50,420 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:50,462 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:50,529 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:50,596 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:50,597 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-15 16:56:51,270 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-15 16:56:51,416 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-15 16:56:51,467 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-15 16:56:51,535 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:51,536 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-15 16:56:52,505 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-15 16:56:52,505 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-15 16:56:52,506 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-15 16:56:52,506 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-15 16:56:52,506 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:56:53,091 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:56:53,956 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:56:54,032 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:54,033 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-15 16:56:54,950 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-15 16:56:55,349 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-15 16:56:55,440 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-15 16:56:55,508 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:55,509 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-15 16:56:56,189 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-15 16:56:56,314 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-15 16:56:56,345 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-15 16:56:56,654 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-15 16:56:56,925 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-15 16:56:56,985 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-15 16:56:57,070 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:57,071 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-15 16:56:58,599 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-15 16:56:58,918 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-15 16:56:59,107 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-15 16:56:59,211 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:59,211 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-15 16:56:59,561 - bigdata_deploy_logger - INFO - 
2023-08-15 16:56:59,562 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-15 16:57:23,242 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:57:30,490 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:57:34,570 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:57:34,641 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:34,642 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-15 16:57:35,435 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:57:35,550 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:57:35,700 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:57:35,774 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:35,774 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-15 16:57:37,255 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:57:38,272 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:57:38,572 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:57:38,645 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:38,646 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-15 16:57:38,751 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:57:38,858 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:57:41,441 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:57:41,520 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:41,521 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-15 16:57:43,313 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:57:44,959 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:57:45,064 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:57:45,145 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:45,145 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-15 16:57:46,675 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:57:47,835 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:57:47,995 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:57:48,075 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:48,076 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-15 16:57:57,079 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.344015", "end": "2023-08-15 08:57:56.972122", "msg": "non-zero return code", "rc": 1, "start": "2023-08-15 08:57:48.628107", "stderr": "15 Aug 08:57:56 ntpdate[36180]: no server suitable for synchronization found", "stderr_lines": ["15 Aug 08:57:56 ntpdate[36180]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-15 16:57:57,079 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-15 16:57:57,463 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.703411", "end": "2023-08-15 08:57:57.391566", "msg": "non-zero return code", "rc": 1, "start": "2023-08-15 08:57:48.688155", "stderr": "15 Aug 08:57:57 ntpdate[122832]: no server suitable for synchronization found", "stderr_lines": ["15 Aug 08:57:57 ntpdate[122832]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-15 16:57:57,463 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-15 16:57:57,591 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.732249", "end": "2023-08-15 08:57:57.483337", "msg": "non-zero return code", "rc": 1, "start": "2023-08-15 08:57:48.751088", "stderr": "15 Aug 08:57:57 ntpdate[55728]: no server suitable for synchronization found", "stderr_lines": ["15 Aug 08:57:57 ntpdate[55728]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-15 16:57:57,591 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-15 16:57:57,659 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:57,660 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-15 16:57:58,559 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:57:58,984 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:57:59,094 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:57:59,177 - bigdata_deploy_logger - INFO - 
2023-08-15 16:57:59,177 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-15 16:58:00,666 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:01,329 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:01,565 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:01,643 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:01,644 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-15 16:58:02,121 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-15 16:58:02,130 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-15 16:58:02,136 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-15 16:58:02,243 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:02,243 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:02,334 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:02,406 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:02,422 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:02,489 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:02,489 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:02,575 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:02,644 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:02,660 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:02,731 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:02,731 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:02,819 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:02,885 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:02,901 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:02,975 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:02,976 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-15 16:58:03,898 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-15 16:58:03,898 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-15 16:58:03,898 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-15 16:58:03,899 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-15 16:58:03,899 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:04,318 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:04,347 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:04,488 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:04,489 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-15 16:58:05,362 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:05,763 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:05,848 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:05,925 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:05,925 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-15 16:58:06,021 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:06,092 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:06,112 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:06,183 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:06,184 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-15 16:58:06,268 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:58:06,334 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:06,341 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:58:06,419 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:06,419 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-15 16:58:06,506 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:58:06,574 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:06,581 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:58:06,652 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:06,653 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:06,743 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:06,890 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:06,906 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:06,978 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:06,979 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:07,067 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:07,137 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:07,156 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:07,229 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:07,229 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:07,325 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:07,399 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:07,417 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:07,507 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:07,508 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-15 16:58:08,439 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:08,825 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:08,899 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:08,969 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:08,970 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-15 16:58:09,841 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:10,214 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:10,307 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:10,381 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:10,382 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-15 16:58:10,473 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:10,545 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:10,565 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:10,639 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:10,640 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-15 16:58:10,740 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:58:10,814 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:10,822 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:58:10,906 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:10,907 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-15 16:58:11,001 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:58:11,077 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:11,084 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:58:11,154 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:11,155 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:11,256 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:11,328 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:11,345 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:11,428 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:11,428 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:11,515 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:11,583 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:11,598 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:11,750 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:11,750 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-15 16:58:11,840 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:11,908 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:11,923 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:11,997 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:11,998 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-15 16:58:12,925 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:13,323 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:13,385 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:13,453 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:13,454 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-15 16:58:14,330 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:14,702 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:14,845 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:14,921 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:14,921 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-15 16:58:15,083 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:58:15,155 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:15,173 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:58:15,251 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:15,252 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-15 16:58:15,359 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:58:15,430 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:15,437 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:58:15,516 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:15,517 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-15 16:58:15,605 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 16:58:15,672 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:15,678 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 16:58:15,680 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:15,680 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-15 16:58:16,838 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-15 16:58:16,839 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-15 16:58:16,839 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-15 16:58:16,839 - bigdata_deploy_logger - INFO - this message.
2023-08-15 16:58:16,839 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:58:16,971 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:58:17,353 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:58:17,353 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:17,354 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-15 16:58:23,689 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 16:58:24,918 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 16:58:25,235 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:58:25,241 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:25,242 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-15 16:58:25,323 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:25,323 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 16:58:40,783 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:58:40,866 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:40,867 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-15 16:58:40,926 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-15 16:58:41,007 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:41,007 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-15 16:58:41,030 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:41,104 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:41,105 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-15 16:58:51,109 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-15 16:58:51,190 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:51,190 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-15 16:58:55,479 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:58:55,557 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:55,558 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-15 16:58:56,282 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:58:56,353 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:56,353 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-15 16:58:57,130 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:58:57,213 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:57,214 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-15 16:58:57,904 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:58:57,986 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:57,987 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-15 16:58:58,011 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:58:58,089 - bigdata_deploy_logger - INFO - 
2023-08-15 16:58:58,090 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-15 16:59:03,037 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:03,125 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:03,126 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-15 16:59:06,050 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:06,056 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-15 16:59:06,056 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:06,056 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-15 16:59:08,733 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:08,832 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:08,832 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-15 16:59:08,946 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-15 16:59:09,020 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:09,021 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-15 16:59:09,054 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:59:09,133 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:09,133 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-15 16:59:10,697 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:10,784 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:10,785 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-15 16:59:10,812 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:10,938 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:10,939 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-15 16:59:13,493 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:13,669 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:13,670 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-15 16:59:13,700 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:13,782 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:13,783 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-15 16:59:13,895 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-15 16:59:13,979 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:13,980 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-15 16:59:14,749 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:14,826 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:14,827 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-15 16:59:14,943 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-15 16:59:15,018 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:15,019 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-15 16:59:15,050 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:59:15,132 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:15,133 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-15 16:59:16,923 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:17,007 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:17,007 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-15 16:59:17,031 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:17,176 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:17,177 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-15 16:59:24,076 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:24,159 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:24,160 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-15 16:59:24,184 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:24,264 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:24,265 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-15 16:59:24,368 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-15 16:59:24,444 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:24,445 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-15 16:59:25,219 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:25,301 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:25,302 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-15 16:59:25,414 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-15 16:59:25,565 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:25,565 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-15 16:59:25,599 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:59:25,686 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:25,687 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-15 16:59:27,247 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:27,330 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:27,331 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-15 16:59:27,356 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:27,433 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:27,434 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-15 16:59:31,392 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:31,488 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:31,489 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-15 16:59:31,512 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:31,589 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:31,589 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-15 16:59:31,689 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-15 16:59:31,761 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:31,762 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-15 16:59:32,650 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:32,721 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:32,722 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-15 16:59:32,826 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-15 16:59:32,909 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:32,910 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-15 16:59:32,942 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:59:33,021 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:33,022 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-15 16:59:34,670 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:34,749 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:34,749 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-15 16:59:34,776 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:34,852 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:34,852 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-15 16:59:37,834 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:37,990 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:37,991 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-15 16:59:38,017 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 16:59:38,112 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:38,113 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-15 16:59:38,218 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-15 16:59:38,292 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:38,293 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-15 16:59:39,090 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:39,090 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:39,091 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-15 16:59:41,514 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 16:59:41,517 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:41,517 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-15 16:59:41,586 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:41,586 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 16:59:48,008 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 16:59:57,541 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 16:59:57,552 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 16:59:57,615 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:57,616 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-15 16:59:57,733 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-15 16:59:57,812 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-15 16:59:57,855 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-15 16:59:57,927 - bigdata_deploy_logger - INFO - 
2023-08-15 16:59:57,928 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-15 17:00:01,967 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=krb5-workstation)
2023-08-15 17:00:03,788 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=krb5-workstation)
2023-08-15 17:00:03,967 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=krb5-workstation)
2023-08-15 17:00:04,039 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:04,040 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-15 17:00:05,191 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:00:05,202 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:00:05,512 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:05,518 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:05,518 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-15 17:00:05,596 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:05,596 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 17:00:21,146 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:00:21,229 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:21,230 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-15 17:00:21,299 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-15 17:00:21,381 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:21,382 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-15 17:00:29,895 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=krb5-server,krb5-libs,krb5-workstation)
2023-08-15 17:00:29,973 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:29,974 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-15 17:00:32,647 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:32,751 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:32,751 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm TEST.COM] ********************
2023-08-15 17:00:41,507 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:41,508 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:41,509 - bigdata_deploy_logger - INFO - RUNNING HANDLER [mit-kdc : Restart krb5] ***************************************
2023-08-15 17:00:43,850 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:43,851 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:43,851 - bigdata_deploy_logger - INFO - RUNNING HANDLER [mit-kdc : Restart kadmin] *************************************
2023-08-15 17:00:46,238 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:46,323 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:46,324 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm TEST.COM] ********************
2023-08-15 17:00:47,715 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:47,797 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:47,798 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-15 17:00:47,827 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:00:47,934 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:47,935 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-15 17:00:48,612 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:48,613 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:48,613 - bigdata_deploy_logger - INFO - RUNNING HANDLER [mit-kdc : Restart kadmin] *************************************
2023-08-15 17:00:50,756 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:50,829 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:50,830 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-15 17:00:52,203 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:00:52,358 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:52,359 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-15 17:00:55,003 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:55,083 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:55,083 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-15 17:00:56,470 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:00:56,548 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:56,549 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-15 17:00:59,320 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:59,326 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:59,326 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-15 17:00:59,331 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:59,331 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-15 17:00:59,354 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 17:00:59,358 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:59,359 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-15 17:00:59,377 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 17:00:59,381 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:59,381 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-15 17:00:59,451 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:59,452 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-15 17:00:59,624 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:00:59,668 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:00:59,711 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:00:59,785 - bigdata_deploy_logger - INFO - 
2023-08-15 17:00:59,786 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-15 17:00:59,880 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:00:59,950 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:00:59,966 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:01:00,124 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:00,125 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-15 17:01:00,216 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:01:00,287 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:01:00,304 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:01:00,378 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:00,379 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-15 17:01:00,469 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:01:00,541 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:01:00,556 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:01:00,562 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:00,563 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-15 17:01:00,639 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:00,640 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 17:01:06,882 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:01:16,310 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:01:16,593 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:01:16,659 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:16,660 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-15 17:01:17,433 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:01:17,452 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:01:17,612 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:01:17,687 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:17,688 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-15 17:01:18,639 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:01:19,095 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:01:19,280 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:01:19,417 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:19,418 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-15 17:01:27,608 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:01:30,842 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:01:34,118 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:01:34,191 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:34,192 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-15 17:01:34,920 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:01:34,922 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:01:35,163 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:01:35,231 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:35,231 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-15 17:01:35,947 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:01:36,034 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:01:36,105 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:01:36,169 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:36,170 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-15 17:01:36,815 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:01:36,910 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:01:37,003 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:01:37,080 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:37,081 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-15 17:01:37,703 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:01:37,752 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:01:37,977 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:01:37,978 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:37,978 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-15 17:01:39,084 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:01:39,452 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:01:39,812 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:01:39,813 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:39,813 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-15 17:01:43,557 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:01:44,629 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:01:44,905 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:01:44,995 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:44,996 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-15 17:01:46,018 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:01:46,532 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:01:46,697 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:01:46,785 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:46,786 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-15 17:01:48,046 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:01:48,942 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:01:49,034 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:01:49,041 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:49,041 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-15 17:01:49,123 - bigdata_deploy_logger - INFO - 
2023-08-15 17:01:49,124 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 17:02:05,031 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:02:05,129 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:05,130 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-15 17:02:05,181 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-15 17:02:05,261 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:05,261 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-15 17:02:38,691 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:02:38,793 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:38,793 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-15 17:02:40,154 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.644147", "end": "2023-08-15 09:02:40.051209", "msg": "non-zero return code", "rc": 1, "start": "2023-08-15 09:02:39.407062", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-15 17:02:40,154 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-15 17:02:40,230 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:40,231 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-15 17:02:41,224 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:02:41,307 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:41,308 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-15 17:02:41,328 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:02:41,476 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:41,477 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-15 17:02:42,245 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:02:42,329 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:42,329 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-15 17:02:46,579 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-15 17:02:50,587 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-15 17:02:50,593 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:50,593 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-15 17:02:52,118 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:02:52,195 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:52,196 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-15 17:02:52,226 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-15 17:02:52,381 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:52,382 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-15 17:02:52,405 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:02:52,551 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:52,552 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-15 17:02:52,574 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:02:52,717 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:52,717 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-15 17:02:52,737 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:02:52,815 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:52,816 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-15 17:02:59,202 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-15 17:02:59,283 - bigdata_deploy_logger - INFO - 
2023-08-15 17:02:59,283 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-15 17:03:01,798 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:03:01,877 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:01,878 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-15 17:03:01,901 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:03:01,978 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:01,979 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-15 17:03:02,002 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:03:02,081 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:02,082 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-15 17:03:03,656 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:03:03,811 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:03,812 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-15 17:03:03,850 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:03:03,936 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:03,937 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-15 17:03:03,961 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:03:04,038 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:04,039 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-15 17:03:07,511 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:03:07,592 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:07,593 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-15 17:03:08,380 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:03:08,464 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:08,464 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-15 17:03:09,148 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:03:09,149 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:09,149 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-15 17:03:23,201 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:03:23,201 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:23,201 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-15 17:03:25,056 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:03:25,133 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:25,134 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-15 17:03:26,692 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:03:26,760 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:26,761 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-15 17:03:28,871 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:03:28,875 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:28,876 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-15 17:03:28,881 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:28,881 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-15 17:03:28,905 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 17:03:28,909 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:28,910 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-15 17:03:28,930 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 17:03:28,934 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:28,935 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-15 17:03:29,012 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:29,012 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-15 17:03:29,237 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:03:29,276 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:03:29,455 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:03:29,528 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:29,528 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-15 17:03:29,615 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:03:29,683 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:03:29,699 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:03:29,771 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:29,771 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-15 17:03:29,858 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:03:29,932 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:03:29,948 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:03:30,031 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:30,032 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-15 17:03:30,201 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:03:30,285 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:03:30,303 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:03:30,308 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:30,309 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-15 17:03:30,391 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:30,392 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 17:03:36,808 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:03:46,238 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:03:46,479 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:03:46,484 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:46,485 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-15 17:03:46,569 - bigdata_deploy_logger - INFO - 
2023-08-15 17:03:46,570 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 17:04:02,251 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:02,340 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:02,341 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-15 17:04:02,385 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-15 17:04:02,530 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:02,531 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-15 17:04:03,189 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:04:03,262 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:03,263 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-15 17:04:03,287 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:04:03,361 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:03,362 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-15 17:04:04,686 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:04,762 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:04,763 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-15 17:04:04,789 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:04,864 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:04,865 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-15 17:04:05,092 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:05,177 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:05,178 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-15 17:04:05,946 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:06,020 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:06,021 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-15 17:04:07,280 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-15 17:04:08,150 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-15 17:04:08,993 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-15 17:04:09,015 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:09,015 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-15 17:04:23,449 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:04:23,449 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:23,449 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-15 17:04:25,326 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:25,331 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:25,332 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-15 17:04:25,337 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:25,338 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-15 17:04:25,364 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 17:04:25,368 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:25,368 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-15 17:04:25,390 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-15 17:04:25,394 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:25,395 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-15 17:04:25,472 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:25,472 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-15 17:04:25,654 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-15 17:04:25,711 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-15 17:04:25,735 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-15 17:04:25,809 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:25,809 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-15 17:04:25,903 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:04:25,973 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:04:25,989 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:04:26,058 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:26,058 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-15 17:04:26,149 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:04:26,220 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:04:26,235 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:04:26,306 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:26,307 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-15 17:04:26,410 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-15 17:04:26,579 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:04:26,595 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-15 17:04:26,599 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:26,600 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-15 17:04:26,674 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:26,674 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 17:04:33,082 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-15 17:04:42,440 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-15 17:04:42,626 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:42,633 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:42,634 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-15 17:04:42,709 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:42,710 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-15 17:04:58,416 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:04:58,582 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:58,583 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-15 17:04:58,632 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-15 17:04:58,710 - bigdata_deploy_logger - INFO - 
2023-08-15 17:04:58,711 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-15 17:05:00,046 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:05:00,142 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:00,142 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-15 17:05:00,164 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:05:00,242 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:00,243 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-15 17:05:00,314 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:05:00,389 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:00,390 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-15 17:05:00,410 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:05:00,485 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:00,486 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-15 17:05:00,524 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:05:00,611 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:00,612 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-15 17:05:00,633 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-15 17:05:00,709 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:00,710 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called my_blueprint] ****
2023-08-15 17:05:01,532 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:05:01,616 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:01,617 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint my_blueprint to the Ambari server] ***
2023-08-15 17:05:02,555 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:05:02,631 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:02,631 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-15 17:05:03,635 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:05:03,711 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:03,711 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-15 17:05:10,857 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-15 17:05:10,947 - bigdata_deploy_logger - INFO - 
2023-08-15 17:05:10,948 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-15 17:05:11,927 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-15 17:05:24,778 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-15 17:05:35,566 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-15 17:05:46,451 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-15 17:05:57,204 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-15 17:06:07,974 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-15 17:06:19,302 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-15 17:06:30,077 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-15 17:06:40,873 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-15 17:06:51,653 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-15 17:07:02,418 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-15 17:07:13,212 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-15 17:07:35,141 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-15 17:07:46,380 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-15 17:07:57,964 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-15 17:08:10,424 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-15 17:08:21,179 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-15 17:08:31,990 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-15 17:08:42,785 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-15 17:09:08,513 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-15 17:09:49,235 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"msg": "The conditional check '(((cluster_check_task.content|from_json).Requests.request_status == 'COMPLETED' and (cluster_check_task.content|from_json).Requests.completed_task_count|int > 0) or (cluster_check_task.content|from_json).Requests.request_status == 'FAILED' or (cluster_check_task.content|from_json).Requests.request_status == 'TIMEDOUT' or (cluster_check_task.content|from_json).Requests.request_status == 'ABORTED')' failed. The error was: No JSON object could be decoded"}
2023-08-15 17:09:49,235 - bigdata_deploy_logger - INFO - 
2023-08-15 17:09:49,236 - bigdata_deploy_logger - INFO - NO MORE HOSTS LEFT *************************************************************
2023-08-15 17:09:49,236 - bigdata_deploy_logger - INFO - 
2023-08-15 17:09:49,236 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-15 17:09:49,236 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0
2023-08-15 17:09:49,236 - bigdata_deploy_logger - INFO - sdp1                       : ok=174  changed=80   unreachable=0    failed=1    skipped=44   rescued=0    ignored=2
2023-08-15 17:09:49,237 - bigdata_deploy_logger - INFO - sdp2                       : ok=85   changed=36   unreachable=0    failed=0    skipped=23   rescued=0    ignored=1
2023-08-15 17:09:49,237 - bigdata_deploy_logger - INFO - sdp3                       : ok=85   changed=36   unreachable=0    failed=0    skipped=23   rescued=0    ignored=1
2023-08-15 17:09:49,237 - bigdata_deploy_logger - INFO - 
2023-08-15 17:09:49,359 - bigdata_deploy_logger - INFO - playbook return_code is 2
2023-08-16 16:16:19,905 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-16 16:16:19,912 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-16 16:16:19,922 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-16 16:16:19,926 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-16 16:16:19,936 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-16 16:16:19,976 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-16 16:16:19,985 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-16 16:16:20,016 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-16 16:16:20,042 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-16 16:16:20,052 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-16 16:16:20,054 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-16 16:16:20,086 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-16 16:16:20,089 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-16 16:16:20,099 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-16 16:16:20,117 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-16 16:16:20,128 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-16 16:16:20,131 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-16 16:16:20,139 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-16 16:16:20,149 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-16 16:16:20,159 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-16 16:16:20,167 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-16 16:16:20,171 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-16 16:16:20,179 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-16 16:16:20,180 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-16 16:16:20,190 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-16 16:16:20,192 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-16 16:16:20,210 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-16 16:16:22,392 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-16 16:16:22,392 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-16 16:16:24,925 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:24,925 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-16 16:16:24,991 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:24,992 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-16 16:16:25,089 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:16:25,095 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,096 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-16 16:16:25,151 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:16:25,155 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,155 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-16 16:16:25,174 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,174 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-16 16:16:25,515 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:16:25,520 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:16:25,524 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:16:25,530 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,530 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-16 16:16:25,581 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:16:25,591 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:16:25,607 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:16:25,610 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,611 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-16 16:16:25,661 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:16:25,666 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:16:25,682 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:16:25,687 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,688 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-16 16:16:25,739 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:16:25,743 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:16:25,759 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:16:25,765 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,765 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-16 16:16:25,798 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:25,799 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:16:34,602 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:16:43,131 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:16:43,969 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:16:43,984 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:43,985 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-16 16:16:44,722 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:16:44,810 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:16:44,831 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:16:44,862 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:44,862 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-16 16:16:44,913 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-16 16:16:44,913 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-16 16:16:44,914 - bigdata_deploy_logger - INFO - }
2023-08-16 16:16:44,930 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-16 16:16:44,931 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-16 16:16:44,931 - bigdata_deploy_logger - INFO - }
2023-08-16 16:16:44,959 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-16 16:16:44,959 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-16 16:16:44,959 - bigdata_deploy_logger - INFO - }
2023-08-16 16:16:44,970 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:44,970 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-16 16:16:45,019 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:16:45,034 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:16:45,064 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:16:45,090 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:45,090 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-16 16:16:45,211 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-16 16:16:45,211 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-16 16:16:45,212 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-16 16:16:45,260 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:45,260 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-16 16:16:45,955 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:16:46,067 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:16:46,115 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:16:46,135 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:46,135 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-16 16:16:46,685 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:16:46,770 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:16:46,846 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:16:46,869 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:46,869 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-16 16:16:49,287 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:16:49,610 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:16:49,825 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:16:49,839 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:49,839 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-16 16:16:50,906 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-16 16:16:50,906 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-16 16:16:50,906 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-16 16:16:50,906 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:16:51,171 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:16:51,283 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:16:51,296 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:51,296 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-16 16:16:52,550 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:16:52,898 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:16:52,991 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:16:53,009 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:53,010 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-16 16:16:54,239 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:16:54,878 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:16:55,090 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:16:55,100 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:55,100 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-16 16:16:56,054 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:16:56,096 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:16:56,128 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:16:56,144 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:56,145 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-16 16:16:57,157 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:16:57,485 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:16:57,539 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:16:57,554 - bigdata_deploy_logger - INFO - 
2023-08-16 16:16:57,555 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-16 16:16:59,039 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:17:00,230 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:17:00,261 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:17:00,272 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:00,273 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-16 16:17:00,372 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-16 16:17:00,402 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:00,402 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-16 16:17:02,710 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:17:02,737 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:17:02,867 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:17:02,932 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:02,933 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-16 16:17:03,602 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:17:03,670 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:17:03,751 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:17:03,927 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:03,928 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-16 16:17:05,469 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:17:06,305 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:17:06,331 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:17:06,412 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:06,413 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-16 16:17:09,123 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:17:09,144 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:17:09,987 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:17:10,068 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:10,069 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-16 16:17:10,938 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:17:11,435 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:17:11,455 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:17:11,528 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:11,528 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-16 16:17:11,633 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:17:11,708 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:17:11,721 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:17:11,801 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:11,801 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-16 16:17:12,619 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:17:13,120 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:17:13,209 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:17:13,286 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:13,287 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-16 16:17:14,236 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-16 16:17:14,236 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-16 16:17:14,236 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-16 16:17:14,237 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-16 16:17:14,237 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:17:14,661 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:17:14,678 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:17:14,754 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:14,755 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-16 16:17:15,593 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:17:16,025 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:17:16,129 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:17:16,202 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:16,203 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-16 16:17:17,671 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-16 16:17:18,590 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-16 16:17:18,754 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-16 16:17:18,826 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:18,827 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-16 16:17:19,720 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-16 16:17:20,350 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-16 16:17:20,626 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-16 16:17:20,712 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:20,713 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-16 16:17:21,483 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:17:22,112 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:17:22,230 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:17:22,313 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:22,313 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-16 16:17:23,298 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-16 16:17:23,328 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-16 16:17:23,385 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-16 16:17:23,949 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-16 16:17:24,038 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-16 16:17:24,282 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-16 16:17:24,543 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-16 16:17:24,726 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-16 16:17:25,025 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-16 16:17:25,117 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:25,118 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-16 16:17:25,292 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:17:25,383 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:17:25,403 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:17:25,480 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:25,481 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-16 16:17:26,082 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:17:26,180 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:17:26,238 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:17:26,336 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:26,336 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-16 16:17:27,006 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-16 16:17:27,106 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-16 16:17:27,152 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-16 16:17:27,228 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:27,229 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-16 16:17:28,194 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-16 16:17:28,195 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-16 16:17:28,195 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-16 16:17:28,195 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-16 16:17:28,196 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:17:28,707 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:17:28,969 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:17:29,047 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:29,048 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-16 16:17:29,946 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-16 16:17:30,391 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-16 16:17:30,450 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-16 16:17:30,542 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:30,543 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-16 16:17:31,375 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-16 16:17:31,411 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-16 16:17:31,455 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-16 16:17:31,905 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-16 16:17:32,064 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-16 16:17:32,090 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-16 16:17:32,208 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:32,208 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-16 16:17:33,716 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-16 16:17:34,079 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-16 16:17:34,130 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-16 16:17:34,207 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:34,208 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-16 16:17:34,513 - bigdata_deploy_logger - INFO - 
2023-08-16 16:17:34,514 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-16 16:18:26,049 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:18:45,809 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:18:55,057 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:18:55,133 - bigdata_deploy_logger - INFO - 
2023-08-16 16:18:55,134 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-16 16:18:55,966 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:18:56,012 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:18:56,072 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:18:56,152 - bigdata_deploy_logger - INFO - 
2023-08-16 16:18:56,153 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-16 16:18:57,631 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:18:58,542 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:18:58,977 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:18:59,064 - bigdata_deploy_logger - INFO - 
2023-08-16 16:18:59,065 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-16 16:18:59,175 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:18:59,276 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:19:01,905 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:19:01,989 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:01,989 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-16 16:19:03,682 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:19:05,483 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:19:05,652 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:19:05,727 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:05,727 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-16 16:19:07,181 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:19:08,503 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:19:08,647 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:19:08,723 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:08,724 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-16 16:19:17,708 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.348468", "end": "2023-08-16 08:19:17.591295", "msg": "non-zero return code", "rc": 1, "start": "2023-08-16 08:19:09.242827", "stderr": "16 Aug 08:19:17 ntpdate[86773]: no server suitable for synchronization found", "stderr_lines": ["16 Aug 08:19:17 ntpdate[86773]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-16 16:19:17,708 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-16 16:19:18,162 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.713726", "end": "2023-08-16 08:19:18.082363", "msg": "non-zero return code", "rc": 1, "start": "2023-08-16 08:19:09.368637", "stderr": "16 Aug 08:19:18 ntpdate[113843]: no server suitable for synchronization found", "stderr_lines": ["16 Aug 08:19:18 ntpdate[113843]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-16 16:19:18,162 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-16 16:19:18,385 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.756137", "end": "2023-08-16 08:19:18.258664", "msg": "non-zero return code", "rc": 1, "start": "2023-08-16 08:19:09.502527", "stderr": "16 Aug 08:19:18 ntpdate[29327]: no server suitable for synchronization found", "stderr_lines": ["16 Aug 08:19:18 ntpdate[29327]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-16 16:19:18,385 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-16 16:19:18,475 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:18,476 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-16 16:19:19,353 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:19:19,854 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:19:19,958 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:19:20,048 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:20,048 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-16 16:19:21,588 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:22,538 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:22,586 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:22,662 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:22,663 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-16 16:19:23,106 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-16 16:19:23,115 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-16 16:19:23,123 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-16 16:19:23,309 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:23,309 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:23,405 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:23,484 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:23,504 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:23,583 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:23,583 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:23,678 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:23,760 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:23,778 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:23,858 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:23,859 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:23,955 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:24,031 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:24,047 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:24,127 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:24,127 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-16 16:19:25,106 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-16 16:19:25,107 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-16 16:19:25,107 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-16 16:19:25,107 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-16 16:19:25,107 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:25,649 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:25,691 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:25,761 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:25,762 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-16 16:19:26,645 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:27,287 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:27,365 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:27,449 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:27,450 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-16 16:19:27,558 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:27,630 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:27,650 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:27,731 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:27,732 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-16 16:19:27,827 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:19:27,897 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:19:27,905 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:19:27,981 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:27,982 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-16 16:19:28,075 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:19:28,147 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:19:28,153 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:19:28,229 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:28,229 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:28,408 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:28,482 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:28,500 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:28,575 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:28,575 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:28,675 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:28,749 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:28,766 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:28,841 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:28,841 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:28,937 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:29,010 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:29,027 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:29,107 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:29,107 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-16 16:19:30,064 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:30,579 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:31,114 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:31,197 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:31,198 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-16 16:19:32,104 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:32,629 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:32,744 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:32,818 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:32,818 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-16 16:19:32,914 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:32,988 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:33,007 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:33,084 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:33,085 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-16 16:19:33,178 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:19:33,256 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:19:33,263 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:19:33,341 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:33,341 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-16 16:19:33,436 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:19:33,509 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:19:33,518 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:19:33,595 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:33,595 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:33,775 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:33,851 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:33,868 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:33,943 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:33,943 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:34,043 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:34,118 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:34,135 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:34,212 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:34,212 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-16 16:19:34,309 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:34,384 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:34,402 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:34,479 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:34,479 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-16 16:19:35,431 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:35,869 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:35,891 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:35,964 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:35,964 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-16 16:19:36,854 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:37,388 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:37,515 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:37,598 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:37,599 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-16 16:19:37,698 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:19:37,775 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:19:37,800 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:19:37,874 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:37,875 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-16 16:19:37,980 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:19:38,064 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:19:38,073 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:19:38,158 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:38,159 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-16 16:19:38,251 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:19:38,326 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:19:38,333 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:19:38,334 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:38,334 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-16 16:19:39,510 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-16 16:19:39,511 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-16 16:19:39,511 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-16 16:19:39,511 - bigdata_deploy_logger - INFO - this message.
2023-08-16 16:19:39,511 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:19:39,711 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:19:40,284 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:19:40,284 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:40,285 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-16 16:19:47,543 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:19:49,400 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:19:49,451 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:19:49,457 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:49,457 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-16 16:19:49,566 - bigdata_deploy_logger - INFO - 
2023-08-16 16:19:49,567 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:20:05,055 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:20:05,150 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:05,151 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-16 16:20:05,213 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-16 16:20:05,301 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:05,302 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-16 16:20:05,330 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:05,486 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:05,487 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-16 16:20:27,774 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-16 16:20:27,854 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:27,855 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-16 16:20:31,730 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:31,810 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:31,811 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-16 16:20:32,658 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:32,732 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:32,733 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-16 16:20:33,543 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:33,633 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:33,634 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-16 16:20:34,459 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:34,549 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:34,550 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-16 16:20:34,577 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:34,722 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:34,723 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-16 16:20:37,181 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:37,278 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:37,279 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-16 16:20:40,363 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:40,364 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-16 16:20:40,364 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:40,364 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-16 16:20:43,909 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:44,032 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:44,033 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-16 16:20:44,153 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-16 16:20:44,230 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:44,231 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-16 16:20:44,267 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:20:44,419 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:44,420 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-16 16:20:46,008 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:46,087 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:46,088 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-16 16:20:46,121 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:46,203 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:46,204 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-16 16:20:47,933 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:48,034 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:48,034 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-16 16:20:48,062 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:48,143 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:48,144 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-16 16:20:48,255 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-16 16:20:48,335 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:48,336 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-16 16:20:49,041 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:49,125 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:49,126 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-16 16:20:49,314 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-16 16:20:49,398 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:49,399 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-16 16:20:49,431 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:20:49,512 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:49,513 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-16 16:20:50,920 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:51,001 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:51,002 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-16 16:20:51,029 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:51,107 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:51,108 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-16 16:20:52,849 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:52,946 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:52,947 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-16 16:20:52,980 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:53,082 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:53,083 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-16 16:20:53,277 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-16 16:20:53,370 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:53,371 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-16 16:20:54,059 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:54,158 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:54,159 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-16 16:20:54,273 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-16 16:20:54,352 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:54,353 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-16 16:20:54,389 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:20:54,470 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:54,471 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-16 16:20:55,891 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:55,971 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:55,971 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-16 16:20:55,995 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:56,075 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:56,076 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-16 16:20:58,201 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:58,275 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:58,276 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-16 16:20:58,303 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:20:58,384 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:58,384 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-16 16:20:58,514 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-16 16:20:58,606 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:58,606 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-16 16:20:59,392 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:20:59,482 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:59,483 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-16 16:20:59,610 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-16 16:20:59,699 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:59,700 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-16 16:20:59,735 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:20:59,831 - bigdata_deploy_logger - INFO - 
2023-08-16 16:20:59,832 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-16 16:21:01,318 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:21:01,414 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:01,414 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-16 16:21:01,437 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:01,521 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:01,521 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-16 16:21:03,744 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:21:03,840 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:03,840 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-16 16:21:03,865 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:03,947 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:03,948 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-16 16:21:04,072 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-16 16:21:04,167 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:04,168 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-16 16:21:04,950 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:21:04,951 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:04,952 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-16 16:21:07,953 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:21:07,957 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:07,958 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-16 16:21:08,042 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:08,043 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:21:14,547 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:21:24,084 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:21:24,151 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:21:24,221 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:24,222 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-16 16:21:24,320 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-16 16:21:24,476 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-16 16:21:24,514 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-16 16:21:24,590 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:24,591 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-16 16:21:24,686 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:21:24,764 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:24,779 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:21:24,849 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:24,850 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-16 16:21:24,946 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:21:25,026 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:25,038 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:21:25,043 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:25,044 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-16 16:21:25,137 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:25,137 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:21:41,115 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:21:41,190 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,191 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-16 16:21:41,235 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-16 16:21:41,318 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,318 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-16 16:21:41,342 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:41,421 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,421 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-16 16:21:41,444 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:41,524 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,525 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm TEST.COM] ********************
2023-08-16 16:21:41,546 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:41,629 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,629 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm TEST.COM] ********************
2023-08-16 16:21:41,651 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:41,730 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,730 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-16 16:21:41,751 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:41,887 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,887 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-16 16:21:41,910 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:41,988 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:41,989 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-16 16:21:42,009 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:42,086 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,086 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-16 16:21:42,106 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:42,186 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,186 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-16 16:21:42,207 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:42,287 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,287 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-16 16:21:42,308 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:42,312 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,312 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-16 16:21:42,318 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,318 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-16 16:21:42,341 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:21:42,345 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,346 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-16 16:21:42,370 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:21:42,374 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,375 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-16 16:21:42,454 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,455 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-16 16:21:42,649 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:21:42,708 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:21:42,736 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:21:42,814 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:42,815 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-16 16:21:42,905 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:21:42,978 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:42,993 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:21:43,064 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:43,065 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-16 16:21:43,158 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:21:43,235 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:43,251 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:21:43,324 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:43,325 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-16 16:21:43,491 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:21:43,573 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:21:43,590 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:21:43,596 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:43,596 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-16 16:21:43,672 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:43,673 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:21:50,037 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:21:59,425 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:21:59,437 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:21:59,510 - bigdata_deploy_logger - INFO - 
2023-08-16 16:21:59,511 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-16 16:22:00,351 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:22:00,376 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:22:00,439 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:22:00,518 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:00,519 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-16 16:22:01,425 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:22:01,973 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:22:02,022 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:22:02,105 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:02,105 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-16 16:22:12,667 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:22:14,585 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:22:14,773 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:22:14,852 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:14,853 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-16 16:22:15,589 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:22:15,785 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:22:16,077 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:22:16,163 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:16,164 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-16 16:22:17,005 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:22:17,058 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:22:17,135 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:22:17,219 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:17,219 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-16 16:22:17,963 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:22:18,078 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:22:18,108 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:22:18,195 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:18,196 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-16 16:22:18,819 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:22:18,898 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:22:19,075 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:22:19,076 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:19,077 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-16 16:22:20,191 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:22:20,884 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:22:21,044 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:22:21,045 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:21,045 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-16 16:22:24,985 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:22:25,914 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:22:26,066 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:22:26,184 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:26,185 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-16 16:22:27,188 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:22:27,878 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:22:28,091 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:22:28,167 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:28,167 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-16 16:22:29,429 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:22:30,358 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:22:30,443 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:22:30,449 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:30,450 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-16 16:22:30,537 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:30,537 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:22:46,560 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:22:46,638 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:46,639 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-16 16:22:46,688 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-16 16:22:46,767 - bigdata_deploy_logger - INFO - 
2023-08-16 16:22:46,768 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-16 16:23:14,908 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:23:14,985 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:14,986 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-16 16:23:16,433 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.648531", "end": "2023-08-16 08:23:16.316145", "msg": "non-zero return code", "rc": 1, "start": "2023-08-16 08:23:15.667614", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-16 16:23:16,433 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-16 16:23:16,507 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:16,508 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-16 16:23:17,535 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:23:17,619 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:17,619 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-16 16:23:17,639 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:23:17,729 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:17,730 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-16 16:23:18,530 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:23:18,607 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:18,608 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-16 16:23:22,924 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-16 16:23:26,962 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-16 16:23:26,968 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:26,968 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-16 16:23:28,691 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:23:28,781 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:28,781 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-16 16:23:28,814 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-16 16:23:28,963 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:28,963 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-16 16:23:28,986 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:23:29,203 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:29,204 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-16 16:23:29,226 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:23:29,319 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:29,319 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-16 16:23:29,340 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:23:29,445 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:29,445 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-16 16:23:34,976 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-16 16:23:35,067 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:35,068 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-16 16:23:37,841 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:23:37,934 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:37,935 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-16 16:23:37,961 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:23:38,040 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:38,041 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-16 16:23:38,064 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:23:38,218 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:38,218 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-16 16:23:39,805 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:23:39,890 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:39,890 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-16 16:23:39,923 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:23:40,002 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:40,003 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-16 16:23:40,025 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:23:40,103 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:40,104 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-16 16:23:43,519 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:23:43,598 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:43,599 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-16 16:23:44,361 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:23:44,435 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:44,436 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-16 16:23:45,196 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:23:45,197 - bigdata_deploy_logger - INFO - 
2023-08-16 16:23:45,197 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-16 16:24:00,330 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:24:00,330 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:00,330 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-16 16:24:02,117 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:02,226 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:02,226 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-16 16:24:03,724 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:03,815 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:03,816 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-16 16:24:05,866 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:05,870 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:05,871 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-16 16:24:05,875 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:05,876 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-16 16:24:05,902 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:24:05,906 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:05,906 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-16 16:24:05,927 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:24:05,930 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:05,931 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-16 16:24:06,002 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:06,003 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-16 16:24:06,213 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:24:06,267 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:24:06,452 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:24:06,523 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:06,523 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-16 16:24:06,684 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:24:06,758 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:24:06,772 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:24:06,879 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:06,880 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-16 16:24:06,975 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:24:07,050 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:24:07,065 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:24:07,140 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:07,141 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-16 16:24:07,245 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:24:07,323 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:24:07,340 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:24:07,346 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:07,346 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-16 16:24:07,419 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:07,420 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:24:13,902 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:24:23,336 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:24:23,498 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:23,502 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:23,503 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-16 16:24:23,590 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:23,591 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:24:39,497 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:39,575 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:39,576 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-16 16:24:39,623 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-16 16:24:39,699 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:39,700 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-16 16:24:40,518 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:24:40,678 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:40,679 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-16 16:24:40,701 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:24:40,784 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:40,785 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-16 16:24:42,198 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:42,303 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:42,304 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-16 16:24:42,334 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:42,430 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:42,431 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-16 16:24:42,638 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:42,713 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:42,714 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-16 16:24:43,592 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:24:43,682 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:43,682 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-16 16:24:45,157 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-16 16:24:46,080 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-16 16:24:47,012 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-16 16:24:47,119 - bigdata_deploy_logger - INFO - 
2023-08-16 16:24:47,119 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-16 16:25:01,622 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:25:01,623 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:01,623 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-16 16:25:03,459 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:03,461 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:03,462 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-16 16:25:03,466 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:03,466 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-16 16:25:03,494 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:25:03,498 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:03,498 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-16 16:25:03,522 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:25:03,525 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:03,526 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-16 16:25:03,596 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:03,596 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-16 16:25:03,774 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:25:03,826 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:25:03,866 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:25:03,954 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:03,955 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-16 16:25:04,052 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:25:04,123 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:25:04,139 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:25:04,215 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:04,216 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-16 16:25:04,310 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:25:04,388 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:25:04,409 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:25:04,490 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:04,491 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-16 16:25:04,586 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:25:04,745 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:25:04,763 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:25:04,770 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:04,771 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-16 16:25:04,885 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:04,885 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:25:11,137 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:25:20,700 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:25:20,816 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:20,823 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:20,824 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-16 16:25:20,913 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:20,913 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:25:36,911 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:37,031 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:37,032 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-16 16:25:37,084 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-16 16:25:37,170 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:37,171 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-16 16:25:38,629 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:38,788 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:38,789 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-16 16:25:38,810 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:25:38,888 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:38,889 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-16 16:25:38,971 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:39,055 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:39,056 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-16 16:25:39,077 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:25:39,166 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:39,167 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-16 16:25:39,211 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:39,290 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:39,291 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-16 16:25:39,311 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:25:39,394 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:39,395 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called my_blueprint] ****
2023-08-16 16:25:40,275 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:40,403 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:40,404 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint my_blueprint to the Ambari server] ***
2023-08-16 16:25:41,398 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:41,474 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:41,475 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-16 16:25:42,556 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:42,703 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:42,704 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-16 16:25:47,505 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:25:47,586 - bigdata_deploy_logger - INFO - 
2023-08-16 16:25:47,587 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-16 16:25:48,618 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-16 16:25:59,444 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-16 16:26:10,293 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-16 16:26:21,083 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-16 16:26:47,412 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-16 16:26:58,206 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-16 16:27:09,108 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-16 16:27:19,998 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-16 16:27:30,760 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-16 16:27:41,510 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-16 16:27:52,273 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-16 16:28:03,000 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-16 16:28:13,870 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-16 16:28:24,646 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-16 16:28:36,907 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-16 16:28:47,729 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-16 16:28:58,559 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-16 16:29:09,376 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-16 16:29:22,957 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-16 16:29:33,887 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-16 16:29:45,125 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-16 16:29:59,810 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-16 16:30:10,657 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-16 16:30:21,512 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-16 16:30:32,360 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-16 16:30:43,200 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-16 16:31:13,953 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-16 16:31:24,999 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-16 16:31:35,821 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-16 16:31:46,692 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-16 16:31:57,415 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-16 16:32:08,246 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-16 16:32:19,080 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-16 16:32:29,914 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-16 16:32:54,615 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-16 16:33:05,445 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-16 16:33:16,232 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-16 16:33:27,129 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-16 16:33:38,019 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-16 16:33:48,787 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-16 16:33:59,575 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-16 16:34:10,467 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-16 16:34:21,324 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-16 16:34:32,125 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-16 16:34:42,928 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-16 16:34:53,669 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-16 16:35:04,490 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-16 16:35:15,291 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-16 16:35:26,093 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-16 16:35:36,913 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-16 16:35:47,707 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-16 16:35:58,496 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-16 16:36:09,215 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-16 16:36:45,251 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-16 16:36:56,044 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-16 16:37:06,865 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-16 16:37:17,608 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-16 16:37:28,357 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-16 16:37:39,823 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-16 16:37:50,680 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-16 16:38:07,612 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-16 16:38:18,410 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-16 16:38:29,218 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-16 16:38:40,084 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-16 16:38:50,843 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-16 16:39:01,615 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-16 16:39:12,430 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-16 16:39:23,239 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-16 16:39:34,117 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-16 16:39:45,000 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-16 16:39:55,918 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-16 16:40:06,736 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-16 16:40:17,628 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-16 16:40:28,507 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-16 16:40:39,285 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-16 16:40:51,013 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-16 16:41:01,952 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-16 16:41:12,818 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-16 16:41:23,623 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-16 16:41:34,494 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-16 16:41:45,382 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-16 16:41:56,171 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-16 16:42:07,036 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-16 16:42:17,891 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-16 16:42:28,758 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-16 16:42:39,595 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-16 16:42:50,364 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-16 16:43:01,141 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-16 16:43:11,930 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-16 16:43:22,753 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-16 16:43:33,626 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-16 16:43:44,444 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-16 16:43:55,209 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-16 16:44:06,074 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-16 16:44:17,015 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-16 16:44:27,945 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-16 16:44:38,781 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-16 16:44:49,590 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-16 16:45:00,304 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-16 16:45:11,109 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-16 16:45:21,888 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-16 16:45:32,688 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-16 16:45:43,673 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-16 16:45:54,480 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-16 16:46:05,322 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-16 16:46:16,174 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-16 16:46:27,049 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-16 16:46:37,953 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-16 16:46:48,746 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-16 16:46:59,580 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-16 16:47:10,412 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-16 16:47:21,739 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-16 16:47:32,617 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (248 retries left).
2023-08-16 16:47:43,535 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (247 retries left).
2023-08-16 16:47:54,325 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (246 retries left).
2023-08-16 16:48:05,218 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (245 retries left).
2023-08-16 16:48:16,082 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (244 retries left).
2023-08-16 16:48:27,001 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (243 retries left).
2023-08-16 16:48:37,845 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (242 retries left).
2023-08-16 16:48:48,613 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (241 retries left).
2023-08-16 16:48:59,524 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (240 retries left).
2023-08-16 16:49:10,396 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (239 retries left).
2023-08-16 16:49:21,255 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (238 retries left).
2023-08-16 16:49:32,120 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (237 retries left).
2023-08-16 16:49:42,948 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (236 retries left).
2023-08-16 16:49:53,879 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (235 retries left).
2023-08-16 16:50:04,742 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (234 retries left).
2023-08-16 16:50:15,519 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:50:15,602 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:15,603 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-16 16:50:15,637 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:50:15,644 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:15,644 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-16 16:50:15,649 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:15,650 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-16 16:50:15,676 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:50:15,679 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:15,680 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-16 16:50:15,704 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-16 16:50:15,708 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:15,709 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-16 16:50:15,786 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:15,786 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-16 16:50:16,054 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-16 16:50:16,094 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-16 16:50:16,328 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-16 16:50:16,407 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:16,408 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-16 16:50:16,504 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:50:16,581 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:50:16,599 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:50:16,674 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:16,675 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-16 16:50:16,773 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:50:16,850 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:50:16,868 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:50:16,952 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:16,953 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-16 16:50:17,046 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:50:17,126 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:50:17,141 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:50:17,145 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:17,146 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-16 16:50:17,221 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:17,221 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-16 16:50:23,610 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-16 16:50:33,198 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-16 16:50:33,313 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-16 16:50:33,383 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:33,383 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-16 16:50:33,483 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-16 16:50:33,559 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-16 16:50:33,574 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-16 16:50:33,577 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:33,578 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-16 16:50:33,578 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-16 16:50:33,578 - bigdata_deploy_logger - INFO - sdp1                       : ok=161  changed=68   unreachable=0    failed=0    skipped=62   rescued=0    ignored=2
2023-08-16 16:50:33,579 - bigdata_deploy_logger - INFO - sdp2                       : ok=84   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-16 16:50:33,579 - bigdata_deploy_logger - INFO - sdp3                       : ok=84   changed=34   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-16 16:50:33,579 - bigdata_deploy_logger - INFO - 
2023-08-16 16:50:33,698 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-08-17 11:48:34,096 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-17 11:48:34,098 - bigdata_deploy_logger - INFO - rendering kafka_configuration.json.j2 config templates  
2023-08-17 11:48:34,108 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-17 11:48:34,110 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-08-17 11:48:34,120 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-17 11:48:34,154 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-17 11:48:34,162 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-17 11:48:34,197 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-17 11:48:34,198 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-08-17 11:48:34,208 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-17 11:48:34,209 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-17 11:48:34,242 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-08-17 11:48:34,246 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-17 11:48:34,257 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-17 11:48:34,261 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-17 11:48:34,270 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-17 11:48:34,274 - bigdata_deploy_logger - INFO - rendering hbase_configuration.json.j2 config templates  
2023-08-17 11:48:34,281 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-17 11:48:34,291 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-17 11:48:34,301 - bigdata_deploy_logger - INFO - rendering hive_configuration.json.j2 config templates  
2023-08-17 11:48:34,310 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-17 11:48:34,313 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-08-17 11:48:34,321 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-08-17 11:48:34,322 - bigdata_deploy_logger - INFO - rendering spark_configuration.json.j2 config templates  
2023-08-17 11:48:34,332 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-08-17 11:48:34,334 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-08-17 11:48:34,350 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-08-17 11:48:35,203 - bigdata_deploy_logger - INFO - [WARNING]: Invalid characters were found in group names but not replaced, use
2023-08-17 11:48:35,203 - bigdata_deploy_logger - INFO - -vvvv to see details
2023-08-17 11:48:36,898 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:36,899 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-17 11:48:36,930 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:36,931 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-17 11:48:36,986 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:48:36,991 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:36,991 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-17 11:48:37,046 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:48:37,056 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:37,056 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-17 11:48:37,063 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:37,063 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-17 11:48:37,360 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:48:37,367 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:48:37,380 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:48:37,385 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:37,385 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-17 11:48:37,439 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:48:37,445 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:48:37,452 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:48:37,458 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:37,459 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-17 11:48:37,514 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:48:37,520 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:48:37,529 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:48:37,538 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:37,538 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-17 11:48:37,592 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:48:37,601 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:48:37,609 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:48:37,615 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:37,615 - bigdata_deploy_logger - INFO - PLAY [Apply the common role to the hadoop-cluster group] ***********************
2023-08-17 11:48:37,644 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:37,645 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:48:44,463 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:48:54,057 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:48:57,520 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:48:57,532 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:57,533 - bigdata_deploy_logger - INFO - TASK [common : 使用wait_for模块测试SSH连通性] *******************************************
2023-08-17 11:48:58,302 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:48:58,386 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:48:58,395 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:48:58,408 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:58,408 - bigdata_deploy_logger - INFO - TASK [common : 显示SSH连通性测试结果] ***************************************************
2023-08-17 11:48:58,463 - bigdata_deploy_logger - INFO - ok: [sdp2] => {
2023-08-17 11:48:58,463 - bigdata_deploy_logger - INFO - "msg": "主机 sdp2 SSH 连通性测试结果: 成功"
2023-08-17 11:48:58,463 - bigdata_deploy_logger - INFO - }
2023-08-17 11:48:58,486 - bigdata_deploy_logger - INFO - ok: [sdp1] => {
2023-08-17 11:48:58,486 - bigdata_deploy_logger - INFO - "msg": "主机 sdp1 SSH 连通性测试结果: 成功"
2023-08-17 11:48:58,486 - bigdata_deploy_logger - INFO - }
2023-08-17 11:48:58,501 - bigdata_deploy_logger - INFO - ok: [sdp3] => {
2023-08-17 11:48:58,501 - bigdata_deploy_logger - INFO - "msg": "主机 sdp3 SSH 连通性测试结果: 成功"
2023-08-17 11:48:58,501 - bigdata_deploy_logger - INFO - }
2023-08-17 11:48:58,514 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:58,514 - bigdata_deploy_logger - INFO - TASK [common : 抛出错误，如果有连接失败的机器] ************************************************
2023-08-17 11:48:58,560 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:48:58,588 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:48:58,595 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:48:58,608 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:58,608 - bigdata_deploy_logger - INFO - TASK [common : Load variables] *************************************************
2023-08-17 11:48:58,680 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-17 11:48:58,695 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-17 11:48:58,715 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/../common/vars/redhat-7.yml)
2023-08-17 11:48:58,753 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:58,753 - bigdata_deploy_logger - INFO - TASK [common : Remove existing ansible_tmp_dir  /tmp/ansible] ******************
2023-08-17 11:48:59,438 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:48:59,521 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:48:59,539 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:48:59,554 - bigdata_deploy_logger - INFO - 
2023-08-17 11:48:59,555 - bigdata_deploy_logger - INFO - TASK [common : Create  /tmp/ansible directory] *********************************
2023-08-17 11:49:00,143 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:00,209 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:00,319 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:00,337 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:00,338 - bigdata_deploy_logger - INFO - TASK [common : distribute cluster_clear script] ********************************
2023-08-17 11:49:02,686 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:03,036 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:03,492 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:03,505 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:03,506 - bigdata_deploy_logger - INFO - TASK [common : Set swappiness to 1] ********************************************
2023-08-17 11:49:04,581 - bigdata_deploy_logger - INFO - [WARNING]: The value 1 (type int) in a string field was converted to u'1' (type
2023-08-17 11:49:04,581 - bigdata_deploy_logger - INFO - string). If this does not look like what you expect, quote the entire value to
2023-08-17 11:49:04,581 - bigdata_deploy_logger - INFO - ensure it does not change.
2023-08-17 11:49:04,581 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:04,930 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:08,784 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:08,798 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:08,799 - bigdata_deploy_logger - INFO - TASK [common : Stop the firewall service] **************************************
2023-08-17 11:49:10,091 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:10,454 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:10,580 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:10,591 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:10,591 - bigdata_deploy_logger - INFO - TASK [common : Disable the firewall service] ***********************************
2023-08-17 11:49:11,771 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:12,511 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:12,794 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:12,806 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:12,807 - bigdata_deploy_logger - INFO - TASK [common : Disable selinux] ************************************************
2023-08-17 11:49:13,772 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:13,844 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:13,910 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:13,928 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:13,928 - bigdata_deploy_logger - INFO - TASK [common : Disable Transparent Huge Pages until the next reboot] ***********
2023-08-17 11:49:14,963 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:15,222 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:15,463 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:15,479 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:15,480 - bigdata_deploy_logger - INFO - TASK [common : Set timezone to "UTC"] ******************************************
2023-08-17 11:49:16,971 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:18,115 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:18,265 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:18,275 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:18,276 - bigdata_deploy_logger - INFO - TASK [common : Configure tuned (RHEL/CentOS 7)] ********************************
2023-08-17 11:49:18,375 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/tuned.yml for sdp2, sdp1, sdp3
2023-08-17 11:49:18,409 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:18,410 - bigdata_deploy_logger - INFO - TASK [common : Gather the rpm package facts] ***********************************
2023-08-17 11:49:20,739 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:21,062 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:24,092 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:24,159 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:24,160 - bigdata_deploy_logger - INFO - TASK [common : Create tuned directory] *****************************************
2023-08-17 11:49:24,816 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:24,845 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:24,981 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:25,059 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:25,060 - bigdata_deploy_logger - INFO - TASK [common : Upload the tuned profile] ***************************************
2023-08-17 11:49:26,599 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:49:27,364 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:49:27,561 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:49:27,626 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:27,627 - bigdata_deploy_logger - INFO - TASK [common : Activate the tuned profile] *************************************
2023-08-17 11:49:30,280 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:30,440 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:31,020 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:31,092 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:31,093 - bigdata_deploy_logger - INFO - TASK [common : check snoopy] ***************************************************
2023-08-17 11:49:31,985 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:32,389 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:32,553 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:32,628 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:32,629 - bigdata_deploy_logger - INFO - TASK [common : stop snoopy if running] *****************************************
2023-08-17 11:49:32,795 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:49:32,870 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:49:32,883 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:49:32,959 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:32,959 - bigdata_deploy_logger - INFO - TASK [common : virtual memory] *************************************************
2023-08-17 11:49:33,873 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:34,222 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:34,373 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:34,444 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:34,445 - bigdata_deploy_logger - INFO - TASK [common : set limit] ******************************************************
2023-08-17 11:49:35,307 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the replace, lineinfile or template module rather
2023-08-17 11:49:35,308 - bigdata_deploy_logger - INFO - than running 'sed'.  If you need to use command because replace, lineinfile or
2023-08-17 11:49:35,308 - bigdata_deploy_logger - INFO - template is insufficient you can add 'warn: false' to this command task or set
2023-08-17 11:49:35,308 - bigdata_deploy_logger - INFO - 'command_warnings=False' in ansible.cfg to get rid of this message.
2023-08-17 11:49:35,308 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:35,835 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:39,108 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:39,196 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:39,197 - bigdata_deploy_logger - INFO - TASK [common : modify nproc.conf] **********************************************
2023-08-17 11:49:40,074 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:40,542 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:40,660 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:40,745 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:40,746 - bigdata_deploy_logger - INFO - TASK [common : create user] ****************************************************
2023-08-17 11:49:42,241 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-17 11:49:43,655 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-17 11:49:43,914 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'user': u'ambari', u'pass': u'ambari'})
2023-08-17 11:49:43,994 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:43,995 - bigdata_deploy_logger - INFO - TASK [common : Config /etc/sudoers] ********************************************
2023-08-17 11:49:44,867 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-17 11:49:45,410 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-17 11:49:45,512 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=echo 'ambari ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers)
2023-08-17 11:49:45,593 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:45,593 - bigdata_deploy_logger - INFO - TASK [common : clean hosts] ****************************************************
2023-08-17 11:49:46,457 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:46,857 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:46,992 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:47,062 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:47,063 - bigdata_deploy_logger - INFO - TASK [common : init /etc/hosts] ************************************************
2023-08-17 11:49:48,129 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp2)
2023-08-17 11:49:48,130 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp2)
2023-08-17 11:49:48,899 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp1)
2023-08-17 11:49:48,995 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp1)
2023-08-17 11:49:49,658 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=sdp3)
2023-08-17 11:49:49,747 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=sdp3)
2023-08-17 11:49:51,755 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp2)
2023-08-17 11:49:52,358 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp1)
2023-08-17 11:49:52,961 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=sdp3)
2023-08-17 11:49:53,038 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:53,039 - bigdata_deploy_logger - INFO - TASK [common : add kadmin host] ************************************************
2023-08-17 11:49:53,132 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:49:53,201 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:49:53,217 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:49:53,292 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:53,293 - bigdata_deploy_logger - INFO - TASK [common : mkdir /etc/security/keytabs] ************************************
2023-08-17 11:49:53,956 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:54,052 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:54,073 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:54,210 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:54,211 - bigdata_deploy_logger - INFO - TASK [common : create /etc/yum.repos.d/bak directory to backup original repos] ***
2023-08-17 11:49:54,885 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=/etc/yum.repos.d/bak)
2023-08-17 11:49:54,932 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=/etc/yum.repos.d/bak)
2023-08-17 11:49:55,011 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/etc/yum.repos.d/bak)
2023-08-17 11:49:55,104 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:55,104 - bigdata_deploy_logger - INFO - TASK [common : rm cache] *******************************************************
2023-08-17 11:49:56,044 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the file module with state=absent rather than running
2023-08-17 11:49:56,044 - bigdata_deploy_logger - INFO - 'rm'.  If you need to use command because file is insufficient you can add
2023-08-17 11:49:56,045 - bigdata_deploy_logger - INFO - 'warn: false' to this command task or set 'command_warnings=False' in
2023-08-17 11:49:56,045 - bigdata_deploy_logger - INFO - ansible.cfg to get rid of this message.
2023-08-17 11:49:56,045 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:49:56,592 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:49:56,926 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:49:57,009 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:57,010 - bigdata_deploy_logger - INFO - TASK [common : backup original repos] ******************************************
2023-08-17 11:49:57,935 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-17 11:49:58,327 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-17 11:49:58,424 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak)
2023-08-17 11:49:58,508 - bigdata_deploy_logger - INFO - 
2023-08-17 11:49:58,509 - bigdata_deploy_logger - INFO - TASK [common : Add the  repository (yum)] **************************************
2023-08-17 11:49:59,184 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-17 11:49:59,252 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-17 11:49:59,312 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/yum/sdp_3.1', u'name': u'ambari_repo'})
2023-08-17 11:49:59,656 - bigdata_deploy_logger - INFO - changed: [sdp3] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-17 11:49:59,872 - bigdata_deploy_logger - INFO - changed: [sdp2] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-17 11:50:00,034 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item={u'url': u'http://172.27.8.22:8081/repository/centos/7/os/x86_64', u'name': u'centos_base_repo'})
2023-08-17 11:50:00,137 - bigdata_deploy_logger - INFO - 
2023-08-17 11:50:00,138 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-17 11:50:01,639 - bigdata_deploy_logger - INFO - ok: [sdp2] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-17 11:50:01,942 - bigdata_deploy_logger - INFO - ok: [sdp3] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-17 11:50:02,089 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=openssh-clients,curl,unzip,tar,wget,openssl,chrony,libtirpc-devel,libselinux-python,perf,sysstat,tcpdump,dstat,net-tools,expect,rpm-python,psmisc,java-1.8.0-openjdk-devel,yum-plugin-priorities)
2023-08-17 11:50:02,159 - bigdata_deploy_logger - INFO - 
2023-08-17 11:50:02,160 - bigdata_deploy_logger - INFO - TASK [common : Install required packages] **************************************
2023-08-17 11:50:02,494 - bigdata_deploy_logger - INFO - 
2023-08-17 11:50:02,495 - bigdata_deploy_logger - INFO - TASK [common : clear all bigdata related files in cluster] *********************
2023-08-17 11:50:50,637 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:51:03,516 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:51:10,753 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:51:10,821 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:10,822 - bigdata_deploy_logger - INFO - TASK [common : install ntpd] ***************************************************
2023-08-17 11:51:11,666 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:11,768 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:11,789 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:11,872 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:11,872 - bigdata_deploy_logger - INFO - TASK [common : scp ntp.conf] ***************************************************
2023-08-17 11:51:13,409 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:14,219 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:14,464 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:51:14,559 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:14,560 - bigdata_deploy_logger - INFO - TASK [common : copy script to master] ******************************************
2023-08-17 11:51:14,656 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:51:14,753 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:51:17,146 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:51:17,234 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:17,235 - bigdata_deploy_logger - INFO - TASK [common : start ntp] ******************************************************
2023-08-17 11:51:19,023 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:51:20,588 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:51:20,732 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:51:20,819 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:20,819 - bigdata_deploy_logger - INFO - TASK [common : restart crontab service] ****************************************
2023-08-17 11:51:22,305 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:51:23,481 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:51:23,514 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:51:23,607 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:23,608 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-17 11:51:32,591 - bigdata_deploy_logger - INFO - fatal: [sdp2]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.355930", "end": "2023-08-17 03:51:32.493608", "msg": "non-zero return code", "rc": 1, "start": "2023-08-17 03:51:24.137678", "stderr": "17 Aug 03:51:32 ntpdate[46479]: no server suitable for synchronization found", "stderr_lines": ["17 Aug 03:51:32 ntpdate[46479]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-17 11:51:32,591 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-17 11:51:33,014 - bigdata_deploy_logger - INFO - fatal: [sdp3]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.699374", "end": "2023-08-17 03:51:32.937073", "msg": "non-zero return code", "rc": 1, "start": "2023-08-17 03:51:24.237699", "stderr": "17 Aug 03:51:32 ntpdate[35495]: no server suitable for synchronization found", "stderr_lines": ["17 Aug 03:51:32 ntpdate[35495]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-17 11:51:33,014 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-17 11:51:33,111 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": true, "cmd": "/usr/sbin/ntpdate -u sdp1 && /sbin/hwclock -w", "delta": "0:00:08.706250", "end": "2023-08-17 03:51:33.008494", "msg": "non-zero return code", "rc": 1, "start": "2023-08-17 03:51:24.302244", "stderr": "17 Aug 03:51:33 ntpdate[83049]: no server suitable for synchronization found", "stderr_lines": ["17 Aug 03:51:33 ntpdate[83049]: no server suitable for synchronization found"], "stdout": "", "stdout_lines": []}
2023-08-17 11:51:33,111 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-17 11:51:33,197 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:33,198 - bigdata_deploy_logger - INFO - TASK [common : crontab ntp] ****************************************************
2023-08-17 11:51:34,070 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:51:34,593 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:51:34,697 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:51:34,773 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:34,773 - bigdata_deploy_logger - INFO - TASK [common : modify encoding] ************************************************
2023-08-17 11:51:36,262 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:36,972 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:37,179 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:37,272 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:37,273 - bigdata_deploy_logger - INFO - TASK [common : Prepare the packages compatible] ********************************
2023-08-17 11:51:37,788 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-17 11:51:37,795 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-17 11:51:37,803 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/common/tasks/yum_version_control.yml for sdp2, sdp1, sdp3
2023-08-17 11:51:37,913 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:37,913 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:38,010 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:38,084 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:38,103 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:38,179 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:38,180 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:38,275 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:38,345 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:38,363 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:38,438 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:38,438 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:38,535 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:38,608 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:38,624 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:38,704 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:38,705 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of openssl-libs] ***********************
2023-08-17 11:51:39,666 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum, dnf or zypper module rather than running
2023-08-17 11:51:39,667 - bigdata_deploy_logger - INFO - 'rpm'.  If you need to use command because yum, dnf or zypper is insufficient
2023-08-17 11:51:39,667 - bigdata_deploy_logger - INFO - you can add 'warn: false' to this command task or set 'command_warnings=False'
2023-08-17 11:51:39,667 - bigdata_deploy_logger - INFO - in ansible.cfg to get rid of this message.
2023-08-17 11:51:39,667 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:40,038 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:40,175 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:40,240 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:40,241 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-17 11:51:41,156 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:41,553 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:41,590 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:41,670 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:41,670 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-17 11:51:41,767 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:41,839 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:41,865 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:41,952 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:41,953 - bigdata_deploy_logger - INFO - TASK [common : Upgrade openssl-libs openssl openssl-devel] *********************
2023-08-17 11:51:42,042 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:51:42,113 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:51:42,124 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:51:42,277 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:42,278 - bigdata_deploy_logger - INFO - TASK [common : Downgrade openssl-libs openssl openssl-devel] *******************
2023-08-17 11:51:42,371 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:51:42,444 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:51:42,450 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:51:42,525 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:42,525 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:42,620 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:42,693 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:42,713 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:42,787 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:42,788 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:42,886 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:42,962 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:42,980 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:43,053 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:43,054 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:43,152 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:43,223 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:43,240 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:43,317 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:43,318 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of zlib] *******************************
2023-08-17 11:51:44,238 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:44,659 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:44,729 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:44,800 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:44,801 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-17 11:51:45,721 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:46,145 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:46,213 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:46,293 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:46,293 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-17 11:51:46,389 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:46,465 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:46,484 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:46,566 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:46,567 - bigdata_deploy_logger - INFO - TASK [common : Upgrade zlib zlib-devel] ****************************************
2023-08-17 11:51:46,661 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:51:46,731 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:51:46,738 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:51:46,815 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:46,816 - bigdata_deploy_logger - INFO - TASK [common : Downgrade zlib zlib-devel] **************************************
2023-08-17 11:51:46,987 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:51:47,060 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:51:47,068 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:51:47,145 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:47,146 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:47,245 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:47,320 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:47,338 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:47,417 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:47,418 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:47,513 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:47,582 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:47,598 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:47,671 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:47,672 - bigdata_deploy_logger - INFO - TASK [common : set_fact] *******************************************************
2023-08-17 11:51:47,784 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:47,865 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:47,886 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:47,983 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:47,984 - bigdata_deploy_logger - INFO - TASK [common : Gather installed version of python] *****************************
2023-08-17 11:51:48,949 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:49,291 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:49,477 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:49,557 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:49,557 - bigdata_deploy_logger - INFO - TASK [common : Compare versions] ***********************************************
2023-08-17 11:51:50,484 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:50,825 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:50,909 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:50,986 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:50,986 - bigdata_deploy_logger - INFO - TASK [common : Set facts] ******************************************************
2023-08-17 11:51:51,082 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:51:51,157 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:51:51,179 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:51:51,256 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:51,256 - bigdata_deploy_logger - INFO - TASK [common : Upgrade python python-libs python-devel] ************************
2023-08-17 11:51:51,351 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:51:51,426 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:51:51,440 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:51:51,531 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:51,532 - bigdata_deploy_logger - INFO - TASK [common : Downgrade python python-libs python-devel] **********************
2023-08-17 11:51:51,634 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:51:51,712 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:51:51,720 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:51:51,721 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:51,722 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-clean-metadata] **********************************
2023-08-17 11:51:53,029 - bigdata_deploy_logger - INFO - [WARNING]: Consider using the yum module rather than running 'yum'.  If you
2023-08-17 11:51:53,029 - bigdata_deploy_logger - INFO - need to use command because yum is insufficient you can add 'warn: false' to
2023-08-17 11:51:53,029 - bigdata_deploy_logger - INFO - this command task or set 'command_warnings=False' in ansible.cfg to get rid of
2023-08-17 11:51:53,029 - bigdata_deploy_logger - INFO - this message.
2023-08-17 11:51:53,030 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:51:53,036 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:51:53,517 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:51:53,518 - bigdata_deploy_logger - INFO - 
2023-08-17 11:51:53,518 - bigdata_deploy_logger - INFO - RUNNING HANDLER [common : yum-makecache] ***************************************
2023-08-17 11:51:59,702 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:52:00,613 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:52:00,885 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:00,890 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:00,891 - bigdata_deploy_logger - INFO - PLAY [Apply the database role to the ambari-server group] **********************
2023-08-17 11:52:00,974 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:00,974 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:52:16,676 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:52:16,775 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:16,775 - bigdata_deploy_logger - INFO - TASK [database : Load variables] ***********************************************
2023-08-17 11:52:16,840 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/../database/vars/redhat-7.yml)
2023-08-17 11:52:16,917 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:16,918 - bigdata_deploy_logger - INFO - TASK [database : Fail if trying to install MariaDB on unsupported OS] **********
2023-08-17 11:52:16,945 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:17,101 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:17,101 - bigdata_deploy_logger - INFO - TASK [Install postgres database packages] **************************************
2023-08-17 11:52:26,867 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql10-server,postgresql10-libs,postgresql10-contrib,postgresql10)
2023-08-17 11:52:26,962 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:26,963 - bigdata_deploy_logger - INFO - TASK [database : Initiate postgres] ********************************************
2023-08-17 11:52:29,491 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:29,580 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:29,581 - bigdata_deploy_logger - INFO - TASK [database : Configure postgres to listen on all interfaces] ***************
2023-08-17 11:52:30,326 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:30,421 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:30,421 - bigdata_deploy_logger - INFO - TASK [database : Set postgres max_connections] *********************************
2023-08-17 11:52:31,141 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:31,225 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:31,225 - bigdata_deploy_logger - INFO - TASK [Configure access for the database without ident auth)] *******************
2023-08-17 11:52:31,917 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:32,062 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:32,062 - bigdata_deploy_logger - INFO - TASK [database : Configure mysql] **********************************************
2023-08-17 11:52:32,084 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:32,164 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:32,165 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is started] ********************
2023-08-17 11:52:34,333 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:34,413 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:34,414 - bigdata_deploy_logger - INFO - TASK [database : Make sure the postgres service is enabled] ********************
2023-08-17 11:52:37,215 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:37,217 - bigdata_deploy_logger - INFO - [WARNING]: flush_handlers task does not support when conditional
2023-08-17 11:52:37,217 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:37,217 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-17 11:52:39,484 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:39,572 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:39,572 - bigdata_deploy_logger - INFO - TASK [Prepare the ambari database] *********************************************
2023-08-17 11:52:39,693 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-17 11:52:39,769 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:39,770 - bigdata_deploy_logger - INFO - TASK [database : Generate the ambari MD5 password] *****************************
2023-08-17 11:52:39,813 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:52:39,961 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:39,962 - bigdata_deploy_logger - INFO - TASK [Create the ambari database user (postgres)] ******************************
2023-08-17 11:52:41,462 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:41,544 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:41,545 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-17 11:52:41,573 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:41,654 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:41,655 - bigdata_deploy_logger - INFO - TASK [Create the ambari database (postgres)] ***********************************
2023-08-17 11:52:43,433 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:43,520 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:43,521 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-17 11:52:43,546 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:43,632 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:43,633 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user (postgres)] **************
2023-08-17 11:52:43,748 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-17 11:52:43,821 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:43,822 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ambari user  (postgres)] *************
2023-08-17 11:52:44,545 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:44,642 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:44,643 - bigdata_deploy_logger - INFO - TASK [Prepare the hive database] ***********************************************
2023-08-17 11:52:44,828 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-17 11:52:44,906 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:44,907 - bigdata_deploy_logger - INFO - TASK [database : Generate the hive MD5 password] *******************************
2023-08-17 11:52:44,941 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:52:45,023 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:45,024 - bigdata_deploy_logger - INFO - TASK [Create the hive database user (postgres)] ********************************
2023-08-17 11:52:46,505 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:46,585 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:46,586 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-17 11:52:46,610 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:46,691 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:46,692 - bigdata_deploy_logger - INFO - TASK [Create the hive database (postgres)] *************************************
2023-08-17 11:52:48,332 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:48,429 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:48,429 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-17 11:52:48,456 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:48,554 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:48,555 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user (postgres)] ****************
2023-08-17 11:52:48,701 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-17 11:52:48,862 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:48,863 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the hive user  (postgres)] ***************
2023-08-17 11:52:49,537 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:49,615 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:49,616 - bigdata_deploy_logger - INFO - TASK [Prepare the ranger database] *********************************************
2023-08-17 11:52:49,742 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-17 11:52:49,823 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:49,824 - bigdata_deploy_logger - INFO - TASK [database : Generate the ranger MD5 password] *****************************
2023-08-17 11:52:49,857 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:52:49,938 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:49,939 - bigdata_deploy_logger - INFO - TASK [Create the ranger database user (postgres)] ******************************
2023-08-17 11:52:51,299 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:51,401 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:51,401 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-17 11:52:51,434 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:51,531 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:51,532 - bigdata_deploy_logger - INFO - TASK [Create the ranger database (postgres)] ***********************************
2023-08-17 11:52:53,175 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:53,332 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:53,333 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-17 11:52:53,358 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:53,445 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:53,445 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user (postgres)] **************
2023-08-17 11:52:53,551 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-17 11:52:53,626 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:53,627 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the ranger user  (postgres)] *************
2023-08-17 11:52:54,292 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:54,436 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:54,437 - bigdata_deploy_logger - INFO - TASK [Prepare the rangerkms database] ******************************************
2023-08-17 11:52:54,565 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play.yml for sdp1
2023-08-17 11:52:54,666 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:54,667 - bigdata_deploy_logger - INFO - TASK [database : Generate the rangerkms MD5 password] **************************
2023-08-17 11:52:54,700 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:52:54,782 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:54,783 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database user (postgres)] ***************************
2023-08-17 11:52:56,177 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:56,253 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:56,254 - bigdata_deploy_logger - INFO - TASK [database : Fail if the user could not be created (postgres)] *************
2023-08-17 11:52:56,286 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:56,441 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:56,442 - bigdata_deploy_logger - INFO - TASK [Create the rangerkms database (postgres)] ********************************
2023-08-17 11:52:58,111 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:58,193 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:58,194 - bigdata_deploy_logger - INFO - TASK [Fail if the database could not be created (postgres)] ********************
2023-08-17 11:52:58,223 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:52:58,318 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:58,319 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user (postgres)] ***********
2023-08-17 11:52:58,423 - bigdata_deploy_logger - INFO - included: /home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/database/tasks/postgres_play_db_access.yml for sdp1
2023-08-17 11:52:58,501 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:58,502 - bigdata_deploy_logger - INFO - TASK [database : Configure access for the rangerkms user  (postgres)] **********
2023-08-17 11:52:59,186 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:52:59,186 - bigdata_deploy_logger - INFO - 
2023-08-17 11:52:59,186 - bigdata_deploy_logger - INFO - RUNNING HANDLER [database : Restart postgres] **********************************
2023-08-17 11:53:01,434 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:53:01,440 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:01,440 - bigdata_deploy_logger - INFO - PLAY [Apply the krb5-client role to the hadoop-cluster group] ******************
2023-08-17 11:53:01,606 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:01,606 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:53:08,084 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:53:17,331 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:53:17,529 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:53:17,626 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:17,627 - bigdata_deploy_logger - INFO - TASK [krb5-client : Load variables] ********************************************
2023-08-17 11:53:17,725 - bigdata_deploy_logger - INFO - skipping: [sdp2] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-17 11:53:17,806 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-17 11:53:17,840 - bigdata_deploy_logger - INFO - skipping: [sdp3] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/krb5-client/../krb5-client/vars/redhat.yml)
2023-08-17 11:53:17,916 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:17,917 - bigdata_deploy_logger - INFO - TASK [krb5-client : Install the Kerberos client package] ***********************
2023-08-17 11:53:18,011 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:53:18,163 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:18,181 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:53:18,262 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:18,262 - bigdata_deploy_logger - INFO - TASK [krb5-client : Upload the krb5.conf file] *********************************
2023-08-17 11:53:18,358 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:53:18,441 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:18,456 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:53:18,466 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:18,467 - bigdata_deploy_logger - INFO - PLAY [Apply the mit-kdc role to the ambari-server group] ***********************
2023-08-17 11:53:18,555 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:18,555 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:53:34,272 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:53:34,363 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:34,364 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Load variables] ************************************************
2023-08-17 11:53:34,410 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/mit-kdc/../mit-kdc/vars/redhat.yml)
2023-08-17 11:53:34,492 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:34,493 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Install MIT KDC packages] **************************************
2023-08-17 11:53:34,518 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:34,597 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:34,598 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Upload the KDC configuration file] *****************************
2023-08-17 11:53:34,618 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:34,765 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:34,765 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Create the KDC database for realm TEST.COM] ********************
2023-08-17 11:53:34,784 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:34,864 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:34,864 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Add the admin principal for realm TEST.COM] ********************
2023-08-17 11:53:34,882 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:34,962 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:34,963 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Fail if the admin principal could not be created] **************
2023-08-17 11:53:34,987 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:35,062 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,062 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Set the ACL for the admin user] ********************************
2023-08-17 11:53:35,082 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:35,161 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,161 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is started] **************************
2023-08-17 11:53:35,180 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:35,259 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,259 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kdc service is enabled] **************************
2023-08-17 11:53:35,281 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:35,363 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,363 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is started] ***********************
2023-08-17 11:53:35,386 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:35,468 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,468 - bigdata_deploy_logger - INFO - TASK [mit-kdc : Make sure the kadmin service is enabled] ***********************
2023-08-17 11:53:35,488 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:35,492 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,492 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-17 11:53:35,502 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,503 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-17 11:53:35,523 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:53:35,527 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,528 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-17 11:53:35,550 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:53:35,553 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,554 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-17 11:53:35,629 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,630 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-17 11:53:35,814 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:53:35,845 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:53:35,900 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:53:35,987 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:35,988 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-17 11:53:36,081 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:53:36,154 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:36,172 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:53:36,244 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:36,245 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-17 11:53:36,415 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:53:36,496 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:36,512 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:53:36,586 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:36,587 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-17 11:53:36,678 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:53:36,754 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:53:36,770 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:53:36,778 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:36,778 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-agent role to the hadoop-cluster group] *****************
2023-08-17 11:53:36,856 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:36,856 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:53:43,302 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:53:52,473 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:53:52,576 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:53:52,643 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:52,644 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create the ambari_run_user group or verify if its present] ***
2023-08-17 11:53:53,366 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:53:53,464 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:53:53,490 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:53:53,578 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:53,579 - bigdata_deploy_logger - INFO - TASK [ambari-agent : create user ambari_run_user] ******************************
2023-08-17 11:53:54,579 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:53:54,894 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:53:55,004 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:53:55,079 - bigdata_deploy_logger - INFO - 
2023-08-17 11:53:55,079 - bigdata_deploy_logger - INFO - TASK [Install the ambari-agent package] ****************************************
2023-08-17 11:54:03,378 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:54:06,476 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:54:06,502 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:54:06,589 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:06,590 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Set the Ambari Server in the agent configuration] *********
2023-08-17 11:54:07,338 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:54:07,358 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:54:07,518 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:54:07,608 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:07,608 - bigdata_deploy_logger - INFO - TASK [ambari-agent : set run_user for Ambari agents] ***************************
2023-08-17 11:54:08,344 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:54:08,446 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:54:08,506 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:54:08,668 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:08,669 - bigdata_deploy_logger - INFO - TASK [ambari-agent : Configure the Ambari Agents to use TLS 1.2] ***************
2023-08-17 11:54:09,340 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:54:09,473 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:54:09,492 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:54:09,575 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:09,576 - bigdata_deploy_logger - INFO - TASK [Update ambari-agent log dir] *********************************************
2023-08-17 11:54:10,221 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:54:10,267 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:54:10,408 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:54:10,410 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:10,410 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-agent : Reload systemd] ********************************
2023-08-17 11:54:11,548 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:54:11,937 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:54:12,189 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:54:12,190 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:12,190 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-agent] *****************************************
2023-08-17 11:54:16,125 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:54:16,676 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:54:17,169 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:54:17,253 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:17,254 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is started] ***************************
2023-08-17 11:54:18,222 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:54:18,721 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:54:18,753 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:54:18,902 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:18,902 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-agent service is enabled] ***************************
2023-08-17 11:54:20,101 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:54:20,974 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:54:21,044 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:54:21,052 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:21,052 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-server role to the ambari-server group] *****************
2023-08-17 11:54:21,138 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:21,139 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:54:36,761 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:54:36,838 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:36,839 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load variables] ******************************************
2023-08-17 11:54:36,887 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-server/../ambari-server/vars/redhat-7.yml)
2023-08-17 11:54:36,967 - bigdata_deploy_logger - INFO - 
2023-08-17 11:54:36,968 - bigdata_deploy_logger - INFO - TASK [Install the ambari-server package] ***************************************
2023-08-17 11:55:08,252 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:55:08,406 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:08,407 - bigdata_deploy_logger - INFO - TASK [Check ambari-server run user] ********************************************
2023-08-17 11:55:09,738 - bigdata_deploy_logger - INFO - fatal: [sdp1]: FAILED! => {"changed": false, "cmd": ["grep", "-q", "^ambari-server.user=", "/etc/ambari-server/conf/ambari.properties"], "delta": "0:00:00.623663", "end": "2023-08-17 03:55:09.629991", "msg": "non-zero return code", "rc": 1, "start": "2023-08-17 03:55:09.006328", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2023-08-17 11:55:09,739 - bigdata_deploy_logger - INFO - ...ignoring
2023-08-17 11:55:09,819 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:09,819 - bigdata_deploy_logger - INFO - TASK [Add ambari-server.user configuration] ************************************
2023-08-17 11:55:10,623 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:55:10,715 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:10,716 - bigdata_deploy_logger - INFO - TASK [Replace ambari-server.user configuration] ********************************
2023-08-17 11:55:10,738 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:55:10,831 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:10,832 - bigdata_deploy_logger - INFO - TASK [ambari-server : mkdir /usr/share/java/] **********************************
2023-08-17 11:55:11,482 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:55:11,563 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:11,564 - bigdata_deploy_logger - INFO - TASK [ambari-server : get jdbc jar] ********************************************
2023-08-17 11:55:15,510 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=postgresql-42.2.2.jar)
2023-08-17 11:55:19,406 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=mysql-connector-java.jar)
2023-08-17 11:55:19,407 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:19,407 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Reload systemd] *******************************
2023-08-17 11:55:20,935 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:55:21,014 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:21,015 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql required packages (for hive embedded)] *****
2023-08-17 11:55:21,052 - bigdata_deploy_logger - INFO - skipping: [sdp1] => (item=MySQL-python,mysql-connector-java)
2023-08-17 11:55:21,206 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:21,207 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install mysql-server on Ubuntu 16 (for hive embedded)] ***
2023-08-17 11:55:21,230 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:55:21,384 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:21,384 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure mysql to listen on all interfaces (Ubuntu 16)] ***
2023-08-17 11:55:21,413 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:55:21,564 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:21,564 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver for mysql (for hive embedded)] ***
2023-08-17 11:55:21,586 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:55:21,665 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:21,665 - bigdata_deploy_logger - INFO - TASK [ambari-server : Install postgres required packages] **********************
2023-08-17 11:55:26,673 - bigdata_deploy_logger - INFO - changed: [sdp1] => (item=postgresql,python-psycopg2,postgresql-jdbc)
2023-08-17 11:55:26,751 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:26,751 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (postgres)] ****************
2023-08-17 11:55:28,959 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:55:29,038 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:29,039 - bigdata_deploy_logger - INFO - TASK [ambari-server : Load the Ambari Server schema (mysql)] *******************
2023-08-17 11:55:29,062 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:55:29,141 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:29,142 - bigdata_deploy_logger - INFO - TASK [ambari-server : Fail if the mysql schema could not be loaded] ************
2023-08-17 11:55:29,165 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:55:29,264 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:29,265 - bigdata_deploy_logger - INFO - TASK [ambari-server : Configure the Ambari JDBC driver] ************************
2023-08-17 11:55:30,874 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:55:30,961 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:30,961 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server database setup options] ************
2023-08-17 11:55:30,997 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:55:31,073 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:31,074 - bigdata_deploy_logger - INFO - TASK [ambari-server : Set the Ambari Server Java setup option (OpenJDK)] *******
2023-08-17 11:55:31,101 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:55:31,182 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:31,183 - bigdata_deploy_logger - INFO - TASK [ambari-server : Run Ambari Server setup] *********************************
2023-08-17 11:55:36,889 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:55:36,968 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:36,968 - bigdata_deploy_logger - INFO - TASK [Update ambari-server log dir] ********************************************
2023-08-17 11:55:37,625 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:55:37,707 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:37,708 - bigdata_deploy_logger - INFO - TASK [ambari-server : Increase the Ambari Server startup timeout] **************
2023-08-17 11:55:38,334 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:55:38,335 - bigdata_deploy_logger - INFO - 
2023-08-17 11:55:38,335 - bigdata_deploy_logger - INFO - RUNNING HANDLER [Restart ambari-server] ****************************************
2023-08-17 11:56:01,419 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:56:01,420 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:01,420 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-server : Wait for Ambari Server to start listening on port 8080] ***
2023-08-17 11:56:03,331 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:03,428 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:03,428 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is started] **************************
2023-08-17 11:56:04,883 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:04,987 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:04,987 - bigdata_deploy_logger - INFO - TASK [Make sure the ambari-server service is enabled] **************************
2023-08-17 11:56:07,014 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:07,017 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:07,018 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-17 11:56:07,022 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:07,022 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-17 11:56:07,048 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:56:07,053 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:07,054 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-17 11:56:07,079 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:56:07,083 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:07,084 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-17 11:56:07,160 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:07,160 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-17 11:56:07,386 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:56:07,438 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:56:07,590 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:56:07,667 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:07,668 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-17 11:56:07,765 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:56:07,849 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:56:07,873 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:56:07,963 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:07,964 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-17 11:56:08,070 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:56:08,147 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:56:08,167 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:56:08,311 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:08,312 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-17 11:56:08,404 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:56:08,490 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:56:08,508 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:56:08,517 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:08,517 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-17 11:56:08,608 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:08,608 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:56:14,993 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:56:24,349 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:56:24,360 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:24,366 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:24,367 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-config role to the ambari-server group] *****************
2023-08-17 11:56:24,538 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:24,539 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:56:40,180 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:40,252 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:40,253 - bigdata_deploy_logger - INFO - TASK [ambari-config : Load variables] ******************************************
2023-08-17 11:56:40,298 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-config/../ambari-config/vars/redhat.yml)
2023-08-17 11:56:40,376 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:40,377 - bigdata_deploy_logger - INFO - TASK [ambari-config : Set the GPL Licensed setting in Ambari] ******************
2023-08-17 11:56:41,109 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:56:41,198 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:41,199 - bigdata_deploy_logger - INFO - TASK [ambari-config : Attempt to change the default Ambari admin password] *****
2023-08-17 11:56:41,218 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:56:41,299 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:41,300 - bigdata_deploy_logger - INFO - TASK [ambari-config : version_definitions] *************************************
2023-08-17 11:56:42,671 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:42,750 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:42,751 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo] *******************************
2023-08-17 11:56:42,780 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:42,926 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:42,927 - bigdata_deploy_logger - INFO - TASK [ambari-config : Generate the cluster repo_version_update_body] ***********
2023-08-17 11:56:43,179 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:43,256 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:43,257 - bigdata_deploy_logger - INFO - TASK [ambari-config : Update repo_version model to set ambari_managed_repositories] ***
2023-08-17 11:56:44,032 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:56:44,120 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:44,121 - bigdata_deploy_logger - INFO - TASK [ambari-config : Make sure all of the Ambari Agents have registered] ******
2023-08-17 11:56:45,496 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp2)
2023-08-17 11:56:46,320 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp1)
2023-08-17 11:56:47,109 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=sdp3)
2023-08-17 11:56:47,126 - bigdata_deploy_logger - INFO - 
2023-08-17 11:56:47,127 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Restart ambari-server] ************************
2023-08-17 11:57:01,394 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:57:01,394 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:01,395 - bigdata_deploy_logger - INFO - RUNNING HANDLER [ambari-config : Wait for Ambari Server to start listening on port 8080] ***
2023-08-17 11:57:03,134 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:03,139 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:03,139 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-17 11:57:03,145 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:03,145 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-17 11:57:03,170 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:57:03,178 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:03,179 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-17 11:57:03,203 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 11:57:03,208 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:03,209 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-17 11:57:03,302 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:03,303 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-17 11:57:03,501 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 11:57:03,621 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 11:57:03,665 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 11:57:03,757 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:03,757 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-17 11:57:03,857 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:57:03,929 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:57:03,945 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:57:04,034 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:04,035 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-17 11:57:04,132 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:57:04,206 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:57:04,222 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:57:04,298 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:04,299 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-17 11:57:04,391 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 11:57:04,464 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:57:04,482 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 11:57:04,486 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:04,486 - bigdata_deploy_logger - INFO - PLAY [Gather facts from all nodes] *********************************************
2023-08-17 11:57:04,566 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:04,566 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:57:10,909 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 11:57:20,075 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 11:57:20,359 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:20,362 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:20,363 - bigdata_deploy_logger - INFO - PLAY [Apply the ambari-blueprint role to the ambari-server group] **************
2023-08-17 11:57:20,441 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:20,442 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 11:57:36,183 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:36,264 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:36,265 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Load variables] ***************************************
2023-08-17 11:57:36,309 - bigdata_deploy_logger - INFO - ok: [sdp1] => (item=/home/jialiang/sdp/prjs/bigdata-deploy/ansible-scripts/playbooks/roles/ambari-blueprint/../ambari-blueprint/vars/redhat.yml)
2023-08-17 11:57:36,396 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:36,397 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Check if a cluster mytestcluster already exists] ******
2023-08-17 11:57:37,740 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:37,827 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:37,828 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if a cluster mytestcluster already exists] *******
2023-08-17 11:57:37,846 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:57:37,988 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:37,988 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster static blueprint] ****************
2023-08-17 11:57:38,055 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:38,142 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:38,142 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster blueprint] **************************
2023-08-17 11:57:38,162 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:57:38,250 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:38,251 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Generate the cluster creation template] ***************
2023-08-17 11:57:38,287 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:38,372 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:38,373 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Print the cluster creation template] ******************
2023-08-17 11:57:38,393 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 11:57:38,483 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:38,483 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Delete any existing blueprint called my_blueprint] ****
2023-08-17 11:57:39,307 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:39,391 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:39,392 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Upload the blueprint my_blueprint to the Ambari server] ***
2023-08-17 11:57:40,310 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:40,393 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:40,393 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Modify the  base_url repository for bigtop stack] *****
2023-08-17 11:57:41,354 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:41,503 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:41,504 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Launch the create cluster request] ********************
2023-08-17 11:57:47,691 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 11:57:47,782 - bigdata_deploy_logger - INFO - 
2023-08-17 11:57:47,783 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Wait for the cluster to be built] *********************
2023-08-17 11:57:48,700 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (360 retries left).
2023-08-17 11:57:59,442 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (359 retries left).
2023-08-17 11:58:10,827 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (358 retries left).
2023-08-17 11:58:22,135 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (357 retries left).
2023-08-17 11:58:32,873 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (356 retries left).
2023-08-17 11:58:43,696 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (355 retries left).
2023-08-17 11:58:54,459 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (354 retries left).
2023-08-17 11:59:08,164 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (353 retries left).
2023-08-17 11:59:18,937 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (352 retries left).
2023-08-17 11:59:29,711 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (351 retries left).
2023-08-17 11:59:40,633 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (350 retries left).
2023-08-17 11:59:51,320 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (349 retries left).
2023-08-17 12:00:02,119 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (348 retries left).
2023-08-17 12:00:12,917 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (347 retries left).
2023-08-17 12:00:23,773 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (346 retries left).
2023-08-17 12:00:34,543 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (345 retries left).
2023-08-17 12:00:45,363 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (344 retries left).
2023-08-17 12:00:56,085 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (343 retries left).
2023-08-17 12:01:07,100 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (342 retries left).
2023-08-17 12:01:17,901 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (341 retries left).
2023-08-17 12:01:29,094 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (340 retries left).
2023-08-17 12:01:39,873 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (339 retries left).
2023-08-17 12:01:50,666 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (338 retries left).
2023-08-17 12:02:01,331 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (337 retries left).
2023-08-17 12:02:12,109 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (336 retries left).
2023-08-17 12:02:22,911 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (335 retries left).
2023-08-17 12:02:33,742 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (334 retries left).
2023-08-17 12:02:48,649 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (333 retries left).
2023-08-17 12:02:59,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (332 retries left).
2023-08-17 12:03:13,150 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (331 retries left).
2023-08-17 12:03:23,926 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (330 retries left).
2023-08-17 12:03:34,684 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (329 retries left).
2023-08-17 12:03:47,622 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (328 retries left).
2023-08-17 12:03:58,503 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (327 retries left).
2023-08-17 12:04:09,180 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (326 retries left).
2023-08-17 12:04:19,987 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (325 retries left).
2023-08-17 12:04:30,770 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (324 retries left).
2023-08-17 12:04:41,506 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (323 retries left).
2023-08-17 12:04:52,232 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (322 retries left).
2023-08-17 12:05:03,001 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (321 retries left).
2023-08-17 12:05:13,853 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (320 retries left).
2023-08-17 12:05:24,611 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (319 retries left).
2023-08-17 12:05:35,379 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (318 retries left).
2023-08-17 12:05:46,245 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (317 retries left).
2023-08-17 12:05:56,987 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (316 retries left).
2023-08-17 12:06:07,786 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (315 retries left).
2023-08-17 12:06:18,550 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (314 retries left).
2023-08-17 12:06:29,285 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (313 retries left).
2023-08-17 12:06:40,080 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (312 retries left).
2023-08-17 12:06:50,845 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (311 retries left).
2023-08-17 12:07:01,587 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (310 retries left).
2023-08-17 12:07:12,330 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (309 retries left).
2023-08-17 12:07:23,115 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (308 retries left).
2023-08-17 12:07:33,921 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (307 retries left).
2023-08-17 12:07:44,643 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (306 retries left).
2023-08-17 12:07:55,350 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (305 retries left).
2023-08-17 12:08:06,128 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (304 retries left).
2023-08-17 12:08:16,893 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (303 retries left).
2023-08-17 12:08:27,658 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (302 retries left).
2023-08-17 12:08:38,378 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (301 retries left).
2023-08-17 12:08:49,108 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (300 retries left).
2023-08-17 12:08:59,850 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (299 retries left).
2023-08-17 12:09:10,627 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (298 retries left).
2023-08-17 12:09:21,575 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (297 retries left).
2023-08-17 12:09:32,359 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (296 retries left).
2023-08-17 12:09:43,098 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (295 retries left).
2023-08-17 12:09:58,133 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (294 retries left).
2023-08-17 12:10:08,926 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (293 retries left).
2023-08-17 12:10:19,708 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (292 retries left).
2023-08-17 12:10:32,590 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (291 retries left).
2023-08-17 12:10:47,113 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (290 retries left).
2023-08-17 12:10:58,021 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (289 retries left).
2023-08-17 12:11:08,760 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (288 retries left).
2023-08-17 12:11:19,590 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (287 retries left).
2023-08-17 12:11:30,355 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (286 retries left).
2023-08-17 12:11:41,107 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (285 retries left).
2023-08-17 12:11:51,840 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (284 retries left).
2023-08-17 12:12:02,614 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (283 retries left).
2023-08-17 12:12:13,407 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (282 retries left).
2023-08-17 12:12:24,165 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (281 retries left).
2023-08-17 12:12:34,982 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (280 retries left).
2023-08-17 12:12:45,850 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (279 retries left).
2023-08-17 12:12:56,623 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (278 retries left).
2023-08-17 12:13:07,460 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (277 retries left).
2023-08-17 12:13:18,297 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (276 retries left).
2023-08-17 12:13:29,068 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (275 retries left).
2023-08-17 12:13:39,917 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (274 retries left).
2023-08-17 12:13:51,057 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (273 retries left).
2023-08-17 12:14:01,803 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (272 retries left).
2023-08-17 12:14:12,953 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (271 retries left).
2023-08-17 12:14:23,712 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (270 retries left).
2023-08-17 12:14:34,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (269 retries left).
2023-08-17 12:14:45,374 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (268 retries left).
2023-08-17 12:14:56,143 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (267 retries left).
2023-08-17 12:15:06,937 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (266 retries left).
2023-08-17 12:15:17,705 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (265 retries left).
2023-08-17 12:15:28,530 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (264 retries left).
2023-08-17 12:15:39,407 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (263 retries left).
2023-08-17 12:15:50,247 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (262 retries left).
2023-08-17 12:16:01,068 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (261 retries left).
2023-08-17 12:16:11,824 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (260 retries left).
2023-08-17 12:16:22,638 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (259 retries left).
2023-08-17 12:16:33,454 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (258 retries left).
2023-08-17 12:16:44,301 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (257 retries left).
2023-08-17 12:16:55,080 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (256 retries left).
2023-08-17 12:17:05,842 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (255 retries left).
2023-08-17 12:17:16,636 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (254 retries left).
2023-08-17 12:17:27,462 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (253 retries left).
2023-08-17 12:17:38,252 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (252 retries left).
2023-08-17 12:17:49,036 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (251 retries left).
2023-08-17 12:17:59,813 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (250 retries left).
2023-08-17 12:18:10,533 - bigdata_deploy_logger - INFO - FAILED - RETRYING: Wait for the cluster to be built (249 retries left).
2023-08-17 12:18:21,352 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 12:18:21,520 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:21,520 - bigdata_deploy_logger - INFO - TASK [ambari-blueprint : Fail if the cluster create task is in an error state] ***
2023-08-17 12:18:21,569 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 12:18:21,572 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:21,573 - bigdata_deploy_logger - INFO - PLAY [Create the required Ansible groups] **************************************
2023-08-17 12:18:21,581 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:21,581 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'hadoop-cluster' exists] *******
2023-08-17 12:18:21,606 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 12:18:21,610 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:21,611 - bigdata_deploy_logger - INFO - TASK [Fail if no Ansible inventory group called 'ambari-server' exists] ********
2023-08-17 12:18:21,633 - bigdata_deploy_logger - INFO - skipping: [localhost]
2023-08-17 12:18:21,637 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:21,638 - bigdata_deploy_logger - INFO - PLAY [Create the Ansible helper variables for all nodes] ***********************
2023-08-17 12:18:21,724 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:21,724 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python exists] *****************************************
2023-08-17 12:18:21,969 - bigdata_deploy_logger - INFO - changed: [sdp1]
2023-08-17 12:18:22,003 - bigdata_deploy_logger - INFO - changed: [sdp2]
2023-08-17 12:18:22,194 - bigdata_deploy_logger - INFO - changed: [sdp3]
2023-08-17 12:18:22,274 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:22,275 - bigdata_deploy_logger - INFO - TASK [Check if /usr/bin/python3 exists] ****************************************
2023-08-17 12:18:22,374 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 12:18:22,449 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 12:18:22,466 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 12:18:22,545 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:22,546 - bigdata_deploy_logger - INFO - TASK [Fail if no standard python path could be found] **************************
2023-08-17 12:18:22,650 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 12:18:22,732 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 12:18:22,748 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 12:18:22,828 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:22,828 - bigdata_deploy_logger - INFO - TASK [Set the ansible_python_interpreter to /usr/bin/python3] ******************
2023-08-17 12:18:22,923 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 12:18:22,997 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 12:18:23,014 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 12:18:23,019 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:23,019 - bigdata_deploy_logger - INFO - PLAY [Apply the post-install role to the hadoop-cluster group] *****************
2023-08-17 12:18:23,099 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:23,099 - bigdata_deploy_logger - INFO - TASK [Gathering Facts] *********************************************************
2023-08-17 12:18:29,282 - bigdata_deploy_logger - INFO - ok: [sdp2]
2023-08-17 12:18:38,815 - bigdata_deploy_logger - INFO - ok: [sdp1]
2023-08-17 12:18:38,965 - bigdata_deploy_logger - INFO - ok: [sdp3]
2023-08-17 12:18:39,035 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:39,036 - bigdata_deploy_logger - INFO - TASK [post-install : Set correct permissions to the http secret key] ***********
2023-08-17 12:18:39,131 - bigdata_deploy_logger - INFO - skipping: [sdp2]
2023-08-17 12:18:39,208 - bigdata_deploy_logger - INFO - skipping: [sdp1]
2023-08-17 12:18:39,233 - bigdata_deploy_logger - INFO - skipping: [sdp3]
2023-08-17 12:18:39,234 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:39,234 - bigdata_deploy_logger - INFO - PLAY RECAP *********************************************************************
2023-08-17 12:18:39,235 - bigdata_deploy_logger - INFO - localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0
2023-08-17 12:18:39,235 - bigdata_deploy_logger - INFO - sdp1                       : ok=161  changed=69   unreachable=0    failed=0    skipped=62   rescued=0    ignored=2
2023-08-17 12:18:39,235 - bigdata_deploy_logger - INFO - sdp2                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-17 12:18:39,235 - bigdata_deploy_logger - INFO - sdp3                       : ok=84   changed=35   unreachable=0    failed=0    skipped=30   rescued=0    ignored=1
2023-08-17 12:18:39,236 - bigdata_deploy_logger - INFO - 
2023-08-17 12:18:39,342 - bigdata_deploy_logger - INFO - playbook return_code is 0
2023-11-11 13:33:54,330 - bigdata_deploy_logger - INFO - main program params is : Namespace(clean_all=False, clean_components=False, components='ambari', deploy=True, parallel=2, release=False, stack='ambari', upload_nexus=True)
2023-11-11 13:33:55,885 - bigdata_deploy_logger - INFO - run
2023-11-11 13:34:07,888 - bigdata_deploy_logger - INFO - Container is in running state, stopped it.
2023-11-11 13:34:08,338 - bigdata_deploy_logger - INFO - Container stopped and removed successfully.
2023-11-11 13:34:09,426 - bigdata_deploy_logger - INFO - Container started, ID: b740438dc068cd1bdaffc6550a3a8c6b352fbe6e480269d79740d17c78614659
2023-11-11 13:34:09,426 - bigdata_deploy_logger - INFO - Container status: created
2023-11-11 13:34:09,427 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'pip3 install distro jinja2 pyyaml requests']}
2023-11-11 13:34:26,152 - bigdata_deploy_logger - INFO - command: ExecResult(exit_code=0, output=b'WARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.\nCollecting distro\n  Downloading https://mirrors.aliyun.com/pypi/packages/f4/2c/c90a3adaf0ddb70afe193f5ebfb539612af57cffe677c3126be533df3098/distro-1.8.0-py3-none-any.whl\nCollecting jinja2\n  Downloading https://mirrors.aliyun.com/pypi/packages/20/9a/e5d9ec41927401e41aea8af6d16e78b5e612bca4699d417f646a9610a076/Jinja2-3.0.3-py3-none-any.whl (133kB)\nCollecting pyyaml\n  Downloading https://mirrors.aliyun.com/pypi/packages/cd/e5/af35f7ea75cf72f2cd079c95ee16797de7cd71f29ea7c68ae5ce7be1eda0/PyYAML-6.0.1.tar.gz (125kB)\nCollecting requests\n  Downloading https://mirrors.aliyun.com/pypi/packages/2d/61/08076519c80041bc0ffa1a8af0cbd3bf3e2b62af10435d269a9d0f40564d/requests-2.27.1-py2.py3-none-any.whl (63kB)\nCollecting MarkupSafe>=2.0 (from jinja2)\n  Downloading https://mirrors.aliyun.com/pypi/packages/fc/d6/57f9a97e56447a1e340f8574836d3b636e2c14de304943836bd645fa9c7e/MarkupSafe-2.0.1-cp36-cp36m-manylinux1_x86_64.whl\nCollecting urllib3<1.27,>=1.21.1 (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/b0/53/aa91e163dcfd1e5b82d8a890ecf13314e3e149c05270cc644581f77f17fd/urllib3-1.26.18-py2.py3-none-any.whl (143kB)\nCollecting certifi>=2017.4.17 (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/4c/dd/2234eab22353ffc7d94e8d13177aaa050113286e93e7b40eae01fbf7c3d9/certifi-2023.7.22-py3-none-any.whl (158kB)\nCollecting idna<4,>=2.5; python_version >= "3" (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61kB)\nCollecting charset-normalizer~=2.0.0; python_version >= "3" (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/06/b3/24afc8868eba069a7f03650ac750a778862dc34941a4bebeb58706715726/charset_normalizer-2.0.12-py3-none-any.whl\nBuilding wheels for collected packages: pyyaml\n  Running setup.py bdist_wheel for pyyaml: started\n  Running setup.py bdist_wheel for pyyaml: finished with status \'done\'\n  Stored in directory: /root/.cache/pip/wheels/a8/5f/96/dcb311d4593398a4fdb51cb78f5472cb065ecb43fccea349d3\nSuccessfully built pyyaml\nInstalling collected packages: distro, MarkupSafe, jinja2, pyyaml, urllib3, certifi, idna, charset-normalizer, requests\nSuccessfully installed MarkupSafe-2.0.1 certifi-2023.7.22 charset-normalizer-2.0.12 distro-1.8.0 idna-3.4 jinja2-3.0.3 pyyaml-6.0.1 requests-2.27.1 urllib3-1.26.18\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n')
2023-11-11 13:34:26,153 - bigdata_deploy_logger - INFO - conf_str is '{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}'
2023-11-11 13:34:26,153 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', "echo 'export PYTHONPATH=/ws1/ci_tools/python:$PYTHONPATH' >> /etc/profile && source /etc/profile"], 'workdir': '/'}
2023-11-11 13:34:26,533 - bigdata_deploy_logger - INFO - command: ExecResult(exit_code=0, output=b'')
2023-11-11 13:34:26,533 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-11 13:34:28,995 - bigdata_deploy_logger - INFO - command: ExecResult(exit_code=0, output=b"2023-11-11 05:34:26,756 - bigdata_deploy_logger - INFO - params config: {'prepare_env': True, 'local_repo': '/data/sdv1/repository', 'proxy': '172.27.8.22:7890'},\n2023-11-11 05:34:26,757 - bigdata_deploy_logger - INFO - load_success_components: {'bigtop-select': '2023-11-09T07:17:13.894397', 'bigtop-jsvc': '2023-11-09T07:17:52.269321', 'bigtop-groovy': '2023-11-09T07:18:24.525581', 'bigtop-utils': '2023-11-09T07:18:34.477737', 'ranger': '2023-11-09T07:48:21.413527', 'ambari-infra': '2023-11-11T04:21:14.635656', 'ambari-metrics': '2023-11-11T04:31:36.294073', 'ambari': '2023-11-11T05:30:09.324414'}\n2023-11-11 05:34:26,757 - bigdata_deploy_logger - INFO - set git config\n2023-11-11 05:34:26,813 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Base.repo --> /etc/yum.repos.d/bakup/CentOS-Base.repo\n2023-11-11 05:34:26,864 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-CR.repo --> /etc/yum.repos.d/bakup/CentOS-CR.repo\n2023-11-11 05:34:26,866 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Debuginfo.repo --> /etc/yum.repos.d/bakup/CentOS-Debuginfo.repo\n2023-11-11 05:34:26,867 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Media.repo --> /etc/yum.repos.d/bakup/CentOS-Media.repo\n2023-11-11 05:34:26,906 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Sources.repo --> /etc/yum.repos.d/bakup/CentOS-Sources.repo\n2023-11-11 05:34:26,972 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Vault.repo --> /etc/yum.repos.d/bakup/CentOS-Vault.repo\n2023-11-11 05:34:27,088 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-fasttrack.repo --> /etc/yum.repos.d/bakup/CentOS-fasttrack.repo\n2023-11-11 05:34:27,090 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-x86_64-kernel.repo --> /etc/yum.repos.d/bakup/CentOS-x86_64-kernel.repo\n2023-11-11 05:34:27,091 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel-testing.repo --> /etc/yum.repos.d/bakup/epel-testing.repo\n2023-11-11 05:34:27,093 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel.repo --> /etc/yum.repos.d/bakup/epel.repo\n2023-11-11 05:34:27,101 - bigdata_deploy_logger - INFO - full_os_and_major_version is redhat7\n2023-11-11 05:34:27,101 - bigdata_deploy_logger - INFO - write new repo /etc/yum.repos.d/redhat7.repo to /etc/yum.repos.d/redhat7.repo\n2023-11-11 05:34:28,874 - bigdata_deploy_logger - INFO - skip broken repo set: yum-config-manager --save --setopt=*.skip_if_unavailable=true skip unavailable 0\n2023-11-11 05:34:28,954 - bigdata_deploy_logger - INFO - set maven conf\n2023-11-11 05:34:28,960 - bigdata_deploy_logger - INFO - set web compile envirment\n2023-11-11 05:34:28,961 - bigdata_deploy_logger - INFO - set npm registry\n2023-11-11 05:34:28,961 - bigdata_deploy_logger - INFO - set yarn registry\n2023-11-11 05:34:28,961 - bigdata_deploy_logger - INFO - set bower proxy\n")
2023-11-11 13:34:28,996 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'yum install -y python3-devel']}
2023-11-11 13:35:35,430 - bigdata_deploy_logger - INFO - command: ExecResult(exit_code=0, output=b'Loaded plugins: fastestmirror, ovl\nDetermining fastest mirrors\n * base: mirrors.aliyuncs.com\n * extras: mirrors.aliyuncs.com\nhttp://mirrors.aliyuncs.com/centos/7/os/x86_64/repodata/repomd.xml: [Errno 12] Timeout on http://mirrors.aliyuncs.com/centos/7/os/x86_64/repodata/repomd.xml: (28, \'Operation too slow. Less than 1000 bytes/sec transferred the last 30 seconds\')\nTrying other mirror.\nhttp://mirrors.cloud.aliyuncs.com/centos/7/os/x86_64/repodata/6d0c3a488c282fe537794b5946b01e28c7f44db79097bb06826e1c0c88bad5ef-primary.sqlite.bz2: [Errno 14] curl#6 - "Could not resolve host: mirrors.cloud.aliyuncs.com; Unknown error"\nTrying other mirror.\nResolving Dependencies\n--> Running transaction check\n---> Package python3-devel.x86_64 0:3.6.8-19.el7_9 will be installed\n--> Processing Dependency: python3-libs(x86-64) = 3.6.8-19.el7_9 for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Processing Dependency: python3 = 3.6.8-19.el7_9 for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Processing Dependency: python3-rpm-macros for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Processing Dependency: python3-rpm-generators for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Running transaction check\n---> Package python3.x86_64 0:3.6.8-18.el7 will be updated\n---> Package python3.x86_64 0:3.6.8-19.el7_9 will be an update\n---> Package python3-libs.x86_64 0:3.6.8-18.el7 will be updated\n---> Package python3-libs.x86_64 0:3.6.8-19.el7_9 will be an update\n---> Package python3-rpm-generators.noarch 0:6-2.el7 will be installed\n---> Package python3-rpm-macros.noarch 0:3-34.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                     Arch        Version             Repository    Size\n================================================================================\nInstalling:\n python3-devel               x86_64      3.6.8-19.el7_9      updates      217 k\nInstalling for dependencies:\n python3-rpm-generators      noarch      6-2.el7             base          20 k\n python3-rpm-macros          noarch      3-34.el7            base         8.1 k\nUpdating for dependencies:\n python3                     x86_64      3.6.8-19.el7_9      updates       70 k\n python3-libs                x86_64      3.6.8-19.el7_9      updates      6.9 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package  (+2 Dependent packages)\nUpgrade             ( 2 Dependent packages)\n\nTotal download size: 7.3 M\nDownloading packages:\nNo Presto metadata available for updates\n--------------------------------------------------------------------------------\nTotal                                              1.3 MB/s | 7.3 MB  00:05     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Updating   : python3-libs-3.6.8-19.el7_9.x86_64                           1/7 \n  Updating   : python3-3.6.8-19.el7_9.x86_64                                2/7 \n  Installing : python3-rpm-generators-6-2.el7.noarch                        3/7 \n  Installing : python3-rpm-macros-3-34.el7.noarch                           4/7 \n  Installing : python3-devel-3.6.8-19.el7_9.x86_64                          5/7 \n  Cleanup    : python3-libs-3.6.8-18.el7.x86_64                             6/7 \n  Cleanup    : python3-3.6.8-18.el7.x86_64                                  7/7 \n  Verifying  : python3-devel-3.6.8-19.el7_9.x86_64                          1/7 \n  Verifying  : python3-rpm-generators-6-2.el7.noarch                        2/7 \n  Verifying  : python3-3.6.8-19.el7_9.x86_64                                3/7 \n  Verifying  : python3-rpm-macros-3-34.el7.noarch                           4/7 \n  Verifying  : python3-libs-3.6.8-19.el7_9.x86_64                           5/7 \n  Verifying  : python3-libs-3.6.8-18.el7.x86_64                             6/7 \n  Verifying  : python3-3.6.8-18.el7.x86_64                                  7/7 \n\nInstalled:\n  python3-devel.x86_64 0:3.6.8-19.el7_9                                         \n\nDependency Installed:\n  python3-rpm-generators.noarch 0:6-2.el7  python3-rpm-macros.noarch 0:3-34.el7 \n\nDependency Updated:\n  python3.x86_64 0:3.6.8-19.el7_9      python3-libs.x86_64 0:3.6.8-19.el7_9     \n\nComplete!\n')
2023-11-11 13:35:35,435 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"clean_all": false, "clean_components": false, "components": "ambari", "stack": "ambari", "max_workers": 2, "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-11 13:35:35,660 - bigdata_deploy_logger - INFO - command: ExecResult(exit_code=0, output=b"2023-11-11 05:35:35,640 - bigdata_deploy_logger - INFO - params config: {'clean_all': False, 'clean_components': False, 'components': 'ambari', 'stack': 'ambari', 'max_workers': 2, 'proxy': '172.27.8.22:7890'},\n2023-11-11 05:35:35,640 - bigdata_deploy_logger - INFO - load_success_components: {'bigtop-select': '2023-11-09T07:17:13.894397', 'bigtop-jsvc': '2023-11-09T07:17:52.269321', 'bigtop-groovy': '2023-11-09T07:18:24.525581', 'bigtop-utils': '2023-11-09T07:18:34.477737', 'ranger': '2023-11-09T07:48:21.413527', 'ambari-infra': '2023-11-11T04:21:14.635656', 'ambari-metrics': '2023-11-11T04:31:36.294073', 'ambari': '2023-11-11T05:30:09.324414'}\n")
2023-11-11 13:35:35,660 - bigdata_deploy_logger - INFO - run
useradd: user 'nexus' already exists
2023-11-11 13:35:39,895 - bigdata_deploy_logger - INFO - use_existed_nexus
2023-11-11 13:35:39,896 - bigdata_deploy_logger - INFO - uploading /home/jialiang/sdp/prjs/bigtop/output/ambari ambari
2023-11-11 13:35:39,896 - bigdata_deploy_logger - INFO - component_delete http://172.27.8.25:8081/service/extdirect
2023-11-11 13:35:39,896 - bigdata_deploy_logger - INFO - ------data is {'action': 'coreui_Component', 'method': 'deleteFolder', 'data': ['sdp_3.1/packages/ambari', 'yum'], 'type': 'rpc', 'tid': 20}
2023-11-11 13:35:39,907 - bigdata_deploy_logger - INFO - Status code:200 Headers:  {'Date': 'Sat, 11 Nov 2023 05:35:39 GMT', 'Server': 'Nexus/3.49.0-02 (OSS)', 'X-Content-Type-Options': 'nosniff', 'Content-Type': 'application/json;charset=utf-8', 'X-Frame-Options': 'DENY', 'Content-Length': '113'} Body: {"tid":20,"action":"coreui_Component","method":"deleteFolder","result":{"success":true,"data":null},"type":"rpc"}
2023-11-11 13:35:39,907 - bigdata_deploy_logger - INFO - finding /home/jialiang/sdp/prjs/bigtop/output/ambari/ambari-3.1-1.el7.src.rpm
2023-11-11 13:35:39,908 - bigdata_deploy_logger - INFO - finding /home/jialiang/sdp/prjs/bigtop/output/ambari/noarch/ambari-server-3.1-1.el7.noarch.rpm
2023-11-11 13:35:48,513 - bigdata_deploy_logger - INFO - Status code:200 Headers:  {'Date': 'Sat, 11 Nov 2023 05:35:39 GMT', 'Server': 'Nexus/3.49.0-02 (OSS)', 'X-Content-Type-Options': 'nosniff', 'Content-Security-Policy': 'sandbox allow-forms allow-modals allow-popups allow-presentation allow-scripts allow-top-navigation', 'X-XSS-Protection': '1; mode=block', 'Content-Length': '0'} Body: 
2023-11-11 13:35:48,513 - bigdata_deploy_logger - INFO - Upload completed for /home/jialiang/sdp/prjs/bigtop/output/ambari/noarch/ambari-server-3.1-1.el7.noarch.rpm
2023-11-11 13:35:48,513 - bigdata_deploy_logger - INFO - finding /home/jialiang/sdp/prjs/bigtop/output/ambari/noarch/ambari-agent-3.1-1.el7.noarch.rpm
2023-11-11 13:35:50,391 - bigdata_deploy_logger - INFO - Status code:200 Headers:  {'Date': 'Sat, 11 Nov 2023 05:35:48 GMT', 'Server': 'Nexus/3.49.0-02 (OSS)', 'X-Content-Type-Options': 'nosniff', 'Content-Security-Policy': 'sandbox allow-forms allow-modals allow-popups allow-presentation allow-scripts allow-top-navigation', 'X-XSS-Protection': '1; mode=block', 'Content-Length': '0'} Body: 
2023-11-11 13:35:50,391 - bigdata_deploy_logger - INFO - Upload completed for /home/jialiang/sdp/prjs/bigtop/output/ambari/noarch/ambari-agent-3.1-1.el7.noarch.rpm
2023-11-11 13:35:50,395 - bigdata_deploy_logger - INFO - deploy 
2023-11-11 13:35:50,578 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-11-11 13:35:50,578 - bigdata_deploy_logger - INFO - write rendered data to output dir for review ranger_configuration.json /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ranger_configuration.json 
2023-11-11 13:35:50,591 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-11-11 13:35:50,591 - bigdata_deploy_logger - INFO - write rendered data to output dir for review yarn_configuration.json /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/yarn_configuration.json 
2023-11-11 13:35:50,600 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-11-11 13:35:50,601 - bigdata_deploy_logger - INFO - write rendered data to output dir for review hdfs_configuration.json /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/hdfs_configuration.json 
2023-11-11 13:35:50,612 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-11-11 13:35:50,624 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-11-11 13:35:50,638 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-11-11 13:35:50,648 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-11-11 13:35:50,659 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-11-11 13:35:50,710 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-11-11 13:35:50,724 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-11-11 13:35:50,736 - bigdata_deploy_logger - INFO - rendering hdfs_configuration.json.j2 config templates  
2023-11-11 13:35:50,742 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-11-11 13:35:50,743 - bigdata_deploy_logger - INFO - write rendered data to output dir for review ambari_metrics_configuration.json /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ambari_metrics_configuration.json 
2023-11-11 13:35:50,745 - bigdata_deploy_logger - INFO - rendering zookeeper_configuration.json.j2 config templates  
2023-11-11 13:35:50,745 - bigdata_deploy_logger - INFO - write rendered data to output dir for review zookeeper_configuration.json /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/zookeeper_configuration.json 
2023-11-11 13:35:50,762 - bigdata_deploy_logger - INFO - rendering yarn_configuration.json.j2 config templates  
2023-11-11 13:35:50,765 - bigdata_deploy_logger - INFO - rendering infra_solr_configuration.json.j2 config templates  
2023-11-11 13:35:50,765 - bigdata_deploy_logger - INFO - write rendered data to output dir for review infra_solr_configuration.json /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/ /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../output/infra_solr_configuration.json 
2023-11-11 13:35:50,802 - bigdata_deploy_logger - INFO - rendering ranger_configuration.json.j2 config templates  
2023-11-11 13:35:50,806 - bigdata_deploy_logger - INFO - rendering ambari_metrics_configuration.json.j2 config templates  
2023-11-11 13:35:50,808 - bigdata_deploy_logger - INFO - rendering base_blueprint.json.j2 config templates  
2023-11-11 13:35:50,821 - bigdata_deploy_logger - INFO - 动态生成ansible hosts 文件
2023-11-11 13:35:50,822 - bigdata_deploy_logger - INFO - run playbook ['ansible-playbook', '/home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../deploy/ansible-scripts/playbooks/install_cluster.yml', '--inventory=/home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../deploy/ansible-scripts/inventory/hosts']
2023-11-11 14:06:27,209 - bigdata_deploy_logger - INFO - run_playbook ['ansible-playbook', '/home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../deploy/ansible-scripts/playbooks/install_cluster.yml', '--inventory=/home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../deploy/ansible-scripts/inventory/hosts'] exit_status: 0
 local /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../ci_tools/resources/pkgs/portable-ansible-py3.tar.bz2 file exist
 install_dir /opt/
ansible 安装完成！
ansible 安装完成！
 local /home/jialiang/sdp/prjs/container_dep/jdk.zip file exist
 install_dir /opt/jvm/
jdk 安装完成！
JDK 安装完成！
 local /home/jialiang/sdp/prjs/container_dep/nexus3.tar.gz file exist
 install_dir /opt/nexus/
nexus 安装完成！
Nexus 安装完成！
2023-11-14 17:29:04,924 - bigdata_deploy_logger - INFO - main program params is : Namespace(clean_all=True, clean_components=False, components='hadoop,hive,hbase,zookeeper,kafka,flink,ranger,spark,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', deploy=True, parallel=2, release=False, repo=True, stack='ambari', upload_nexus=True)
2023-11-14 17:29:09,463 - bigdata_deploy_logger - INFO - Container stopped and removed successfully.
2023-11-14 17:29:14,033 - bigdata_deploy_logger - INFO - Container started, ID: 73006ad03e4abb844771ad44a055d871902964afffe85ba467b3c162c34a8a3d
2023-11-14 17:29:14,034 - bigdata_deploy_logger - INFO - Container status: created
2023-11-14 17:29:14,034 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'pip3 install distro jinja2 pyyaml requests']}
2023-11-14 17:29:28,678 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b'WARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.\nCollecting distro\n  Downloading https://mirrors.aliyun.com/pypi/packages/f4/2c/c90a3adaf0ddb70afe193f5ebfb539612af57cffe677c3126be533df3098/distro-1.8.0-py3-none-any.whl\nCollecting jinja2\n  Downloading https://mirrors.aliyun.com/pypi/packages/20/9a/e5d9ec41927401e41aea8af6d16e78b5e612bca4699d417f646a9610a076/Jinja2-3.0.3-py3-none-any.whl (133kB)\nCollecting pyyaml\n  Downloading https://mirrors.aliyun.com/pypi/packages/cd/e5/af35f7ea75cf72f2cd079c95ee16797de7cd71f29ea7c68ae5ce7be1eda0/PyYAML-6.0.1.tar.gz (125kB)\nCollecting requests\n  Downloading https://mirrors.aliyun.com/pypi/packages/2d/61/08076519c80041bc0ffa1a8af0cbd3bf3e2b62af10435d269a9d0f40564d/requests-2.27.1-py2.py3-none-any.whl (63kB)\nCollecting MarkupSafe>=2.0 (from jinja2)\n  Downloading https://mirrors.aliyun.com/pypi/packages/fc/d6/57f9a97e56447a1e340f8574836d3b636e2c14de304943836bd645fa9c7e/MarkupSafe-2.0.1-cp36-cp36m-manylinux1_x86_64.whl\nCollecting charset-normalizer~=2.0.0; python_version >= "3" (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/06/b3/24afc8868eba069a7f03650ac750a778862dc34941a4bebeb58706715726/charset_normalizer-2.0.12-py3-none-any.whl\nCollecting urllib3<1.27,>=1.21.1 (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/b0/53/aa91e163dcfd1e5b82d8a890ecf13314e3e149c05270cc644581f77f17fd/urllib3-1.26.18-py2.py3-none-any.whl (143kB)\nCollecting idna<4,>=2.5; python_version >= "3" (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/fc/34/3030de6f1370931b9dbb4dad48f6ab1015ab1d32447850b9fc94e60097be/idna-3.4-py3-none-any.whl (61kB)\nCollecting certifi>=2017.4.17 (from requests)\n  Downloading https://mirrors.aliyun.com/pypi/packages/4c/dd/2234eab22353ffc7d94e8d13177aaa050113286e93e7b40eae01fbf7c3d9/certifi-2023.7.22-py3-none-any.whl (158kB)\nBuilding wheels for collected packages: pyyaml\n  Running setup.py bdist_wheel for pyyaml: started\n  Running setup.py bdist_wheel for pyyaml: finished with status \'done\'\n  Stored in directory: /root/.cache/pip/wheels/a8/5f/96/dcb311d4593398a4fdb51cb78f5472cb065ecb43fccea349d3\nSuccessfully built pyyaml\nInstalling collected packages: distro, MarkupSafe, jinja2, pyyaml, charset-normalizer, urllib3, idna, certifi, requests\nSuccessfully installed MarkupSafe-2.0.1 certifi-2023.7.22 charset-normalizer-2.0.12 distro-1.8.0 idna-3.4 jinja2-3.0.3 pyyaml-6.0.1 requests-2.27.1 urllib3-1.26.18\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n/usr/local/lib/python3.6/site-packages/setuptools/command/install.py:37: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.\n  setuptools.SetuptoolsDeprecationWarning,\n')
2023-11-14 17:29:28,678 - bigdata_deploy_logger - INFO - conf_str is '{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}'
2023-11-14 17:29:28,678 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', "echo 'export PYTHONPATH=/ws1/ci_tools/python:$PYTHONPATH' >> /etc/profile && source /etc/profile"], 'workdir': '/'}
2023-11-14 17:29:29,109 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b'')
2023-11-14 17:29:29,109 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-14 17:29:32,304 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b"2023-11-14 09:29:29,341 - bigdata_deploy_logger - INFO - params config: {'prepare_env': True, 'local_repo': '/data/sdv1/repository', 'proxy': '172.27.8.22:7890'},\n2023-11-14 09:29:29,342 - bigdata_deploy_logger - INFO - load_success_components: {'hive': '2023-11-14T09:10:38.623856'}\n2023-11-14 09:29:29,342 - bigdata_deploy_logger - INFO - set git config\n2023-11-14 09:29:29,417 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Base.repo --> /etc/yum.repos.d/bakup/CentOS-Base.repo\n2023-11-14 09:29:29,435 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-CR.repo --> /etc/yum.repos.d/bakup/CentOS-CR.repo\n2023-11-14 09:29:29,453 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Debuginfo.repo --> /etc/yum.repos.d/bakup/CentOS-Debuginfo.repo\n2023-11-14 09:29:29,559 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Media.repo --> /etc/yum.repos.d/bakup/CentOS-Media.repo\n2023-11-14 09:29:29,600 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Sources.repo --> /etc/yum.repos.d/bakup/CentOS-Sources.repo\n2023-11-14 09:29:29,650 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Vault.repo --> /etc/yum.repos.d/bakup/CentOS-Vault.repo\n2023-11-14 09:29:29,708 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-fasttrack.repo --> /etc/yum.repos.d/bakup/CentOS-fasttrack.repo\n2023-11-14 09:29:29,767 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-x86_64-kernel.repo --> /etc/yum.repos.d/bakup/CentOS-x86_64-kernel.repo\n2023-11-14 09:29:29,809 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel-testing.repo --> /etc/yum.repos.d/bakup/epel-testing.repo\n2023-11-14 09:29:29,886 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel.repo --> /etc/yum.repos.d/bakup/epel.repo\n2023-11-14 09:29:29,894 - bigdata_deploy_logger - INFO - full_os_and_major_version is redhat7\n2023-11-14 09:29:29,895 - bigdata_deploy_logger - INFO - write new repo /etc/yum.repos.d/redhat7.repo to /etc/yum.repos.d/redhat7.repo\n2023-11-14 09:29:32,141 - bigdata_deploy_logger - INFO - skip broken repo set: yum-config-manager --save --setopt=*.skip_if_unavailable=true skip unavailable 0\n2023-11-14 09:29:32,253 - bigdata_deploy_logger - INFO - set maven conf\n2023-11-14 09:29:32,262 - bigdata_deploy_logger - INFO - set web compile envirment\n2023-11-14 09:29:32,262 - bigdata_deploy_logger - INFO - set npm registry\n2023-11-14 09:29:32,262 - bigdata_deploy_logger - INFO - set yarn registry\n2023-11-14 09:29:32,263 - bigdata_deploy_logger - INFO - set bower proxy\n2023-11-14 09:29:32,263 - bigdata_deploy_logger - INFO - component build success , please check the log\n")
2023-11-14 17:29:32,304 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'yum clean all && yum install -y python3-devel']}
2023-11-14 17:30:56,311 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b'Loaded plugins: fastestmirror, ovl\nCleaning repos: base extras updates\nLoaded plugins: fastestmirror, ovl\nDetermining fastest mirrors\n * base: mirrors.aliyuncs.com\n * extras: mirrors.aliyuncs.com\nhttp://mirrors.aliyuncs.com/centos/7/os/x86_64/repodata/repomd.xml: [Errno 12] Timeout on http://mirrors.aliyuncs.com/centos/7/os/x86_64/repodata/repomd.xml: (28, \'Operation too slow. Less than 1000 bytes/sec transferred the last 30 seconds\')\nTrying other mirror.\nhttp://mirrors.cloud.aliyuncs.com/centos/7/os/x86_64/repodata/6d0c3a488c282fe537794b5946b01e28c7f44db79097bb06826e1c0c88bad5ef-primary.sqlite.bz2: [Errno 14] curl#6 - "Could not resolve host: mirrors.cloud.aliyuncs.com; Unknown error"\nTrying other mirror.\nResolving Dependencies\n--> Running transaction check\n---> Package python3-devel.x86_64 0:3.6.8-19.el7_9 will be installed\n--> Processing Dependency: python3-libs(x86-64) = 3.6.8-19.el7_9 for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Processing Dependency: python3 = 3.6.8-19.el7_9 for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Processing Dependency: python3-rpm-macros for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Processing Dependency: python3-rpm-generators for package: python3-devel-3.6.8-19.el7_9.x86_64\n--> Running transaction check\n---> Package python3.x86_64 0:3.6.8-18.el7 will be updated\n---> Package python3.x86_64 0:3.6.8-19.el7_9 will be an update\n---> Package python3-libs.x86_64 0:3.6.8-18.el7 will be updated\n---> Package python3-libs.x86_64 0:3.6.8-19.el7_9 will be an update\n---> Package python3-rpm-generators.noarch 0:6-2.el7 will be installed\n---> Package python3-rpm-macros.noarch 0:3-34.el7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                     Arch        Version             Repository    Size\n================================================================================\nInstalling:\n python3-devel               x86_64      3.6.8-19.el7_9      updates      217 k\nInstalling for dependencies:\n python3-rpm-generators      noarch      6-2.el7             base          20 k\n python3-rpm-macros          noarch      3-34.el7            base         8.1 k\nUpdating for dependencies:\n python3                     x86_64      3.6.8-19.el7_9      updates       70 k\n python3-libs                x86_64      3.6.8-19.el7_9      updates      6.9 M\n\nTransaction Summary\n================================================================================\nInstall  1 Package  (+2 Dependent packages)\nUpgrade             ( 2 Dependent packages)\n\nTotal download size: 7.3 M\nDownloading packages:\nNo Presto metadata available for updates\n--------------------------------------------------------------------------------\nTotal                                              1.2 MB/s | 7.3 MB  00:06     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Updating   : python3-libs-3.6.8-19.el7_9.x86_64                           1/7 \n  Updating   : python3-3.6.8-19.el7_9.x86_64                                2/7 \n  Installing : python3-rpm-generators-6-2.el7.noarch                        3/7 \n  Installing : python3-rpm-macros-3-34.el7.noarch                           4/7 \n  Installing : python3-devel-3.6.8-19.el7_9.x86_64                          5/7 \n  Cleanup    : python3-libs-3.6.8-18.el7.x86_64                             6/7 \n  Cleanup    : python3-3.6.8-18.el7.x86_64                                  7/7 \n  Verifying  : python3-devel-3.6.8-19.el7_9.x86_64                          1/7 \n  Verifying  : python3-rpm-generators-6-2.el7.noarch                        2/7 \n  Verifying  : python3-3.6.8-19.el7_9.x86_64                                3/7 \n  Verifying  : python3-rpm-macros-3-34.el7.noarch                           4/7 \n  Verifying  : python3-libs-3.6.8-19.el7_9.x86_64                           5/7 \n  Verifying  : python3-libs-3.6.8-18.el7.x86_64                             6/7 \n  Verifying  : python3-3.6.8-18.el7.x86_64                                  7/7 \n\nInstalled:\n  python3-devel.x86_64 0:3.6.8-19.el7_9                                         \n\nDependency Installed:\n  python3-rpm-generators.noarch 0:6-2.el7  python3-rpm-macros.noarch 0:3-34.el7 \n\nDependency Updated:\n  python3.x86_64 0:3.6.8-19.el7_9      python3-libs.x86_64 0:3.6.8-19.el7_9     \n\nComplete!\n')
2023-11-14 17:30:56,316 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"clean_all": true, "clean_components": false, "components": "hadoop,hive,hbase,zookeeper,kafka,flink,ranger,spark,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils", "stack": "ambari", "max_workers": 2, "repo": true, "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
Traceback (most recent call last):
  File "ci_tools/main.py", line 3, in <module>
    from python.common.basic_logger import logger
  File "/home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/basic_logger.py", line 29, in <module>
    buffering_file_handler.addHandler(file_handler)
AttributeError: 'BufferingHandler' object has no attribute 'addHandler'
2023-11-15 09:46:49,006 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=137, output=b"2023-11-14 09:30:56,544 - bigdata_deploy_logger - INFO - params config: {'clean_all': True, 'clean_components': False, 'components': 'hadoop,hive,hbase,zookeeper,kafka,flink,ranger,spark,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', 'stack': 'ambari', 'max_workers': 2, 'repo': True, 'proxy': '172.27.8.22:7890'},\n2023-11-14 09:30:56,545 - bigdata_deploy_logger - INFO - load_success_components: {'hive': '2023-11-14T09:10:38.623856'}\n2023-11-14 09:30:56,578 - bigdata_deploy_logger - INFO - save_success_components: {} \n2023-11-14 09:30:56,664 - bigdata_deploy_logger - INFO - hadoop start compile, compile infos will be  write to hadoop.log /ws\n2023-11-14 09:30:56,664 - bigdata_deploy_logger - INFO - hive start compile, compile infos will be  write to hive.log /ws\n2023-11-14 09:30:56,668 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hive-clean hive-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 09:30:56,671 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hadoop-clean hadoop-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 09:41:33,494 - bigdata_deploy_logger - INFO - Successfully compiled hive\n2023-11-14 09:41:33,495 - bigdata_deploy_logger - INFO - hbase start compile, compile infos will be  write to hbase.log /ws\n2023-11-14 09:41:33,514 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hbase-clean hbase-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 09:41:33,574 - bigdata_deploy_logger - INFO - /ws/build/hive clean_after_build finished  b''\n2023-11-14 09:41:33,575 - bigdata_deploy_logger - INFO - build success hive True\n2023-11-14 09:41:33,576 - bigdata_deploy_logger - INFO - save_success_components: {'hive': '2023-11-14T09:41:33.575557'} \n2023-11-14 09:50:29,014 - bigdata_deploy_logger - ERROR - Failed to compile hadoop\n2023-11-14 09:50:29,015 - bigdata_deploy_logger - INFO - zookeeper start compile, compile infos will be  write to zookeeper.log /ws\n2023-11-14 09:50:29,034 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew zookeeper-clean zookeeper-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 09:50:32,920 - bigdata_deploy_logger - INFO - /ws/build/hadoop clean_after_build finished  b''\n2023-11-14 09:50:32,920 - bigdata_deploy_logger - INFO - Error build failed hadoop\n2023-11-14 09:53:32,367 - bigdata_deploy_logger - INFO - Successfully compiled zookeeper\n2023-11-14 09:53:32,368 - bigdata_deploy_logger - INFO - kafka start compile, compile infos will be  write to kafka.log /ws\n2023-11-14 09:53:32,371 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew kafka-clean kafka-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 09:54:12,344 - bigdata_deploy_logger - ERROR - Failed to compile kafka\n2023-11-14 09:54:12,361 - bigdata_deploy_logger - INFO - flink start compile, compile infos will be  write to flink.log /ws\n2023-11-14 09:54:12,365 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew flink-clean flink-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 09:56:51,661 - bigdata_deploy_logger - INFO - Successfully compiled hbase\n2023-11-14 09:56:51,662 - bigdata_deploy_logger - INFO - ranger start compile, compile infos will be  write to ranger.log /ws\n2023-11-14 09:56:51,665 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew ranger-clean ranger-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 10:06:01,318 - bigdata_deploy_logger - ERROR - Failed to compile ranger\n2023-11-14 10:06:01,320 - bigdata_deploy_logger - INFO - spark start compile, compile infos will be  write to spark.log /ws\n2023-11-14 10:06:01,323 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew spark-clean spark-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 10:06:35,916 - bigdata_deploy_logger - ERROR - Failed to compile spark\n2023-11-14 10:06:35,920 - bigdata_deploy_logger - INFO - tez start compile, compile infos will be  write to tez.log /ws\n2023-11-14 10:06:35,923 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew tez-clean tez-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 10:45:13,769 - bigdata_deploy_logger - ERROR - Failed to compile tez\n2023-11-14 10:45:13,771 - bigdata_deploy_logger - INFO - ambari start compile, compile infos will be  write to ambari.log /ws\n2023-11-14 10:45:13,777 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew ambari-clean ambari-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 10:52:05,659 - bigdata_deploy_logger - INFO - Successfully compiled ambari\n2023-11-14 10:52:05,660 - bigdata_deploy_logger - INFO - ambari-infra start compile, compile infos will be  write to ambari-infra.log /ws\n2023-11-14 10:52:05,663 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew ambari-infra-clean ambari-infra-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 10:56:39,131 - bigdata_deploy_logger - INFO - Successfully compiled ambari-infra\n2023-11-14 10:56:39,132 - bigdata_deploy_logger - INFO - ambari-metrics start compile, compile infos will be  write to ambari-metrics.log /ws\n2023-11-14 10:56:39,137 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew ambari-metrics-clean ambari-metrics-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 11:06:47,393 - bigdata_deploy_logger - INFO - Successfully compiled ambari-metrics\n2023-11-14 11:06:47,394 - bigdata_deploy_logger - INFO - bigtop-select start compile, compile infos will be  write to bigtop-select.log /ws\n2023-11-14 11:06:47,396 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew bigtop-select-clean bigtop-select-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 11:06:56,355 - bigdata_deploy_logger - INFO - Successfully compiled bigtop-select\n2023-11-14 11:06:56,356 - bigdata_deploy_logger - INFO - bigtop-jsvc start compile, compile infos will be  write to bigtop-jsvc.log /ws\n2023-11-14 11:06:56,359 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew bigtop-jsvc-clean bigtop-jsvc-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 11:07:34,680 - bigdata_deploy_logger - INFO - Successfully compiled bigtop-jsvc\n2023-11-14 11:07:34,681 - bigdata_deploy_logger - INFO - bigtop-groovy start compile, compile infos will be  write to bigtop-groovy.log /ws\n2023-11-14 11:07:34,684 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew bigtop-groovy-clean bigtop-groovy-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 11:08:11,342 - bigdata_deploy_logger - INFO - Successfully compiled bigtop-groovy\n2023-11-14 11:08:11,343 - bigdata_deploy_logger - INFO - bigtop-utils start compile, compile infos will be  write to bigtop-utils.log /ws\n2023-11-14 11:08:11,346 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew bigtop-utils-clean bigtop-utils-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-14 11:08:25,214 - bigdata_deploy_logger - INFO - Successfully compiled bigtop-utils\n")
2023-11-15 09:46:49,007 - bigdata_deploy_logger - ERROR - build components  failed check the log
 local /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../ci_tools/resources/pkgs/portable-ansible-py3.tar.bz2 file exist
 install_dir /opt/
ansible 安装完成！
ansible 安装完成！
Traceback (most recent call last):
  File "ci_tools/main.py", line 425, in <module>
    main()
  File "ci_tools/main.py", line 401, in main
    build_components_task.run()
  File "ci_tools/main.py", line 175, in run
    raise Exception("build components  failed check the log")
Exception: build components  failed check the log
2023-11-17 12:04:37,586 - bigdata_deploy_logger - INFO - main program params is : Namespace(clean_all=True, clean_components=False, components='hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', deploy=False, parallel=2, release=False, repo=True, stack='ambari', upload_nexus=False)
2023-11-17 12:05:12,532 - bigdata_deploy_logger - INFO - Container is in running state, stopped it.
2023-11-17 12:05:24,271 - bigdata_deploy_logger - INFO - Container stopped and removed successfully.
2023-11-17 12:05:27,927 - bigdata_deploy_logger - INFO - Container started, ID: eb9edf0ad6f6feff6a8b4101d5e02c59a13476909a1e9dfb1dd499d60998854e
2023-11-17 12:05:27,927 - bigdata_deploy_logger - INFO - Container status: created
2023-11-17 12:05:27,928 - bigdata_deploy_logger - INFO - conf_str is '{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}'
2023-11-17 12:05:27,928 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', "echo 'export PYTHONPATH=/ws1/ci_tools/python:$PYTHONPATH' >> /etc/profile && source /etc/profile"], 'workdir': '/'}
2023-11-17 12:05:33,299 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b'')
2023-11-17 12:05:33,300 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-17 12:06:05,603 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b"2023-11-17 04:05:40,231 - bigdata_deploy_logger - INFO - params config: {'prepare_env': True, 'local_repo': '/data/sdv1/repository', 'proxy': '172.27.8.22:7890'},\n2023-11-17 04:05:40,290 - bigdata_deploy_logger - INFO - load_success_components: {'hive': '2023-11-15T02:17:35.881252', 'hbase': '2023-11-15T02:18:51.736090', 'zookeeper': '2023-11-15T02:20:36.120040', 'ranger': '2023-11-15T02:48:36.501762', 'tez': '2023-11-15T02:52:06.850235', 'flink': '2023-11-15T02:59:50.045251', 'ambari-infra': '2023-11-15T03:00:07.001410', 'bigtop-select': '2023-11-15T03:00:16.782114', 'bigtop-jsvc': '2023-11-15T03:00:31.467953', 'bigtop-groovy': '2023-11-15T03:01:20.207774', 'bigtop-utils': '2023-11-15T03:01:29.035874', 'ambari-metrics': '2023-11-15T03:10:06.132088'}\n2023-11-17 04:05:40,290 - bigdata_deploy_logger - INFO - set git config\n2023-11-17 04:05:40,398 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Base.repo --> /etc/yum.repos.d/bakup/CentOS-Base.repo\n2023-11-17 04:05:40,402 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-CR.repo --> /etc/yum.repos.d/bakup/CentOS-CR.repo\n2023-11-17 04:05:40,404 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Debuginfo.repo --> /etc/yum.repos.d/bakup/CentOS-Debuginfo.repo\n2023-11-17 04:05:40,409 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Media.repo --> /etc/yum.repos.d/bakup/CentOS-Media.repo\n2023-11-17 04:05:40,452 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Sources.repo --> /etc/yum.repos.d/bakup/CentOS-Sources.repo\n2023-11-17 04:05:40,539 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Vault.repo --> /etc/yum.repos.d/bakup/CentOS-Vault.repo\n2023-11-17 04:05:40,889 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-fasttrack.repo --> /etc/yum.repos.d/bakup/CentOS-fasttrack.repo\n2023-11-17 04:05:40,896 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-x86_64-kernel.repo --> /etc/yum.repos.d/bakup/CentOS-x86_64-kernel.repo\n2023-11-17 04:05:40,998 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel-testing.repo --> /etc/yum.repos.d/bakup/epel-testing.repo\n2023-11-17 04:05:41,001 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel.repo --> /etc/yum.repos.d/bakup/epel.repo\n2023-11-17 04:05:41,020 - bigdata_deploy_logger - INFO - full_os_and_major_version is redhat7\n2023-11-17 04:05:41,021 - bigdata_deploy_logger - INFO - write new repo /etc/yum.repos.d/redhat7.repo to /etc/yum.repos.d/redhat7.repo\n2023-11-17 04:06:04,796 - bigdata_deploy_logger - INFO - skip broken repo set: yum-config-manager --save --setopt=*.skip_if_unavailable=true skip unavailable 0\n2023-11-17 04:06:05,531 - bigdata_deploy_logger - INFO - set maven conf\n2023-11-17 04:06:05,567 - bigdata_deploy_logger - INFO - set web compile envirment\n2023-11-17 04:06:05,568 - bigdata_deploy_logger - INFO - set npm registry\n2023-11-17 04:06:05,568 - bigdata_deploy_logger - INFO - set yarn registry\n2023-11-17 04:06:05,568 - bigdata_deploy_logger - INFO - set bower proxy\n2023-11-17 04:06:05,568 - bigdata_deploy_logger - INFO - component build success s\n")
2023-11-17 12:06:05,609 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"clean_all": true, "clean_components": false, "components": "hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils", "stack": "ambari", "max_workers": 2, "repo": true, "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-17 12:06:37,260 - bigdata_deploy_logger - INFO - main program params is : Namespace(clean_all=True, clean_components=False, components='hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', deploy=False, parallel=4, release=False, repo=True, stack='ambari', upload_nexus=False)
2023-11-17 12:06:50,317 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=137, output=b"2023-11-17 04:06:05,816 - bigdata_deploy_logger - INFO - params config: {'clean_all': True, 'clean_components': False, 'components': 'hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', 'stack': 'ambari', 'max_workers': 2, 'repo': True, 'proxy': '172.27.8.22:7890'},\n2023-11-17 04:06:05,816 - bigdata_deploy_logger - INFO - load_success_components: {'hive': '2023-11-15T02:17:35.881252', 'hbase': '2023-11-15T02:18:51.736090', 'zookeeper': '2023-11-15T02:20:36.120040', 'ranger': '2023-11-15T02:48:36.501762', 'tez': '2023-11-15T02:52:06.850235', 'flink': '2023-11-15T02:59:50.045251', 'ambari-infra': '2023-11-15T03:00:07.001410', 'bigtop-select': '2023-11-15T03:00:16.782114', 'bigtop-jsvc': '2023-11-15T03:00:31.467953', 'bigtop-groovy': '2023-11-15T03:01:20.207774', 'bigtop-utils': '2023-11-15T03:01:29.035874', 'ambari-metrics': '2023-11-15T03:10:06.132088'}\n2023-11-17 04:06:05,902 - bigdata_deploy_logger - INFO - save_success_components: {} \n2023-11-17 04:06:05,982 - bigdata_deploy_logger - INFO - hadoop start compile, compile infos will be  write to hadoop.log /ws\n2023-11-17 04:06:05,983 - bigdata_deploy_logger - INFO - hive start compile, compile infos will be  write to hive.log /ws\n2023-11-17 04:06:05,983 - bigdata_deploy_logger - INFO - future_to_component : 16 {<Future at 0x7f61f2d336d8 state=running>: 'hadoop', <Future at 0x7f61f2a96a58 state=running>: 'hive', <Future at 0x7f61f2a96a20 state=pending>: 'hbase', <Future at 0x7f61f2a96748 state=pending>: 'spark', <Future at 0x7f61f2a96c50 state=pending>: 'zookeeper', <Future at 0x7f61f2a96908 state=pending>: 'kafka', <Future at 0x7f61f2a967b8 state=pending>: 'flink', <Future at 0x7f61f2a96978 state=pending>: 'ranger', <Future at 0x7f61f2a96dd8 state=pending>: 'tez', <Future at 0x7f61f2a96eb8 state=pending>: 'ambari', <Future at 0x7f61f2aab278 state=pending>: 'ambari-infra', <Future at 0x7f61f2aaba90 state=pending>: 'ambari-metrics', <Future at 0x7f61f2aabfd0 state=pending>: 'bigtop-select', <Future at 0x7f61f2aab5f8 state=pending>: 'bigtop-jsvc', <Future at 0x7f61f2aab780 state=pending>: 'bigtop-groovy', <Future at 0x7f61f2aabeb8 state=pending>: 'bigtop-utils'}\n2023-11-17 04:06:05,986 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hive-clean hive-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:06:05,987 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hadoop-clean hadoop-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n")
2023-11-17 12:06:50,317 - bigdata_deploy_logger - ERROR - build components  failed check the log
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/bigdata_deploy.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/bigtop-select.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/zookeeper.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hive.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hbase.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/flink.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/kafka.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/ambari.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/ambari-infra.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/ambari-metrics.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/bigtop-jsvc.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/bigtop-groovy.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/bigtop-utils.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/ranger.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/ansible_playbook.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hadoop.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/spark.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/tez.log has been removed successfully
 local /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../ci_tools/resources/pkgs/portable-ansible-py3.tar.bz2 file exist
 install_dir /opt/
ansible 安装完成！
ansible 安装完成！
Traceback (most recent call last):
  File "ci_tools/main.py", line 438, in <module>
    main()
  File "ci_tools/main.py", line 414, in main
    build_components_task.run()
  File "ci_tools/main.py", line 178, in run
    raise Exception("build components  failed check the log")
Exception: build components  failed check the log
2023-11-17 12:06:50,968 - bigdata_deploy_logger - INFO - Container is in running state, stopped it.
2023-11-17 12:06:51,063 - bigdata_deploy_logger - INFO - Container stopped and removed successfully.
2023-11-17 12:06:52,881 - bigdata_deploy_logger - INFO - Container started, ID: 5bd3e35523a7e8e93b7d8acc9e355e45bfee3b01451713789ccb216c316ed573
2023-11-17 12:06:52,881 - bigdata_deploy_logger - INFO - Container status: created
2023-11-17 12:06:52,881 - bigdata_deploy_logger - INFO - conf_str is '{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}'
2023-11-17 12:06:52,881 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', "echo 'export PYTHONPATH=/ws1/ci_tools/python:$PYTHONPATH' >> /etc/profile && source /etc/profile"], 'workdir': '/'}
2023-11-17 12:06:53,025 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b'')
2023-11-17 12:06:53,026 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-17 12:07:02,040 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b"2023-11-17 04:06:53,234 - bigdata_deploy_logger - INFO - params config: {'prepare_env': True, 'local_repo': '/data/sdv1/repository', 'proxy': '172.27.8.22:7890'},\n2023-11-17 04:06:53,235 - bigdata_deploy_logger - INFO - load_success_components: {}\n2023-11-17 04:06:53,235 - bigdata_deploy_logger - INFO - set git config\n2023-11-17 04:06:53,249 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Base.repo --> /etc/yum.repos.d/bakup/CentOS-Base.repo\n2023-11-17 04:06:53,252 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-CR.repo --> /etc/yum.repos.d/bakup/CentOS-CR.repo\n2023-11-17 04:06:53,255 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Debuginfo.repo --> /etc/yum.repos.d/bakup/CentOS-Debuginfo.repo\n2023-11-17 04:06:53,268 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Media.repo --> /etc/yum.repos.d/bakup/CentOS-Media.repo\n2023-11-17 04:06:53,325 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Sources.repo --> /etc/yum.repos.d/bakup/CentOS-Sources.repo\n2023-11-17 04:06:53,361 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Vault.repo --> /etc/yum.repos.d/bakup/CentOS-Vault.repo\n2023-11-17 04:06:53,375 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-fasttrack.repo --> /etc/yum.repos.d/bakup/CentOS-fasttrack.repo\n2023-11-17 04:06:53,416 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-x86_64-kernel.repo --> /etc/yum.repos.d/bakup/CentOS-x86_64-kernel.repo\n2023-11-17 04:06:53,423 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel-testing.repo --> /etc/yum.repos.d/bakup/epel-testing.repo\n2023-11-17 04:06:53,430 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel.repo --> /etc/yum.repos.d/bakup/epel.repo\n2023-11-17 04:06:53,437 - bigdata_deploy_logger - INFO - full_os_and_major_version is redhat7\n2023-11-17 04:06:53,438 - bigdata_deploy_logger - INFO - write new repo /etc/yum.repos.d/redhat7.repo to /etc/yum.repos.d/redhat7.repo\n2023-11-17 04:07:01,924 - bigdata_deploy_logger - INFO - skip broken repo set: yum-config-manager --save --setopt=*.skip_if_unavailable=true skip unavailable 0\n2023-11-17 04:07:02,000 - bigdata_deploy_logger - INFO - set maven conf\n2023-11-17 04:07:02,007 - bigdata_deploy_logger - INFO - set web compile envirment\n2023-11-17 04:07:02,007 - bigdata_deploy_logger - INFO - set npm registry\n2023-11-17 04:07:02,007 - bigdata_deploy_logger - INFO - set yarn registry\n2023-11-17 04:07:02,007 - bigdata_deploy_logger - INFO - set bower proxy\n2023-11-17 04:07:02,007 - bigdata_deploy_logger - INFO - component build success s\n")
2023-11-17 12:07:02,048 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"clean_all": true, "clean_components": false, "components": "hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils", "stack": "ambari", "max_workers": 4, "repo": true, "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-17 12:17:10,888 - bigdata_deploy_logger - INFO - main program params is : Namespace(clean_all=True, clean_components=False, components='hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', deploy=False, parallel=4, release=False, repo=True, stack='ambari', upload_nexus=False)
2023-11-17 12:17:38,747 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=137, output=b"2023-11-17 04:07:02,250 - bigdata_deploy_logger - INFO - params config: {'clean_all': True, 'clean_components': False, 'components': 'hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', 'stack': 'ambari', 'max_workers': 4, 'repo': True, 'proxy': '172.27.8.22:7890'},\n2023-11-17 04:07:02,251 - bigdata_deploy_logger - INFO - load_success_components: {}\n2023-11-17 04:07:02,281 - bigdata_deploy_logger - INFO - save_success_components: {} \n2023-11-17 04:07:02,366 - bigdata_deploy_logger - INFO - hadoop start compile, compile infos will be  write to hadoop.log /ws\n2023-11-17 04:07:02,367 - bigdata_deploy_logger - INFO - hive start compile, compile infos will be  write to hive.log /ws\n2023-11-17 04:07:02,370 - bigdata_deploy_logger - INFO - hbase start compile, compile infos will be  write to hbase.log /ws\n2023-11-17 04:07:02,371 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hadoop-clean hadoop-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:07:02,373 - bigdata_deploy_logger - INFO - spark start compile, compile infos will be  write to spark.log /ws\n2023-11-17 04:07:02,374 - bigdata_deploy_logger - INFO - future_to_component : 16 {<Future at 0x7f2985145d30 state=running>: 'hadoop', <Future at 0x7f2985137710 state=running>: 'hive', <Future at 0x7f2984eacd68 state=running>: 'hbase', <Future at 0x7f2984eaccc0 state=running>: 'spark', <Future at 0x7f2984eacac8 state=pending>: 'zookeeper', <Future at 0x7f2984eac9b0 state=pending>: 'kafka', <Future at 0x7f2984eacf28 state=pending>: 'flink', <Future at 0x7f2984ec17b8 state=pending>: 'ranger', <Future at 0x7f2984ec1eb8 state=pending>: 'tez', <Future at 0x7f2984ec1ba8 state=pending>: 'ambari', <Future at 0x7f2984ec1668 state=pending>: 'ambari-infra', <Future at 0x7f2984ec14e0 state=pending>: 'ambari-metrics', <Future at 0x7f2984ec17f0 state=pending>: 'bigtop-select', <Future at 0x7f2984ec1048 state=pending>: 'bigtop-jsvc', <Future at 0x7f2984ec14a8 state=pending>: 'bigtop-groovy', <Future at 0x7f2984ec11d0 state=pending>: 'bigtop-utils'}\n2023-11-17 04:07:02,374 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hive-clean hive-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:07:02,378 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hbase-clean hbase-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:07:02,379 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew spark-clean spark-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:07:58,340 - bigdata_deploy_logger - ERROR - Failed to compile hadoop\n2023-11-17 04:07:58,341 - bigdata_deploy_logger - INFO - zookeeper start compile, compile infos will be  write to zookeeper.log /ws\n2023-11-17 04:07:58,357 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew zookeeper-clean zookeeper-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:07:58,699 - bigdata_deploy_logger - INFO - /ws/build/hadoop clean_after_build finished  b''\n2023-11-17 04:07:58,700 - bigdata_deploy_logger - INFO - Error build failed hadoop\n2023-11-17 04:08:07,278 - bigdata_deploy_logger - ERROR - Failed to compile spark\n2023-11-17 04:08:07,279 - bigdata_deploy_logger - INFO - kafka start compile, compile infos will be  write to kafka.log /ws\n2023-11-17 04:08:07,293 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew kafka-clean kafka-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:08:07,584 - bigdata_deploy_logger - INFO - /ws/build/spark clean_after_build finished  b''\n2023-11-17 04:08:07,585 - bigdata_deploy_logger - INFO - Error build failed spark\n2023-11-17 04:14:55,979 - bigdata_deploy_logger - INFO - Successfully compiled zookeeper\n2023-11-17 04:14:55,980 - bigdata_deploy_logger - INFO - flink start compile, compile infos will be  write to flink.log /ws\n2023-11-17 04:14:55,983 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew flink-clean flink-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:14:56,007 - bigdata_deploy_logger - INFO - /ws/build/zookeeper clean_after_build finished  b''\n2023-11-17 04:14:56,007 - bigdata_deploy_logger - INFO - build success zookeeper True\n2023-11-17 04:14:56,008 - bigdata_deploy_logger - INFO - save_success_components: {'zookeeper': '2023-11-17T04:14:56.007984'} \n")
2023-11-17 12:17:38,748 - bigdata_deploy_logger - ERROR - build components  failed check the log
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/bigdata_deploy.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hadoop.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hive.log has been removed successfully
 local /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../ci_tools/resources/pkgs/portable-ansible-py3.tar.bz2 file exist
 install_dir /opt/
ansible 安装完成！
ansible 安装完成！
Traceback (most recent call last):
  File "ci_tools/main.py", line 438, in <module>
    main()
  File "ci_tools/main.py", line 414, in main
    build_components_task.run()
  File "ci_tools/main.py", line 178, in run
    raise Exception("build components  failed check the log")
Exception: build components  failed check the log
2023-11-17 12:17:42,934 - bigdata_deploy_logger - INFO - Container is in running state, stopped it.
2023-11-17 12:17:49,548 - bigdata_deploy_logger - INFO - Container stopped and removed successfully.
2023-11-17 12:17:54,253 - bigdata_deploy_logger - INFO - Container started, ID: 67f10fae44dcdf4e8ef04606bf37a081a2f95987da34dd3436379b9d10614bcb
2023-11-17 12:17:54,253 - bigdata_deploy_logger - INFO - Container status: created
2023-11-17 12:17:54,253 - bigdata_deploy_logger - INFO - conf_str is '{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}'
2023-11-17 12:17:54,253 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', "echo 'export PYTHONPATH=/ws1/ci_tools/python:$PYTHONPATH' >> /etc/profile && source /etc/profile"], 'workdir': '/'}
2023-11-17 12:17:54,416 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b'')
2023-11-17 12:17:54,416 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-17 12:18:15,835 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b"2023-11-17 04:17:57,972 - bigdata_deploy_logger - INFO - params config: {'prepare_env': True, 'local_repo': '/data/sdv1/repository', 'proxy': '172.27.8.22:7890'},\n2023-11-17 04:17:57,996 - bigdata_deploy_logger - INFO - load_success_components: {'zookeeper': '2023-11-17T04:14:56.007984'}\n2023-11-17 04:17:57,997 - bigdata_deploy_logger - INFO - set git config\n2023-11-17 04:17:58,082 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Base.repo --> /etc/yum.repos.d/bakup/CentOS-Base.repo\n2023-11-17 04:17:58,086 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-CR.repo --> /etc/yum.repos.d/bakup/CentOS-CR.repo\n2023-11-17 04:17:58,196 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Debuginfo.repo --> /etc/yum.repos.d/bakup/CentOS-Debuginfo.repo\n2023-11-17 04:17:58,224 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Media.repo --> /etc/yum.repos.d/bakup/CentOS-Media.repo\n2023-11-17 04:17:58,230 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Sources.repo --> /etc/yum.repos.d/bakup/CentOS-Sources.repo\n2023-11-17 04:17:58,314 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Vault.repo --> /etc/yum.repos.d/bakup/CentOS-Vault.repo\n2023-11-17 04:17:58,340 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-fasttrack.repo --> /etc/yum.repos.d/bakup/CentOS-fasttrack.repo\n2023-11-17 04:17:58,355 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-x86_64-kernel.repo --> /etc/yum.repos.d/bakup/CentOS-x86_64-kernel.repo\n2023-11-17 04:17:58,706 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel-testing.repo --> /etc/yum.repos.d/bakup/epel-testing.repo\n2023-11-17 04:17:58,713 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel.repo --> /etc/yum.repos.d/bakup/epel.repo\n2023-11-17 04:17:58,749 - bigdata_deploy_logger - INFO - full_os_and_major_version is redhat7\n2023-11-17 04:17:58,750 - bigdata_deploy_logger - INFO - write new repo /etc/yum.repos.d/redhat7.repo to /etc/yum.repos.d/redhat7.repo\n2023-11-17 04:18:15,669 - bigdata_deploy_logger - INFO - skip broken repo set: yum-config-manager --save --setopt=*.skip_if_unavailable=true skip unavailable 0\n2023-11-17 04:18:15,797 - bigdata_deploy_logger - INFO - set maven conf\n2023-11-17 04:18:15,803 - bigdata_deploy_logger - INFO - set web compile envirment\n2023-11-17 04:18:15,803 - bigdata_deploy_logger - INFO - set npm registry\n2023-11-17 04:18:15,803 - bigdata_deploy_logger - INFO - set yarn registry\n2023-11-17 04:18:15,803 - bigdata_deploy_logger - INFO - set bower proxy\n2023-11-17 04:18:15,804 - bigdata_deploy_logger - INFO - component build success s\n")
2023-11-17 12:18:15,840 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"clean_all": true, "clean_components": false, "components": "hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils", "stack": "ambari", "max_workers": 4, "repo": true, "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-17 12:36:32,722 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=137, output=b"2023-11-17 04:18:16,027 - bigdata_deploy_logger - INFO - params config: {'clean_all': True, 'clean_components': False, 'components': 'hadoop,hive,hbase,spark,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', 'stack': 'ambari', 'max_workers': 4, 'repo': True, 'proxy': '172.27.8.22:7890'},\n2023-11-17 04:18:16,027 - bigdata_deploy_logger - INFO - load_success_components: {'zookeeper': '2023-11-17T04:14:56.007984'}\n2023-11-17 04:18:16,099 - bigdata_deploy_logger - INFO - save_success_components: {} \n2023-11-17 04:18:16,180 - bigdata_deploy_logger - INFO - hadoop start compile, compile infos will be  write to hadoop.log /ws\n2023-11-17 04:18:16,180 - bigdata_deploy_logger - INFO - hive start compile, compile infos will be  write to hive.log /ws\n2023-11-17 04:18:16,183 - bigdata_deploy_logger - INFO - hbase start compile, compile infos will be  write to hbase.log /ws\n2023-11-17 04:18:16,185 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hadoop-clean hadoop-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:18:16,186 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hive-clean hive-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:18:16,188 - bigdata_deploy_logger - INFO - spark start compile, compile infos will be  write to spark.log /ws\n2023-11-17 04:18:16,189 - bigdata_deploy_logger - INFO - future_to_component : 16 {<Future at 0x7f697f4aeac8 state=running>: 'hadoop', <Future at 0x7f697a3caf60 state=running>: 'hive', <Future at 0x7f697a3cabe0 state=running>: 'hbase', <Future at 0x7f697a3ca358 state=running>: 'spark', <Future at 0x7f697a3ca588 state=pending>: 'zookeeper', <Future at 0x7f697a3ca278 state=pending>: 'kafka', <Future at 0x7f697a3caa58 state=pending>: 'flink', <Future at 0x7f697a3ca908 state=pending>: 'ranger', <Future at 0x7f697a3cac50 state=pending>: 'tez', <Future at 0x7f697a3ca780 state=pending>: 'ambari', <Future at 0x7f697a3ca0f0 state=pending>: 'ambari-infra', <Future at 0x7f697a3b5710 state=pending>: 'ambari-metrics', <Future at 0x7f697a3b59b0 state=pending>: 'bigtop-select', <Future at 0x7f697a3b5940 state=pending>: 'bigtop-jsvc', <Future at 0x7f697a3b5dd8 state=pending>: 'bigtop-groovy', <Future at 0x7f697a3b5ef0 state=pending>: 'bigtop-utils'}\n2023-11-17 04:18:16,189 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew hbase-clean hbase-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:18:16,191 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew spark-clean spark-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:19:08,057 - bigdata_deploy_logger - ERROR - Failed to compile spark\n2023-11-17 04:19:08,057 - bigdata_deploy_logger - INFO - zookeeper start compile, compile infos will be  write to zookeeper.log /ws\n2023-11-17 04:19:08,064 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew zookeeper-clean zookeeper-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:19:08,375 - bigdata_deploy_logger - INFO - /ws/build/spark clean_after_build finished  b''\n2023-11-17 04:19:08,376 - bigdata_deploy_logger - INFO - Error build failed spark\n2023-11-17 04:20:44,340 - bigdata_deploy_logger - ERROR - Failed to compile hbase\n2023-11-17 04:20:44,341 - bigdata_deploy_logger - INFO - kafka start compile, compile infos will be  write to kafka.log /ws\n2023-11-17 04:20:44,350 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew kafka-clean kafka-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:20:44,598 - bigdata_deploy_logger - INFO - /ws/build/hbase clean_after_build finished  b''\n2023-11-17 04:20:44,598 - bigdata_deploy_logger - INFO - Error build failed hbase\n2023-11-17 04:24:30,994 - bigdata_deploy_logger - INFO - Successfully compiled zookeeper\n2023-11-17 04:24:30,995 - bigdata_deploy_logger - INFO - flink start compile, compile infos will be  write to flink.log /ws\n2023-11-17 04:24:30,998 - bigdata_deploy_logger - INFO - compile command is . /etc/profile.d/bigtop.sh;./gradlew flink-clean flink-pkg -PpkgSuffix repo, command submitted, wait for compile finish\n2023-11-17 04:24:31,031 - bigdata_deploy_logger - INFO - /ws/build/zookeeper clean_after_build finished  b''\n2023-11-17 04:24:31,031 - bigdata_deploy_logger - INFO - build success zookeeper True\n2023-11-17 04:24:31,032 - bigdata_deploy_logger - INFO - save_success_components: {'zookeeper': '2023-11-17T04:24:31.031722'} \n")
2023-11-17 12:36:32,734 - bigdata_deploy_logger - ERROR - build components  failed check the log
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/bigdata_deploy.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hadoop.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hive.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/hbase.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/spark.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/zookeeper.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/kafka.log has been removed successfully
File /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../logs/flink.log has been removed successfully
 local /home/jialiang/sdp/prjs/bigdata-deploy/ci_tools/python/common/../../../ci_tools/resources/pkgs/portable-ansible-py3.tar.bz2 file exist
 install_dir /opt/
ansible 安装完成！
ansible 安装完成！
Traceback (most recent call last):
  File "ci_tools/main.py", line 438, in <module>
    main()
  File "ci_tools/main.py", line 414, in main
    build_components_task.run()
  File "ci_tools/main.py", line 178, in run
    raise Exception("build components  failed check the log")
Exception: build components  failed check the log
2023-11-20 09:23:00,601 - bigdata_deploy_logger - INFO - main program params is : Namespace(build_all=False, clean_all=True, clean_components=False, components='hadoop,spark,hive,hbase,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils', deploy=False, parallel=4, release=False, repo=False, stack='ambari', upload_nexus=False)
2023-11-20 09:23:13,797 - bigdata_deploy_logger - INFO - Container is in running state, stopped it.
2023-11-20 09:23:16,289 - bigdata_deploy_logger - INFO - Container stopped and removed successfully.
2023-11-20 09:23:22,140 - bigdata_deploy_logger - INFO - Container started, ID: 34ace5a35036150c9445612e18e68bd745f337d64c9688176a51df4eda53befb
2023-11-20 09:23:22,140 - bigdata_deploy_logger - INFO - Container status: created
2023-11-20 09:23:22,140 - bigdata_deploy_logger - INFO - conf_str is '{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}'
2023-11-20 09:23:22,140 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', "echo 'export PYTHONPATH=/ws1/ci_tools/python:$PYTHONPATH' >> /etc/profile && source /etc/profile"], 'workdir': '/'}
2023-11-20 09:23:22,269 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b'')
2023-11-20 09:23:22,269 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"prepare_env": true, "local_repo": "/data/sdv1/repository", "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
2023-11-20 09:23:31,024 - bigdata_deploy_logger - INFO - command in docker: ExecResult(exit_code=0, output=b"2023-11-20 01:23:22,471 - bigdata_deploy_logger - INFO - params config: {'prepare_env': True, 'local_repo': '/data/sdv1/repository', 'proxy': '172.27.8.22:7890'},\n2023-11-20 01:23:22,471 - bigdata_deploy_logger - INFO - load_success_components: {'hive': '2023-11-17T05:38:36.962105', 'zookeeper': '2023-11-17T05:43:10.312508', 'kafka': '2023-11-17T05:47:24.283131', 'tez': '2023-11-17T05:52:03.545036', 'ambari-infra': '2023-11-17T06:02:27.522927', 'ranger': '2023-11-17T06:11:34.235816', 'bigtop-select': '2023-11-17T06:11:47.914090', 'bigtop-jsvc': '2023-11-17T06:12:13.384374', 'ambari-metrics': '2023-11-17T06:12:39.200817', 'bigtop-groovy': '2023-11-17T06:12:48.647688', 'bigtop-utils': '2023-11-17T06:12:52.876605', 'hbase': '2023-11-17T06:46:49.675660', 'flink': '2023-11-17T08:49:00.919010', 'ambari': '2023-11-17T08:58:01.478992', 'hadoop': '2023-11-17T09:14:24.364316', 'spark': '2023-11-17T09:51:49.404996'}\n2023-11-20 01:23:22,471 - bigdata_deploy_logger - INFO - set git config\n2023-11-20 01:23:22,532 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Base.repo --> /etc/yum.repos.d/bakup/CentOS-Base.repo\n2023-11-20 01:23:22,580 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-CR.repo --> /etc/yum.repos.d/bakup/CentOS-CR.repo\n2023-11-20 01:23:22,589 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Debuginfo.repo --> /etc/yum.repos.d/bakup/CentOS-Debuginfo.repo\n2023-11-20 01:23:22,630 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Media.repo --> /etc/yum.repos.d/bakup/CentOS-Media.repo\n2023-11-20 01:23:22,698 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Sources.repo --> /etc/yum.repos.d/bakup/CentOS-Sources.repo\n2023-11-20 01:23:22,728 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-Vault.repo --> /etc/yum.repos.d/bakup/CentOS-Vault.repo\n2023-11-20 01:23:22,774 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-fasttrack.repo --> /etc/yum.repos.d/bakup/CentOS-fasttrack.repo\n2023-11-20 01:23:22,816 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/CentOS-x86_64-kernel.repo --> /etc/yum.repos.d/bakup/CentOS-x86_64-kernel.repo\n2023-11-20 01:23:22,818 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel-testing.repo --> /etc/yum.repos.d/bakup/epel-testing.repo\n2023-11-20 01:23:22,981 - bigdata_deploy_logger - INFO - Moved file: /etc/yum.repos.d/epel.repo --> /etc/yum.repos.d/bakup/epel.repo\n2023-11-20 01:23:22,988 - bigdata_deploy_logger - INFO - full_os_and_major_version is redhat7\n2023-11-20 01:23:22,988 - bigdata_deploy_logger - INFO - write new repo /etc/yum.repos.d/redhat7.repo to /etc/yum.repos.d/redhat7.repo\n2023-11-20 01:23:30,908 - bigdata_deploy_logger - INFO - skip broken repo set: yum-config-manager --save --setopt=*.skip_if_unavailable=true skip unavailable 0\n2023-11-20 01:23:30,985 - bigdata_deploy_logger - INFO - set maven conf\n2023-11-20 01:23:30,992 - bigdata_deploy_logger - INFO - set web compile envirment\n2023-11-20 01:23:30,992 - bigdata_deploy_logger - INFO - set npm registry\n2023-11-20 01:23:30,992 - bigdata_deploy_logger - INFO - set yarn registry\n2023-11-20 01:23:30,992 - bigdata_deploy_logger - INFO - set bower proxy\n2023-11-20 01:23:30,992 - bigdata_deploy_logger - INFO - component build success s\n")
2023-11-20 09:23:31,029 - bigdata_deploy_logger - INFO - Executing command: () {'cmd': ['/bin/bash', '-c', 'source /etc/profile && python3 /ws1/ci_tools/python/bigtop_compile/bigtop_utils.py --config=\'{"clean_all": true, "clean_components": false, "components": "hadoop,spark,hive,hbase,zookeeper,kafka,flink,ranger,tez,ambari,ambari-infra,ambari-metrics,bigtop-select,bigtop-jsvc,bigtop-groovy,bigtop-utils", "stack": "ambari", "max_workers": 4, "repo": false, "proxy": "172.27.8.22:7890"}\''], 'workdir': '/ws1/ci_tools'}
